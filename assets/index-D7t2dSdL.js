var yy=r=>{throw TypeError(r)};var vh=(r,t,e)=>t.has(r)||yy("Cannot "+e);var Vt=(r,t,e)=>(vh(r,t,"read from private field"),e?e.call(r):t.get(r)),Ci=(r,t,e)=>t.has(r)?yy("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(r):t.set(r,e),ze=(r,t,e,s)=>(vh(r,t,"write to private field"),s?s.call(r,e):t.set(r,e),e),Mi=(r,t,e)=>(vh(r,t,"access private method"),e);var by=(r,t,e,s)=>({set _(a){ze(r,t,a,e)},get _(){return Vt(r,t,s)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function e(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=e(a);fetch(a.href,l)}})();function db(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Ah={exports:{}},wr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vy;function Yx(){if(vy)return wr;vy=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:r,type:s,key:c,ref:a!==void 0?a:null,props:l}}return wr.Fragment=t,wr.jsx=e,wr.jsxs=e,wr}var Ay;function $x(){return Ay||(Ay=1,Ah.exports=Yx()),Ah.exports}var O=$x(),Sh={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sy;function Wx(){if(Sy)return St;Sy=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function b(I){return I===null||typeof I!="object"?null:(I=y&&I[y]||I["@@iterator"],typeof I=="function"?I:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,T={};function R(I,W,J){this.props=I,this.context=W,this.refs=T,this.updater=J||S}R.prototype.isReactComponent={},R.prototype.setState=function(I,W){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,W,"setState")},R.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function M(){}M.prototype=R.prototype;function N(I,W,J){this.props=I,this.context=W,this.refs=T,this.updater=J||S}var C=N.prototype=new M;C.constructor=N,w(C,R.prototype),C.isPureReactComponent=!0;var v=Array.isArray,A={H:null,A:null,T:null,S:null,V:null},_=Object.prototype.hasOwnProperty;function D(I,W,J,Z,rt,At){return J=At.ref,{$$typeof:r,type:I,key:W,ref:J!==void 0?J:null,props:At}}function P(I,W){return D(I.type,W,void 0,void 0,void 0,I.props)}function L(I){return typeof I=="object"&&I!==null&&I.$$typeof===r}function q(I){var W={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(J){return W[J]})}var X=/\/+/g;function tt(I,W){return typeof I=="object"&&I!==null&&I.key!=null?q(""+I.key):W.toString(36)}function at(){}function it(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(at,at):(I.status="pending",I.then(function(W){I.status==="pending"&&(I.status="fulfilled",I.value=W)},function(W){I.status==="pending"&&(I.status="rejected",I.reason=W)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function pt(I,W,J,Z,rt){var At=typeof I;(At==="undefined"||At==="boolean")&&(I=null);var ct=!1;if(I===null)ct=!0;else switch(At){case"bigint":case"string":case"number":ct=!0;break;case"object":switch(I.$$typeof){case r:case t:ct=!0;break;case g:return ct=I._init,pt(ct(I._payload),W,J,Z,rt)}}if(ct)return rt=rt(I),ct=Z===""?"."+tt(I,0):Z,v(rt)?(J="",ct!=null&&(J=ct.replace(X,"$&/")+"/"),pt(rt,W,J,"",function(Ai){return Ai})):rt!=null&&(L(rt)&&(rt=P(rt,J+(rt.key==null||I&&I.key===rt.key?"":(""+rt.key).replace(X,"$&/")+"/")+ct)),W.push(rt)),1;ct=0;var Ct=Z===""?".":Z+":";if(v(I))for(var Lt=0;Lt<I.length;Lt++)Z=I[Lt],At=Ct+tt(Z,Lt),ct+=pt(Z,W,J,At,rt);else if(Lt=b(I),typeof Lt=="function")for(I=Lt.call(I),Lt=0;!(Z=I.next()).done;)Z=Z.value,At=Ct+tt(Z,Lt++),ct+=pt(Z,W,J,At,rt);else if(At==="object"){if(typeof I.then=="function")return pt(it(I),W,J,Z,rt);throw W=String(I),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return ct}function j(I,W,J){if(I==null)return I;var Z=[],rt=0;return pt(I,Z,"","",function(At){return W.call(J,At,rt++)}),Z}function U(I){if(I._status===-1){var W=I._result;W=W(),W.then(function(J){(I._status===0||I._status===-1)&&(I._status=1,I._result=J)},function(J){(I._status===0||I._status===-1)&&(I._status=2,I._result=J)}),I._status===-1&&(I._status=0,I._result=W)}if(I._status===1)return I._result.default;throw I._result}var et=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function yt(){}return St.Children={map:j,forEach:function(I,W,J){j(I,function(){W.apply(this,arguments)},J)},count:function(I){var W=0;return j(I,function(){W++}),W},toArray:function(I){return j(I,function(W){return W})||[]},only:function(I){if(!L(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},St.Component=R,St.Fragment=e,St.Profiler=a,St.PureComponent=N,St.StrictMode=s,St.Suspense=d,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,St.__COMPILER_RUNTIME={__proto__:null,c:function(I){return A.H.useMemoCache(I)}},St.cache=function(I){return function(){return I.apply(null,arguments)}},St.cloneElement=function(I,W,J){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var Z=w({},I.props),rt=I.key,At=void 0;if(W!=null)for(ct in W.ref!==void 0&&(At=void 0),W.key!==void 0&&(rt=""+W.key),W)!_.call(W,ct)||ct==="key"||ct==="__self"||ct==="__source"||ct==="ref"&&W.ref===void 0||(Z[ct]=W[ct]);var ct=arguments.length-2;if(ct===1)Z.children=J;else if(1<ct){for(var Ct=Array(ct),Lt=0;Lt<ct;Lt++)Ct[Lt]=arguments[Lt+2];Z.children=Ct}return D(I.type,rt,void 0,void 0,At,Z)},St.createContext=function(I){return I={$$typeof:c,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:l,_context:I},I},St.createElement=function(I,W,J){var Z,rt={},At=null;if(W!=null)for(Z in W.key!==void 0&&(At=""+W.key),W)_.call(W,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(rt[Z]=W[Z]);var ct=arguments.length-2;if(ct===1)rt.children=J;else if(1<ct){for(var Ct=Array(ct),Lt=0;Lt<ct;Lt++)Ct[Lt]=arguments[Lt+2];rt.children=Ct}if(I&&I.defaultProps)for(Z in ct=I.defaultProps,ct)rt[Z]===void 0&&(rt[Z]=ct[Z]);return D(I,At,void 0,void 0,null,rt)},St.createRef=function(){return{current:null}},St.forwardRef=function(I){return{$$typeof:h,render:I}},St.isValidElement=L,St.lazy=function(I){return{$$typeof:g,_payload:{_status:-1,_result:I},_init:U}},St.memo=function(I,W){return{$$typeof:f,type:I,compare:W===void 0?null:W}},St.startTransition=function(I){var W=A.T,J={};A.T=J;try{var Z=I(),rt=A.S;rt!==null&&rt(J,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(yt,et)}catch(At){et(At)}finally{A.T=W}},St.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},St.use=function(I){return A.H.use(I)},St.useActionState=function(I,W,J){return A.H.useActionState(I,W,J)},St.useCallback=function(I,W){return A.H.useCallback(I,W)},St.useContext=function(I){return A.H.useContext(I)},St.useDebugValue=function(){},St.useDeferredValue=function(I,W){return A.H.useDeferredValue(I,W)},St.useEffect=function(I,W,J){var Z=A.H;if(typeof J=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Z.useEffect(I,W)},St.useId=function(){return A.H.useId()},St.useImperativeHandle=function(I,W,J){return A.H.useImperativeHandle(I,W,J)},St.useInsertionEffect=function(I,W){return A.H.useInsertionEffect(I,W)},St.useLayoutEffect=function(I,W){return A.H.useLayoutEffect(I,W)},St.useMemo=function(I,W){return A.H.useMemo(I,W)},St.useOptimistic=function(I,W){return A.H.useOptimistic(I,W)},St.useReducer=function(I,W,J){return A.H.useReducer(I,W,J)},St.useRef=function(I){return A.H.useRef(I)},St.useState=function(I){return A.H.useState(I)},St.useSyncExternalStore=function(I,W,J){return A.H.useSyncExternalStore(I,W,J)},St.useTransition=function(){return A.H.useTransition()},St.version="19.1.1",St}var xy;function Cd(){return xy||(xy=1,Sh.exports=Wx()),Sh.exports}var Q=Cd();const Ps=db(Q);var xh={exports:{}},Tr={},wh={exports:{}},Th={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wy;function Kx(){return wy||(wy=1,(function(r){function t(j,U){var et=j.length;j.push(U);t:for(;0<et;){var yt=et-1>>>1,I=j[yt];if(0<a(I,U))j[yt]=U,j[et]=I,et=yt;else break t}}function e(j){return j.length===0?null:j[0]}function s(j){if(j.length===0)return null;var U=j[0],et=j.pop();if(et!==U){j[0]=et;t:for(var yt=0,I=j.length,W=I>>>1;yt<W;){var J=2*(yt+1)-1,Z=j[J],rt=J+1,At=j[rt];if(0>a(Z,et))rt<I&&0>a(At,Z)?(j[yt]=At,j[rt]=et,yt=rt):(j[yt]=Z,j[J]=et,yt=J);else if(rt<I&&0>a(At,et))j[yt]=At,j[rt]=et,yt=rt;else break t}}return U}function a(j,U){var et=j.sortIndex-U.sortIndex;return et!==0?et:j.id-U.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();r.unstable_now=function(){return c.now()-h}}var d=[],f=[],g=1,y=null,b=3,S=!1,w=!1,T=!1,R=!1,M=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function v(j){for(var U=e(f);U!==null;){if(U.callback===null)s(f);else if(U.startTime<=j)s(f),U.sortIndex=U.expirationTime,t(d,U);else break;U=e(f)}}function A(j){if(T=!1,v(j),!w)if(e(d)!==null)w=!0,_||(_=!0,tt());else{var U=e(f);U!==null&&pt(A,U.startTime-j)}}var _=!1,D=-1,P=5,L=-1;function q(){return R?!0:!(r.unstable_now()-L<P)}function X(){if(R=!1,_){var j=r.unstable_now();L=j;var U=!0;try{t:{w=!1,T&&(T=!1,N(D),D=-1),S=!0;var et=b;try{e:{for(v(j),y=e(d);y!==null&&!(y.expirationTime>j&&q());){var yt=y.callback;if(typeof yt=="function"){y.callback=null,b=y.priorityLevel;var I=yt(y.expirationTime<=j);if(j=r.unstable_now(),typeof I=="function"){y.callback=I,v(j),U=!0;break e}y===e(d)&&s(d),v(j)}else s(d);y=e(d)}if(y!==null)U=!0;else{var W=e(f);W!==null&&pt(A,W.startTime-j),U=!1}}break t}finally{y=null,b=et,S=!1}U=void 0}}finally{U?tt():_=!1}}}var tt;if(typeof C=="function")tt=function(){C(X)};else if(typeof MessageChannel<"u"){var at=new MessageChannel,it=at.port2;at.port1.onmessage=X,tt=function(){it.postMessage(null)}}else tt=function(){M(X,0)};function pt(j,U){D=M(function(){j(r.unstable_now())},U)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(j){j.callback=null},r.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<j?Math.floor(1e3/j):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function(j){switch(b){case 1:case 2:case 3:var U=3;break;default:U=b}var et=b;b=U;try{return j()}finally{b=et}},r.unstable_requestPaint=function(){R=!0},r.unstable_runWithPriority=function(j,U){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var et=b;b=j;try{return U()}finally{b=et}},r.unstable_scheduleCallback=function(j,U,et){var yt=r.unstable_now();switch(typeof et=="object"&&et!==null?(et=et.delay,et=typeof et=="number"&&0<et?yt+et:yt):et=yt,j){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=et+I,j={id:g++,callback:U,priorityLevel:j,startTime:et,expirationTime:I,sortIndex:-1},et>yt?(j.sortIndex=et,t(f,j),e(d)===null&&j===e(f)&&(T?(N(D),D=-1):T=!0,pt(A,et-yt))):(j.sortIndex=I,t(d,j),w||S||(w=!0,_||(_=!0,tt()))),j},r.unstable_shouldYield=q,r.unstable_wrapCallback=function(j){var U=b;return function(){var et=b;b=U;try{return j.apply(this,arguments)}finally{b=et}}}})(Th)),Th}var Ty;function Qx(){return Ty||(Ty=1,wh.exports=Kx()),wh.exports}var _h={exports:{}},_e={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _y;function Zx(){if(_y)return _e;_y=1;var r=Cd();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var s={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(d,f,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:y==null?null:""+y,children:d,containerInfo:f,implementation:g}}var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return _e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,_e.createPortal=function(d,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return l(d,f,null,g)},_e.flushSync=function(d){var f=c.T,g=s.p;try{if(c.T=null,s.p=2,d)return d()}finally{c.T=f,s.p=g,s.d.f()}},_e.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,s.d.C(d,f))},_e.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},_e.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var g=f.as,y=h(g,f.crossOrigin),b=typeof f.integrity=="string"?f.integrity:void 0,S=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?s.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:S}):g==="script"&&s.d.X(d,{crossOrigin:y,integrity:b,fetchPriority:S,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},_e.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=h(f.as,f.crossOrigin);s.d.M(d,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&s.d.M(d)},_e.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,y=h(g,f.crossOrigin);s.d.L(d,g,{crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},_e.preloadModule=function(d,f){if(typeof d=="string")if(f){var g=h(f.as,f.crossOrigin);s.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else s.d.m(d)},_e.requestFormReset=function(d){s.d.r(d)},_e.unstable_batchedUpdates=function(d,f){return d(f)},_e.useFormState=function(d,f,g){return c.H.useFormState(d,f,g)},_e.useFormStatus=function(){return c.H.useHostTransitionStatus()},_e.version="19.1.1",_e}var Ey;function Jx(){if(Ey)return _h.exports;Ey=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),_h.exports=Zx(),_h.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cy;function t1(){if(Cy)return Tr;Cy=1;var r=Qx(),t=Cd(),e=Jx();function s(i){var n="https://react.dev/errors/"+i;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var n=i,o=i;if(i.alternate)for(;n.return;)n=n.return;else{i=n;do n=i,(n.flags&4098)!==0&&(o=n.return),i=n.return;while(i)}return n.tag===3?o:null}function c(i){if(i.tag===13){var n=i.memoizedState;if(n===null&&(i=i.alternate,i!==null&&(n=i.memoizedState)),n!==null)return n.dehydrated}return null}function h(i){if(l(i)!==i)throw Error(s(188))}function d(i){var n=i.alternate;if(!n){if(n=l(i),n===null)throw Error(s(188));return n!==i?null:i}for(var o=i,u=n;;){var p=o.return;if(p===null)break;var m=p.alternate;if(m===null){if(u=p.return,u!==null){o=u;continue}break}if(p.child===m.child){for(m=p.child;m;){if(m===o)return h(p),i;if(m===u)return h(p),n;m=m.sibling}throw Error(s(188))}if(o.return!==u.return)o=p,u=m;else{for(var x=!1,E=p.child;E;){if(E===o){x=!0,o=p,u=m;break}if(E===u){x=!0,u=p,o=m;break}E=E.sibling}if(!x){for(E=m.child;E;){if(E===o){x=!0,o=m,u=p;break}if(E===u){x=!0,u=m,o=p;break}E=E.sibling}if(!x)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:n}function f(i){var n=i.tag;if(n===5||n===26||n===27||n===6)return i;for(i=i.child;i!==null;){if(n=f(i),n!==null)return n;i=i.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),N=Symbol.for("react.consumer"),C=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function tt(i){return i===null||typeof i!="object"?null:(i=X&&i[X]||i["@@iterator"],typeof i=="function"?i:null)}var at=Symbol.for("react.client.reference");function it(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===at?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case w:return"Fragment";case R:return"Profiler";case T:return"StrictMode";case A:return"Suspense";case _:return"SuspenseList";case L:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case S:return"Portal";case C:return(i.displayName||"Context")+".Provider";case N:return(i._context.displayName||"Context")+".Consumer";case v:var n=i.render;return i=i.displayName,i||(i=n.displayName||n.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case D:return n=i.displayName||null,n!==null?n:it(i.type)||"Memo";case P:n=i._payload,i=i._init;try{return it(i(n))}catch{}}return null}var pt=Array.isArray,j=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et={pending:!1,data:null,method:null,action:null},yt=[],I=-1;function W(i){return{current:i}}function J(i){0>I||(i.current=yt[I],yt[I]=null,I--)}function Z(i,n){I++,yt[I]=i.current,i.current=n}var rt=W(null),At=W(null),ct=W(null),Ct=W(null);function Lt(i,n){switch(Z(ct,n),Z(At,i),Z(rt,null),n.nodeType){case 9:case 11:i=(i=n.documentElement)&&(i=i.namespaceURI)?qm(i):0;break;default:if(i=n.tagName,n=n.namespaceURI)n=qm(n),i=Xm(n,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}J(rt),Z(rt,i)}function Ai(){J(rt),J(At),J(ct)}function Ta(i){i.memoizedState!==null&&Z(Ct,i);var n=rt.current,o=Xm(n,i.type);n!==o&&(Z(At,i),Z(rt,o))}function ss(i){At.current===i&&(J(rt),J(At)),Ct.current===i&&(J(Ct),br._currentValue=et)}var js=Object.prototype.hasOwnProperty,bn=r.unstable_scheduleCallback,_a=r.unstable_cancelCallback,_A=r.unstable_shouldYield,EA=r.unstable_requestPaint,Si=r.unstable_now,CA=r.unstable_getCurrentPriorityLevel,_f=r.unstable_ImmediatePriority,Ef=r.unstable_UserBlockingPriority,ro=r.unstable_NormalPriority,MA=r.unstable_LowPriority,Cf=r.unstable_IdlePriority,RA=r.log,DA=r.unstable_setDisableYieldValue,Ea=null,Ue=null;function ns(i){if(typeof RA=="function"&&DA(i),Ue&&typeof Ue.setStrictMode=="function")try{Ue.setStrictMode(Ea,i)}catch{}}var Ge=Math.clz32?Math.clz32:NA,PA=Math.log,LA=Math.LN2;function NA(i){return i>>>=0,i===0?32:31-(PA(i)/LA|0)|0}var oo=256,lo=4194304;function zs(i){var n=i&42;if(n!==0)return n;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function co(i,n,o){var u=i.pendingLanes;if(u===0)return 0;var p=0,m=i.suspendedLanes,x=i.pingedLanes;i=i.warmLanes;var E=u&134217727;return E!==0?(u=E&~m,u!==0?p=zs(u):(x&=E,x!==0?p=zs(x):o||(o=E&~i,o!==0&&(p=zs(o))))):(E=u&~m,E!==0?p=zs(E):x!==0?p=zs(x):o||(o=u&~i,o!==0&&(p=zs(o)))),p===0?0:n!==0&&n!==p&&(n&m)===0&&(m=p&-p,o=n&-n,m>=o||m===32&&(o&4194048)!==0)?n:p}function Ca(i,n){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&n)===0}function OA(i,n){switch(i){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mf(){var i=oo;return oo<<=1,(oo&4194048)===0&&(oo=256),i}function Rf(){var i=lo;return lo<<=1,(lo&62914560)===0&&(lo=4194304),i}function lc(i){for(var n=[],o=0;31>o;o++)n.push(i);return n}function Ma(i,n){i.pendingLanes|=n,n!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function kA(i,n,o,u,p,m){var x=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var E=i.entanglements,k=i.expirationTimes,H=i.hiddenUpdates;for(o=x&~o;0<o;){var Y=31-Ge(o),K=1<<Y;E[Y]=0,k[Y]=-1;var V=H[Y];if(V!==null)for(H[Y]=null,Y=0;Y<V.length;Y++){var G=V[Y];G!==null&&(G.lane&=-536870913)}o&=~K}u!==0&&Df(i,u,0),m!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=m&~(x&~n))}function Df(i,n,o){i.pendingLanes|=n,i.suspendedLanes&=~n;var u=31-Ge(n);i.entangledLanes|=n,i.entanglements[u]=i.entanglements[u]|1073741824|o&4194090}function Pf(i,n){var o=i.entangledLanes|=n;for(i=i.entanglements;o;){var u=31-Ge(o),p=1<<u;p&n|i[u]&n&&(i[u]|=n),o&=~p}}function cc(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function uc(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Lf(){var i=U.p;return i!==0?i:(i=window.event,i===void 0?32:hy(i.type))}function IA(i,n){var o=U.p;try{return U.p=i,n()}finally{U.p=o}}var as=Math.random().toString(36).slice(2),we="__reactFiber$"+as,Oe="__reactProps$"+as,vn="__reactContainer$"+as,hc="__reactEvents$"+as,BA="__reactListeners$"+as,jA="__reactHandles$"+as,Nf="__reactResources$"+as,Ra="__reactMarker$"+as;function dc(i){delete i[we],delete i[Oe],delete i[hc],delete i[BA],delete i[jA]}function An(i){var n=i[we];if(n)return n;for(var o=i.parentNode;o;){if(n=o[vn]||o[we]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(i=Km(i);i!==null;){if(o=i[we])return o;i=Km(i)}return n}i=o,o=i.parentNode}return null}function Sn(i){if(i=i[we]||i[vn]){var n=i.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return i}return null}function Da(i){var n=i.tag;if(n===5||n===26||n===27||n===6)return i.stateNode;throw Error(s(33))}function xn(i){var n=i[Nf];return n||(n=i[Nf]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function de(i){i[Ra]=!0}var Of=new Set,kf={};function Fs(i,n){wn(i,n),wn(i+"Capture",n)}function wn(i,n){for(kf[i]=n,i=0;i<n.length;i++)Of.add(n[i])}var zA=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),If={},Bf={};function FA(i){return js.call(Bf,i)?!0:js.call(If,i)?!1:zA.test(i)?Bf[i]=!0:(If[i]=!0,!1)}function uo(i,n,o){if(FA(n))if(o===null)i.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(n);return;case"boolean":var u=n.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(n);return}}i.setAttribute(n,""+o)}}function ho(i,n,o){if(o===null)i.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(n);return}i.setAttribute(n,""+o)}}function Bi(i,n,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(n,o,""+u)}}var fc,jf;function Tn(i){if(fc===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);fc=n&&n[1]||"",jf=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fc+i+jf}var pc=!1;function gc(i,n){if(!i||pc)return"";pc=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(G){var V=G}Reflect.construct(i,[],K)}else{try{K.call()}catch(G){V=G}i.call(K.prototype)}}else{try{throw Error()}catch(G){V=G}(K=i())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(G){if(G&&V&&typeof G.stack=="string")return[G.stack,V.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),x=m[0],E=m[1];if(x&&E){var k=x.split(`
`),H=E.split(`
`);for(p=u=0;u<k.length&&!k[u].includes("DetermineComponentFrameRoot");)u++;for(;p<H.length&&!H[p].includes("DetermineComponentFrameRoot");)p++;if(u===k.length||p===H.length)for(u=k.length-1,p=H.length-1;1<=u&&0<=p&&k[u]!==H[p];)p--;for(;1<=u&&0<=p;u--,p--)if(k[u]!==H[p]){if(u!==1||p!==1)do if(u--,p--,0>p||k[u]!==H[p]){var Y=`
`+k[u].replace(" at new "," at ");return i.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",i.displayName)),Y}while(1<=u&&0<=p);break}}}finally{pc=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Tn(o):""}function HA(i){switch(i.tag){case 26:case 27:case 5:return Tn(i.type);case 16:return Tn("Lazy");case 13:return Tn("Suspense");case 19:return Tn("SuspenseList");case 0:case 15:return gc(i.type,!1);case 11:return gc(i.type.render,!1);case 1:return gc(i.type,!0);case 31:return Tn("Activity");default:return""}}function zf(i){try{var n="";do n+=HA(i),i=i.return;while(i);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function ti(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ff(i){var n=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function VA(i){var n=Ff(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,n),u=""+i[n];if(!i.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var p=o.get,m=o.set;return Object.defineProperty(i,n,{configurable:!0,get:function(){return p.call(this)},set:function(x){u=""+x,m.call(this,x)}}),Object.defineProperty(i,n,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(x){u=""+x},stopTracking:function(){i._valueTracker=null,delete i[n]}}}}function fo(i){i._valueTracker||(i._valueTracker=VA(i))}function Hf(i){if(!i)return!1;var n=i._valueTracker;if(!n)return!0;var o=n.getValue(),u="";return i&&(u=Ff(i)?i.checked?"true":"false":i.value),i=u,i!==o?(n.setValue(i),!0):!1}function po(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var UA=/[\n"\\]/g;function ei(i){return i.replace(UA,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function mc(i,n,o,u,p,m,x,E){i.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?i.type=x:i.removeAttribute("type"),n!=null?x==="number"?(n===0&&i.value===""||i.value!=n)&&(i.value=""+ti(n)):i.value!==""+ti(n)&&(i.value=""+ti(n)):x!=="submit"&&x!=="reset"||i.removeAttribute("value"),n!=null?yc(i,x,ti(n)):o!=null?yc(i,x,ti(o)):u!=null&&i.removeAttribute("value"),p==null&&m!=null&&(i.defaultChecked=!!m),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.name=""+ti(E):i.removeAttribute("name")}function Vf(i,n,o,u,p,m,x,E){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(i.type=m),n!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||n!=null))return;o=o!=null?""+ti(o):"",n=n!=null?""+ti(n):o,E||n===i.value||(i.value=n),i.defaultValue=n}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=E?i.checked:!!u,i.defaultChecked=!!u,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(i.name=x)}function yc(i,n,o){n==="number"&&po(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function _n(i,n,o,u){if(i=i.options,n){n={};for(var p=0;p<o.length;p++)n["$"+o[p]]=!0;for(o=0;o<i.length;o++)p=n.hasOwnProperty("$"+i[o].value),i[o].selected!==p&&(i[o].selected=p),p&&u&&(i[o].defaultSelected=!0)}else{for(o=""+ti(o),n=null,p=0;p<i.length;p++){if(i[p].value===o){i[p].selected=!0,u&&(i[p].defaultSelected=!0);return}n!==null||i[p].disabled||(n=i[p])}n!==null&&(n.selected=!0)}}function Uf(i,n,o){if(n!=null&&(n=""+ti(n),n!==i.value&&(i.value=n),o==null)){i.defaultValue!==n&&(i.defaultValue=n);return}i.defaultValue=o!=null?""+ti(o):""}function Gf(i,n,o,u){if(n==null){if(u!=null){if(o!=null)throw Error(s(92));if(pt(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),n=o}o=ti(n),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u)}function En(i,n){if(n){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=n;return}}i.textContent=n}var GA=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qf(i,n,o){var u=n.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(n,""):n==="float"?i.cssFloat="":i[n]="":u?i.setProperty(n,o):typeof o!="number"||o===0||GA.has(n)?n==="float"?i.cssFloat=o:i[n]=(""+o).trim():i[n]=o+"px"}function Xf(i,n,o){if(n!=null&&typeof n!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||n!=null&&n.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var p in n)u=n[p],n.hasOwnProperty(p)&&o[p]!==u&&qf(i,p,u)}else for(var m in n)n.hasOwnProperty(m)&&qf(i,m,n[m])}function bc(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qA=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),XA=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function go(i){return XA.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var vc=null;function Ac(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Cn=null,Mn=null;function Yf(i){var n=Sn(i);if(n&&(i=n.stateNode)){var o=i[Oe]||null;t:switch(i=n.stateNode,n.type){case"input":if(mc(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),n=o.name,o.type==="radio"&&n!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+ei(""+n)+'"][type="radio"]'),n=0;n<o.length;n++){var u=o[n];if(u!==i&&u.form===i.form){var p=u[Oe]||null;if(!p)throw Error(s(90));mc(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(n=0;n<o.length;n++)u=o[n],u.form===i.form&&Hf(u)}break t;case"textarea":Uf(i,o.value,o.defaultValue);break t;case"select":n=o.value,n!=null&&_n(i,!!o.multiple,n,!1)}}}var Sc=!1;function $f(i,n,o){if(Sc)return i(n,o);Sc=!0;try{var u=i(n);return u}finally{if(Sc=!1,(Cn!==null||Mn!==null)&&(tl(),Cn&&(n=Cn,i=Mn,Mn=Cn=null,Yf(n),i)))for(n=0;n<i.length;n++)Yf(i[n])}}function Pa(i,n){var o=i.stateNode;if(o===null)return null;var u=o[Oe]||null;if(u===null)return null;o=u[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,n,typeof o));return o}var ji=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xc=!1;if(ji)try{var La={};Object.defineProperty(La,"passive",{get:function(){xc=!0}}),window.addEventListener("test",La,La),window.removeEventListener("test",La,La)}catch{xc=!1}var rs=null,wc=null,mo=null;function Wf(){if(mo)return mo;var i,n=wc,o=n.length,u,p="value"in rs?rs.value:rs.textContent,m=p.length;for(i=0;i<o&&n[i]===p[i];i++);var x=o-i;for(u=1;u<=x&&n[o-u]===p[m-u];u++);return mo=p.slice(i,1<u?1-u:void 0)}function yo(i){var n=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&n===13&&(i=13)):i=n,i===10&&(i=13),32<=i||i===13?i:0}function bo(){return!0}function Kf(){return!1}function ke(i){function n(o,u,p,m,x){this._reactName=o,this._targetInst=p,this.type=u,this.nativeEvent=m,this.target=x,this.currentTarget=null;for(var E in i)i.hasOwnProperty(E)&&(o=i[E],this[E]=o?o(m):m[E]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?bo:Kf,this.isPropagationStopped=Kf,this}return g(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=bo)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=bo)},persist:function(){},isPersistent:bo}),n}var Hs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vo=ke(Hs),Na=g({},Hs,{view:0,detail:0}),YA=ke(Na),Tc,_c,Oa,Ao=g({},Na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cc,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Oa&&(Oa&&i.type==="mousemove"?(Tc=i.screenX-Oa.screenX,_c=i.screenY-Oa.screenY):_c=Tc=0,Oa=i),Tc)},movementY:function(i){return"movementY"in i?i.movementY:_c}}),Qf=ke(Ao),$A=g({},Ao,{dataTransfer:0}),WA=ke($A),KA=g({},Na,{relatedTarget:0}),Ec=ke(KA),QA=g({},Hs,{animationName:0,elapsedTime:0,pseudoElement:0}),ZA=ke(QA),JA=g({},Hs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),tS=ke(JA),eS=g({},Hs,{data:0}),Zf=ke(eS),iS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aS(i){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(i):(i=nS[i])?!!n[i]:!1}function Cc(){return aS}var rS=g({},Na,{key:function(i){if(i.key){var n=iS[i.key]||i.key;if(n!=="Unidentified")return n}return i.type==="keypress"?(i=yo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?sS[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cc,charCode:function(i){return i.type==="keypress"?yo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?yo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),oS=ke(rS),lS=g({},Ao,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jf=ke(lS),cS=g({},Na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cc}),uS=ke(cS),hS=g({},Hs,{propertyName:0,elapsedTime:0,pseudoElement:0}),dS=ke(hS),fS=g({},Ao,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),pS=ke(fS),gS=g({},Hs,{newState:0,oldState:0}),mS=ke(gS),yS=[9,13,27,32],Mc=ji&&"CompositionEvent"in window,ka=null;ji&&"documentMode"in document&&(ka=document.documentMode);var bS=ji&&"TextEvent"in window&&!ka,tp=ji&&(!Mc||ka&&8<ka&&11>=ka),ep=" ",ip=!1;function sp(i,n){switch(i){case"keyup":return yS.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function np(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Rn=!1;function vS(i,n){switch(i){case"compositionend":return np(n);case"keypress":return n.which!==32?null:(ip=!0,ep);case"textInput":return i=n.data,i===ep&&ip?null:i;default:return null}}function AS(i,n){if(Rn)return i==="compositionend"||!Mc&&sp(i,n)?(i=Wf(),mo=wc=rs=null,Rn=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return tp&&n.locale!=="ko"?null:n.data;default:return null}}var SS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ap(i){var n=i&&i.nodeName&&i.nodeName.toLowerCase();return n==="input"?!!SS[i.type]:n==="textarea"}function rp(i,n,o,u){Cn?Mn?Mn.push(u):Mn=[u]:Cn=u,n=rl(n,"onChange"),0<n.length&&(o=new vo("onChange","change",null,o,u),i.push({event:o,listeners:n}))}var Ia=null,Ba=null;function xS(i){Fm(i,0)}function So(i){var n=Da(i);if(Hf(n))return i}function op(i,n){if(i==="change")return n}var lp=!1;if(ji){var Rc;if(ji){var Dc="oninput"in document;if(!Dc){var cp=document.createElement("div");cp.setAttribute("oninput","return;"),Dc=typeof cp.oninput=="function"}Rc=Dc}else Rc=!1;lp=Rc&&(!document.documentMode||9<document.documentMode)}function up(){Ia&&(Ia.detachEvent("onpropertychange",hp),Ba=Ia=null)}function hp(i){if(i.propertyName==="value"&&So(Ba)){var n=[];rp(n,Ba,i,Ac(i)),$f(xS,n)}}function wS(i,n,o){i==="focusin"?(up(),Ia=n,Ba=o,Ia.attachEvent("onpropertychange",hp)):i==="focusout"&&up()}function TS(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return So(Ba)}function _S(i,n){if(i==="click")return So(n)}function ES(i,n){if(i==="input"||i==="change")return So(n)}function CS(i,n){return i===n&&(i!==0||1/i===1/n)||i!==i&&n!==n}var qe=typeof Object.is=="function"?Object.is:CS;function ja(i,n){if(qe(i,n))return!0;if(typeof i!="object"||i===null||typeof n!="object"||n===null)return!1;var o=Object.keys(i),u=Object.keys(n);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var p=o[u];if(!js.call(n,p)||!qe(i[p],n[p]))return!1}return!0}function dp(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function fp(i,n){var o=dp(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=n&&u>=n)return{node:o,offset:n-i};i=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=dp(o)}}function pp(i,n){return i&&n?i===n?!0:i&&i.nodeType===3?!1:n&&n.nodeType===3?pp(i,n.parentNode):"contains"in i?i.contains(n):i.compareDocumentPosition?!!(i.compareDocumentPosition(n)&16):!1:!1}function gp(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var n=po(i.document);n instanceof i.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)i=n.contentWindow;else break;n=po(i.document)}return n}function Pc(i){var n=i&&i.nodeName&&i.nodeName.toLowerCase();return n&&(n==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||n==="textarea"||i.contentEditable==="true")}var MS=ji&&"documentMode"in document&&11>=document.documentMode,Dn=null,Lc=null,za=null,Nc=!1;function mp(i,n,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Nc||Dn==null||Dn!==po(u)||(u=Dn,"selectionStart"in u&&Pc(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),za&&ja(za,u)||(za=u,u=rl(Lc,"onSelect"),0<u.length&&(n=new vo("onSelect","select",null,n,o),i.push({event:n,listeners:u}),n.target=Dn)))}function Vs(i,n){var o={};return o[i.toLowerCase()]=n.toLowerCase(),o["Webkit"+i]="webkit"+n,o["Moz"+i]="moz"+n,o}var Pn={animationend:Vs("Animation","AnimationEnd"),animationiteration:Vs("Animation","AnimationIteration"),animationstart:Vs("Animation","AnimationStart"),transitionrun:Vs("Transition","TransitionRun"),transitionstart:Vs("Transition","TransitionStart"),transitioncancel:Vs("Transition","TransitionCancel"),transitionend:Vs("Transition","TransitionEnd")},Oc={},yp={};ji&&(yp=document.createElement("div").style,"AnimationEvent"in window||(delete Pn.animationend.animation,delete Pn.animationiteration.animation,delete Pn.animationstart.animation),"TransitionEvent"in window||delete Pn.transitionend.transition);function Us(i){if(Oc[i])return Oc[i];if(!Pn[i])return i;var n=Pn[i],o;for(o in n)if(n.hasOwnProperty(o)&&o in yp)return Oc[i]=n[o];return i}var bp=Us("animationend"),vp=Us("animationiteration"),Ap=Us("animationstart"),RS=Us("transitionrun"),DS=Us("transitionstart"),PS=Us("transitioncancel"),Sp=Us("transitionend"),xp=new Map,kc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kc.push("scrollEnd");function gi(i,n){xp.set(i,n),Fs(n,[i])}var wp=new WeakMap;function ii(i,n){if(typeof i=="object"&&i!==null){var o=wp.get(i);return o!==void 0?o:(n={value:i,source:n,stack:zf(n)},wp.set(i,n),n)}return{value:i,source:n,stack:zf(n)}}var si=[],Ln=0,Ic=0;function xo(){for(var i=Ln,n=Ic=Ln=0;n<i;){var o=si[n];si[n++]=null;var u=si[n];si[n++]=null;var p=si[n];si[n++]=null;var m=si[n];if(si[n++]=null,u!==null&&p!==null){var x=u.pending;x===null?p.next=p:(p.next=x.next,x.next=p),u.pending=p}m!==0&&Tp(o,p,m)}}function wo(i,n,o,u){si[Ln++]=i,si[Ln++]=n,si[Ln++]=o,si[Ln++]=u,Ic|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Bc(i,n,o,u){return wo(i,n,o,u),To(i)}function Nn(i,n){return wo(i,null,null,n),To(i)}function Tp(i,n,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var p=!1,m=i.return;m!==null;)m.childLanes|=o,u=m.alternate,u!==null&&(u.childLanes|=o),m.tag===22&&(i=m.stateNode,i===null||i._visibility&1||(p=!0)),i=m,m=m.return;return i.tag===3?(m=i.stateNode,p&&n!==null&&(p=31-Ge(o),i=m.hiddenUpdates,u=i[p],u===null?i[p]=[n]:u.push(n),n.lane=o|536870912),m):null}function To(i){if(50<ur)throw ur=0,Uu=null,Error(s(185));for(var n=i.return;n!==null;)i=n,n=i.return;return i.tag===3?i.stateNode:null}var On={};function LS(i,n,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xe(i,n,o,u){return new LS(i,n,o,u)}function jc(i){return i=i.prototype,!(!i||!i.isReactComponent)}function zi(i,n){var o=i.alternate;return o===null?(o=Xe(i.tag,n,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=n,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,n=i.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function _p(i,n){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=n,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,n=o.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),i}function _o(i,n,o,u,p,m){var x=0;if(u=i,typeof i=="function")jc(i)&&(x=1);else if(typeof i=="string")x=Ox(i,o,rt.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case L:return i=Xe(31,o,n,p),i.elementType=L,i.lanes=m,i;case w:return Gs(o.children,p,m,n);case T:x=8,p|=24;break;case R:return i=Xe(12,o,n,p|2),i.elementType=R,i.lanes=m,i;case A:return i=Xe(13,o,n,p),i.elementType=A,i.lanes=m,i;case _:return i=Xe(19,o,n,p),i.elementType=_,i.lanes=m,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case M:case C:x=10;break t;case N:x=9;break t;case v:x=11;break t;case D:x=14;break t;case P:x=16,u=null;break t}x=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return n=Xe(x,o,n,p),n.elementType=i,n.type=u,n.lanes=m,n}function Gs(i,n,o,u){return i=Xe(7,i,u,n),i.lanes=o,i}function zc(i,n,o){return i=Xe(6,i,null,n),i.lanes=o,i}function Fc(i,n,o){return n=Xe(4,i.children!==null?i.children:[],i.key,n),n.lanes=o,n.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},n}var kn=[],In=0,Eo=null,Co=0,ni=[],ai=0,qs=null,Fi=1,Hi="";function Xs(i,n){kn[In++]=Co,kn[In++]=Eo,Eo=i,Co=n}function Ep(i,n,o){ni[ai++]=Fi,ni[ai++]=Hi,ni[ai++]=qs,qs=i;var u=Fi;i=Hi;var p=32-Ge(u)-1;u&=~(1<<p),o+=1;var m=32-Ge(n)+p;if(30<m){var x=p-p%5;m=(u&(1<<x)-1).toString(32),u>>=x,p-=x,Fi=1<<32-Ge(n)+p|o<<p|u,Hi=m+i}else Fi=1<<m|o<<p|u,Hi=i}function Hc(i){i.return!==null&&(Xs(i,1),Ep(i,1,0))}function Vc(i){for(;i===Eo;)Eo=kn[--In],kn[In]=null,Co=kn[--In],kn[In]=null;for(;i===qs;)qs=ni[--ai],ni[ai]=null,Hi=ni[--ai],ni[ai]=null,Fi=ni[--ai],ni[ai]=null}var Me=null,$t=null,Pt=!1,Ys=null,xi=!1,Uc=Error(s(519));function $s(i){var n=Error(s(418,""));throw Va(ii(n,i)),Uc}function Cp(i){var n=i.stateNode,o=i.type,u=i.memoizedProps;switch(n[we]=i,n[Oe]=u,o){case"dialog":Et("cancel",n),Et("close",n);break;case"iframe":case"object":case"embed":Et("load",n);break;case"video":case"audio":for(o=0;o<dr.length;o++)Et(dr[o],n);break;case"source":Et("error",n);break;case"img":case"image":case"link":Et("error",n),Et("load",n);break;case"details":Et("toggle",n);break;case"input":Et("invalid",n),Vf(n,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),fo(n);break;case"select":Et("invalid",n);break;case"textarea":Et("invalid",n),Gf(n,u.value,u.defaultValue,u.children),fo(n)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||n.textContent===""+o||u.suppressHydrationWarning===!0||Gm(n.textContent,o)?(u.popover!=null&&(Et("beforetoggle",n),Et("toggle",n)),u.onScroll!=null&&Et("scroll",n),u.onScrollEnd!=null&&Et("scrollend",n),u.onClick!=null&&(n.onclick=ol),n=!0):n=!1,n||$s(i)}function Mp(i){for(Me=i.return;Me;)switch(Me.tag){case 5:case 13:xi=!1;return;case 27:case 3:xi=!0;return;default:Me=Me.return}}function Fa(i){if(i!==Me)return!1;if(!Pt)return Mp(i),Pt=!0,!1;var n=i.tag,o;if((o=n!==3&&n!==27)&&((o=n===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||ah(i.type,i.memoizedProps)),o=!o),o&&$t&&$s(i),Mp(i),n===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));t:{for(i=i.nextSibling,n=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(n===0){$t=yi(i.nextSibling);break t}n--}else o!=="$"&&o!=="$!"&&o!=="$?"||n++;i=i.nextSibling}$t=null}}else n===27?(n=$t,xs(i.type)?(i=ch,ch=null,$t=i):$t=n):$t=Me?yi(i.stateNode.nextSibling):null;return!0}function Ha(){$t=Me=null,Pt=!1}function Rp(){var i=Ys;return i!==null&&(je===null?je=i:je.push.apply(je,i),Ys=null),i}function Va(i){Ys===null?Ys=[i]:Ys.push(i)}var Gc=W(null),Ws=null,Vi=null;function os(i,n,o){Z(Gc,n._currentValue),n._currentValue=o}function Ui(i){i._currentValue=Gc.current,J(Gc)}function qc(i,n,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&n)!==n?(i.childLanes|=n,u!==null&&(u.childLanes|=n)):u!==null&&(u.childLanes&n)!==n&&(u.childLanes|=n),i===o)break;i=i.return}}function Xc(i,n,o,u){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var m=p.dependencies;if(m!==null){var x=p.child;m=m.firstContext;t:for(;m!==null;){var E=m;m=p;for(var k=0;k<n.length;k++)if(E.context===n[k]){m.lanes|=o,E=m.alternate,E!==null&&(E.lanes|=o),qc(m.return,o,i),u||(x=null);break t}m=E.next}}else if(p.tag===18){if(x=p.return,x===null)throw Error(s(341));x.lanes|=o,m=x.alternate,m!==null&&(m.lanes|=o),qc(x,o,i),x=null}else x=p.child;if(x!==null)x.return=p;else for(x=p;x!==null;){if(x===i){x=null;break}if(p=x.sibling,p!==null){p.return=x.return,x=p;break}x=x.return}p=x}}function Ua(i,n,o,u){i=null;for(var p=n,m=!1;p!==null;){if(!m){if((p.flags&524288)!==0)m=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var x=p.alternate;if(x===null)throw Error(s(387));if(x=x.memoizedProps,x!==null){var E=p.type;qe(p.pendingProps.value,x.value)||(i!==null?i.push(E):i=[E])}}else if(p===Ct.current){if(x=p.alternate,x===null)throw Error(s(387));x.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(br):i=[br])}p=p.return}i!==null&&Xc(n,i,o,u),n.flags|=262144}function Mo(i){for(i=i.firstContext;i!==null;){if(!qe(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ks(i){Ws=i,Vi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Te(i){return Dp(Ws,i)}function Ro(i,n){return Ws===null&&Ks(i),Dp(i,n)}function Dp(i,n){var o=n._currentValue;if(n={context:n,memoizedValue:o,next:null},Vi===null){if(i===null)throw Error(s(308));Vi=n,i.dependencies={lanes:0,firstContext:n},i.flags|=524288}else Vi=Vi.next=n;return o}var NS=typeof AbortController<"u"?AbortController:function(){var i=[],n=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){n.aborted=!0,i.forEach(function(o){return o()})}},OS=r.unstable_scheduleCallback,kS=r.unstable_NormalPriority,ce={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yc(){return{controller:new NS,data:new Map,refCount:0}}function Ga(i){i.refCount--,i.refCount===0&&OS(kS,function(){i.controller.abort()})}var qa=null,$c=0,Bn=0,jn=null;function IS(i,n){if(qa===null){var o=qa=[];$c=0,Bn=Ku(),jn={status:"pending",value:void 0,then:function(u){o.push(u)}}}return $c++,n.then(Pp,Pp),n}function Pp(){if(--$c===0&&qa!==null){jn!==null&&(jn.status="fulfilled");var i=qa;qa=null,Bn=0,jn=null;for(var n=0;n<i.length;n++)(0,i[n])()}}function BS(i,n){var o=[],u={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return i.then(function(){u.status="fulfilled",u.value=n;for(var p=0;p<o.length;p++)(0,o[p])(n)},function(p){for(u.status="rejected",u.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),u}var Lp=j.S;j.S=function(i,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&IS(i,n),Lp!==null&&Lp(i,n)};var Qs=W(null);function Wc(){var i=Qs.current;return i!==null?i:Ft.pooledCache}function Do(i,n){n===null?Z(Qs,Qs.current):Z(Qs,n.pool)}function Np(){var i=Wc();return i===null?null:{parent:ce._currentValue,pool:i}}var Xa=Error(s(460)),Op=Error(s(474)),Po=Error(s(542)),Kc={then:function(){}};function kp(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Lo(){}function Ip(i,n,o){switch(o=i[o],o===void 0?i.push(n):o!==n&&(n.then(Lo,Lo),n=o),n.status){case"fulfilled":return n.value;case"rejected":throw i=n.reason,jp(i),i;default:if(typeof n.status=="string")n.then(Lo,Lo);else{if(i=Ft,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=n,i.status="pending",i.then(function(u){if(n.status==="pending"){var p=n;p.status="fulfilled",p.value=u}},function(u){if(n.status==="pending"){var p=n;p.status="rejected",p.reason=u}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw i=n.reason,jp(i),i}throw Ya=n,Xa}}var Ya=null;function Bp(){if(Ya===null)throw Error(s(459));var i=Ya;return Ya=null,i}function jp(i){if(i===Xa||i===Po)throw Error(s(483))}var ls=!1;function Qc(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zc(i,n){i=i.updateQueue,n.updateQueue===i&&(n.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function cs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function us(i,n,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Nt&2)!==0){var p=u.pending;return p===null?n.next=n:(n.next=p.next,p.next=n),u.pending=n,n=To(i),Tp(i,null,o),n}return wo(i,u,n,o),To(i)}function $a(i,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194048)!==0)){var u=n.lanes;u&=i.pendingLanes,o|=u,n.lanes=o,Pf(i,o)}}function Jc(i,n){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var p=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var x={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?p=m=x:m=m.next=x,o=o.next}while(o!==null);m===null?p=m=n:m=m.next=n}else p=m=n;o={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=n:i.next=n,o.lastBaseUpdate=n}var tu=!1;function Wa(){if(tu){var i=jn;if(i!==null)throw i}}function Ka(i,n,o,u){tu=!1;var p=i.updateQueue;ls=!1;var m=p.firstBaseUpdate,x=p.lastBaseUpdate,E=p.shared.pending;if(E!==null){p.shared.pending=null;var k=E,H=k.next;k.next=null,x===null?m=H:x.next=H,x=k;var Y=i.alternate;Y!==null&&(Y=Y.updateQueue,E=Y.lastBaseUpdate,E!==x&&(E===null?Y.firstBaseUpdate=H:E.next=H,Y.lastBaseUpdate=k))}if(m!==null){var K=p.baseState;x=0,Y=H=k=null,E=m;do{var V=E.lane&-536870913,G=V!==E.lane;if(G?(Rt&V)===V:(u&V)===V){V!==0&&V===Bn&&(tu=!0),Y!==null&&(Y=Y.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var gt=i,ht=E;V=n;var Bt=o;switch(ht.tag){case 1:if(gt=ht.payload,typeof gt=="function"){K=gt.call(Bt,K,V);break t}K=gt;break t;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=ht.payload,V=typeof gt=="function"?gt.call(Bt,K,V):gt,V==null)break t;K=g({},K,V);break t;case 2:ls=!0}}V=E.callback,V!==null&&(i.flags|=64,G&&(i.flags|=8192),G=p.callbacks,G===null?p.callbacks=[V]:G.push(V))}else G={lane:V,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Y===null?(H=Y=G,k=K):Y=Y.next=G,x|=V;if(E=E.next,E===null){if(E=p.shared.pending,E===null)break;G=E,E=G.next,G.next=null,p.lastBaseUpdate=G,p.shared.pending=null}}while(!0);Y===null&&(k=K),p.baseState=k,p.firstBaseUpdate=H,p.lastBaseUpdate=Y,m===null&&(p.shared.lanes=0),bs|=x,i.lanes=x,i.memoizedState=K}}function zp(i,n){if(typeof i!="function")throw Error(s(191,i));i.call(n)}function Fp(i,n){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)zp(o[i],n)}var zn=W(null),No=W(0);function Hp(i,n){i=Ki,Z(No,i),Z(zn,n),Ki=i|n.baseLanes}function eu(){Z(No,Ki),Z(zn,zn.current)}function iu(){Ki=No.current,J(zn),J(No)}var hs=0,xt=null,kt=null,ie=null,Oo=!1,Fn=!1,Zs=!1,ko=0,Qa=0,Hn=null,jS=0;function Qt(){throw Error(s(321))}function su(i,n){if(n===null)return!1;for(var o=0;o<n.length&&o<i.length;o++)if(!qe(i[o],n[o]))return!1;return!0}function nu(i,n,o,u,p,m){return hs=m,xt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,j.H=i===null||i.memoizedState===null?Tg:_g,Zs=!1,m=o(u,p),Zs=!1,Fn&&(m=Up(n,o,u,p)),Vp(i),m}function Vp(i){j.H=Ho;var n=kt!==null&&kt.next!==null;if(hs=0,ie=kt=xt=null,Oo=!1,Qa=0,Hn=null,n)throw Error(s(300));i===null||fe||(i=i.dependencies,i!==null&&Mo(i)&&(fe=!0))}function Up(i,n,o,u){xt=i;var p=0;do{if(Fn&&(Hn=null),Qa=0,Fn=!1,25<=p)throw Error(s(301));if(p+=1,ie=kt=null,i.updateQueue!=null){var m=i.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}j.H=qS,m=n(o,u)}while(Fn);return m}function zS(){var i=j.H,n=i.useState()[0];return n=typeof n.then=="function"?Za(n):n,i=i.useState()[0],(kt!==null?kt.memoizedState:null)!==i&&(xt.flags|=1024),n}function au(){var i=ko!==0;return ko=0,i}function ru(i,n,o){n.updateQueue=i.updateQueue,n.flags&=-2053,i.lanes&=~o}function ou(i){if(Oo){for(i=i.memoizedState;i!==null;){var n=i.queue;n!==null&&(n.pending=null),i=i.next}Oo=!1}hs=0,ie=kt=xt=null,Fn=!1,Qa=ko=0,Hn=null}function Ie(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ie===null?xt.memoizedState=ie=i:ie=ie.next=i,ie}function se(){if(kt===null){var i=xt.alternate;i=i!==null?i.memoizedState:null}else i=kt.next;var n=ie===null?xt.memoizedState:ie.next;if(n!==null)ie=n,kt=i;else{if(i===null)throw xt.alternate===null?Error(s(467)):Error(s(310));kt=i,i={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},ie===null?xt.memoizedState=ie=i:ie=ie.next=i}return ie}function lu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Za(i){var n=Qa;return Qa+=1,Hn===null&&(Hn=[]),i=Ip(Hn,i,n),n=xt,(ie===null?n.memoizedState:ie.next)===null&&(n=n.alternate,j.H=n===null||n.memoizedState===null?Tg:_g),i}function Io(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Za(i);if(i.$$typeof===C)return Te(i)}throw Error(s(438,String(i)))}function cu(i){var n=null,o=xt.updateQueue;if(o!==null&&(n=o.memoCache),n==null){var u=xt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(n={data:u.data.map(function(p){return p.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),o===null&&(o=lu(),xt.updateQueue=o),o.memoCache=n,o=n.data[n.index],o===void 0)for(o=n.data[n.index]=Array(i),u=0;u<i;u++)o[u]=q;return n.index++,o}function Gi(i,n){return typeof n=="function"?n(i):n}function Bo(i){var n=se();return uu(n,kt,i)}function uu(i,n,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var p=i.baseQueue,m=u.pending;if(m!==null){if(p!==null){var x=p.next;p.next=m.next,m.next=x}n.baseQueue=p=m,u.pending=null}if(m=i.baseState,p===null)i.memoizedState=m;else{n=p.next;var E=x=null,k=null,H=n,Y=!1;do{var K=H.lane&-536870913;if(K!==H.lane?(Rt&K)===K:(hs&K)===K){var V=H.revertLane;if(V===0)k!==null&&(k=k.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),K===Bn&&(Y=!0);else if((hs&V)===V){H=H.next,V===Bn&&(Y=!0);continue}else K={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},k===null?(E=k=K,x=m):k=k.next=K,xt.lanes|=V,bs|=V;K=H.action,Zs&&o(m,K),m=H.hasEagerState?H.eagerState:o(m,K)}else V={lane:K,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},k===null?(E=k=V,x=m):k=k.next=V,xt.lanes|=K,bs|=K;H=H.next}while(H!==null&&H!==n);if(k===null?x=m:k.next=E,!qe(m,i.memoizedState)&&(fe=!0,Y&&(o=jn,o!==null)))throw o;i.memoizedState=m,i.baseState=x,i.baseQueue=k,u.lastRenderedState=m}return p===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function hu(i){var n=se(),o=n.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,p=o.pending,m=n.memoizedState;if(p!==null){o.pending=null;var x=p=p.next;do m=i(m,x.action),x=x.next;while(x!==p);qe(m,n.memoizedState)||(fe=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),o.lastRenderedState=m}return[m,u]}function Gp(i,n,o){var u=xt,p=se(),m=Pt;if(m){if(o===void 0)throw Error(s(407));o=o()}else o=n();var x=!qe((kt||p).memoizedState,o);x&&(p.memoizedState=o,fe=!0),p=p.queue;var E=Yp.bind(null,u,p,i);if(Ja(2048,8,E,[i]),p.getSnapshot!==n||x||ie!==null&&ie.memoizedState.tag&1){if(u.flags|=2048,Vn(9,jo(),Xp.bind(null,u,p,o,n),null),Ft===null)throw Error(s(349));m||(hs&124)!==0||qp(u,n,o)}return o}function qp(i,n,o){i.flags|=16384,i={getSnapshot:n,value:o},n=xt.updateQueue,n===null?(n=lu(),xt.updateQueue=n,n.stores=[i]):(o=n.stores,o===null?n.stores=[i]:o.push(i))}function Xp(i,n,o,u){n.value=o,n.getSnapshot=u,$p(n)&&Wp(i)}function Yp(i,n,o){return o(function(){$p(n)&&Wp(i)})}function $p(i){var n=i.getSnapshot;i=i.value;try{var o=n();return!qe(i,o)}catch{return!0}}function Wp(i){var n=Nn(i,2);n!==null&&Qe(n,i,2)}function du(i){var n=Ie();if(typeof i=="function"){var o=i;if(i=o(),Zs){ns(!0);try{o()}finally{ns(!1)}}}return n.memoizedState=n.baseState=i,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:i},n}function Kp(i,n,o,u){return i.baseState=o,uu(i,kt,typeof u=="function"?u:Gi)}function FS(i,n,o,u,p){if(Fo(i))throw Error(s(485));if(i=n.action,i!==null){var m={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){m.listeners.push(x)}};j.T!==null?o(!0):m.isTransition=!1,u(m),o=n.pending,o===null?(m.next=n.pending=m,Qp(n,m)):(m.next=o.next,n.pending=o.next=m)}}function Qp(i,n){var o=n.action,u=n.payload,p=i.state;if(n.isTransition){var m=j.T,x={};j.T=x;try{var E=o(p,u),k=j.S;k!==null&&k(x,E),Zp(i,n,E)}catch(H){fu(i,n,H)}finally{j.T=m}}else try{m=o(p,u),Zp(i,n,m)}catch(H){fu(i,n,H)}}function Zp(i,n,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Jp(i,n,u)},function(u){return fu(i,n,u)}):Jp(i,n,o)}function Jp(i,n,o){n.status="fulfilled",n.value=o,tg(n),i.state=o,n=i.pending,n!==null&&(o=n.next,o===n?i.pending=null:(o=o.next,n.next=o,Qp(i,o)))}function fu(i,n,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do n.status="rejected",n.reason=o,tg(n),n=n.next;while(n!==u)}i.action=null}function tg(i){i=i.listeners;for(var n=0;n<i.length;n++)(0,i[n])()}function eg(i,n){return n}function ig(i,n){if(Pt){var o=Ft.formState;if(o!==null){t:{var u=xt;if(Pt){if($t){e:{for(var p=$t,m=xi;p.nodeType!==8;){if(!m){p=null;break e}if(p=yi(p.nextSibling),p===null){p=null;break e}}m=p.data,p=m==="F!"||m==="F"?p:null}if(p){$t=yi(p.nextSibling),u=p.data==="F!";break t}}$s(u)}u=!1}u&&(n=o[0])}}return o=Ie(),o.memoizedState=o.baseState=n,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:eg,lastRenderedState:n},o.queue=u,o=Sg.bind(null,xt,u),u.dispatch=o,u=du(!1),m=bu.bind(null,xt,!1,u.queue),u=Ie(),p={state:n,dispatch:null,action:i,pending:null},u.queue=p,o=FS.bind(null,xt,p,m,o),p.dispatch=o,u.memoizedState=i,[n,o,!1]}function sg(i){var n=se();return ng(n,kt,i)}function ng(i,n,o){if(n=uu(i,n,eg)[0],i=Bo(Gi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var u=Za(n)}catch(x){throw x===Xa?Po:x}else u=n;n=se();var p=n.queue,m=p.dispatch;return o!==n.memoizedState&&(xt.flags|=2048,Vn(9,jo(),HS.bind(null,p,o),null)),[u,m,i]}function HS(i,n){i.action=n}function ag(i){var n=se(),o=kt;if(o!==null)return ng(n,o,i);se(),n=n.memoizedState,o=se();var u=o.queue.dispatch;return o.memoizedState=i,[n,u,!1]}function Vn(i,n,o,u){return i={tag:i,create:o,deps:u,inst:n,next:null},n=xt.updateQueue,n===null&&(n=lu(),xt.updateQueue=n),o=n.lastEffect,o===null?n.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,n.lastEffect=i),i}function jo(){return{destroy:void 0,resource:void 0}}function rg(){return se().memoizedState}function zo(i,n,o,u){var p=Ie();u=u===void 0?null:u,xt.flags|=i,p.memoizedState=Vn(1|n,jo(),o,u)}function Ja(i,n,o,u){var p=se();u=u===void 0?null:u;var m=p.memoizedState.inst;kt!==null&&u!==null&&su(u,kt.memoizedState.deps)?p.memoizedState=Vn(n,m,o,u):(xt.flags|=i,p.memoizedState=Vn(1|n,m,o,u))}function og(i,n){zo(8390656,8,i,n)}function lg(i,n){Ja(2048,8,i,n)}function cg(i,n){return Ja(4,2,i,n)}function ug(i,n){return Ja(4,4,i,n)}function hg(i,n){if(typeof n=="function"){i=i();var o=n(i);return function(){typeof o=="function"?o():n(null)}}if(n!=null)return i=i(),n.current=i,function(){n.current=null}}function dg(i,n,o){o=o!=null?o.concat([i]):null,Ja(4,4,hg.bind(null,n,i),o)}function pu(){}function fg(i,n){var o=se();n=n===void 0?null:n;var u=o.memoizedState;return n!==null&&su(n,u[1])?u[0]:(o.memoizedState=[i,n],i)}function pg(i,n){var o=se();n=n===void 0?null:n;var u=o.memoizedState;if(n!==null&&su(n,u[1]))return u[0];if(u=i(),Zs){ns(!0);try{i()}finally{ns(!1)}}return o.memoizedState=[u,n],u}function gu(i,n,o){return o===void 0||(hs&1073741824)!==0?i.memoizedState=n:(i.memoizedState=o,i=ym(),xt.lanes|=i,bs|=i,o)}function gg(i,n,o,u){return qe(o,n)?o:zn.current!==null?(i=gu(i,o,u),qe(i,n)||(fe=!0),i):(hs&42)===0?(fe=!0,i.memoizedState=o):(i=ym(),xt.lanes|=i,bs|=i,n)}function mg(i,n,o,u,p){var m=U.p;U.p=m!==0&&8>m?m:8;var x=j.T,E={};j.T=E,bu(i,!1,n,o);try{var k=p(),H=j.S;if(H!==null&&H(E,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var Y=BS(k,u);tr(i,n,Y,Ke(i))}else tr(i,n,u,Ke(i))}catch(K){tr(i,n,{then:function(){},status:"rejected",reason:K},Ke())}finally{U.p=m,j.T=x}}function VS(){}function mu(i,n,o,u){if(i.tag!==5)throw Error(s(476));var p=yg(i).queue;mg(i,p,n,et,o===null?VS:function(){return bg(i),o(u)})}function yg(i){var n=i.memoizedState;if(n!==null)return n;n={memoizedState:et,baseState:et,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:et},next:null};var o={};return n.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:o},next:null},i.memoizedState=n,i=i.alternate,i!==null&&(i.memoizedState=n),n}function bg(i){var n=yg(i).next.queue;tr(i,n,{},Ke())}function yu(){return Te(br)}function vg(){return se().memoizedState}function Ag(){return se().memoizedState}function US(i){for(var n=i.return;n!==null;){switch(n.tag){case 24:case 3:var o=Ke();i=cs(o);var u=us(n,i,o);u!==null&&(Qe(u,n,o),$a(u,n,o)),n={cache:Yc()},i.payload=n;return}n=n.return}}function GS(i,n,o){var u=Ke();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Fo(i)?xg(n,o):(o=Bc(i,n,o,u),o!==null&&(Qe(o,i,u),wg(o,n,u)))}function Sg(i,n,o){var u=Ke();tr(i,n,o,u)}function tr(i,n,o,u){var p={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Fo(i))xg(n,p);else{var m=i.alternate;if(i.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var x=n.lastRenderedState,E=m(x,o);if(p.hasEagerState=!0,p.eagerState=E,qe(E,x))return wo(i,n,p,0),Ft===null&&xo(),!1}catch{}finally{}if(o=Bc(i,n,p,u),o!==null)return Qe(o,i,u),wg(o,n,u),!0}return!1}function bu(i,n,o,u){if(u={lane:2,revertLane:Ku(),action:u,hasEagerState:!1,eagerState:null,next:null},Fo(i)){if(n)throw Error(s(479))}else n=Bc(i,o,u,2),n!==null&&Qe(n,i,2)}function Fo(i){var n=i.alternate;return i===xt||n!==null&&n===xt}function xg(i,n){Fn=Oo=!0;var o=i.pending;o===null?n.next=n:(n.next=o.next,o.next=n),i.pending=n}function wg(i,n,o){if((o&4194048)!==0){var u=n.lanes;u&=i.pendingLanes,o|=u,n.lanes=o,Pf(i,o)}}var Ho={readContext:Te,use:Io,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useLayoutEffect:Qt,useInsertionEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useSyncExternalStore:Qt,useId:Qt,useHostTransitionStatus:Qt,useFormState:Qt,useActionState:Qt,useOptimistic:Qt,useMemoCache:Qt,useCacheRefresh:Qt},Tg={readContext:Te,use:Io,useCallback:function(i,n){return Ie().memoizedState=[i,n===void 0?null:n],i},useContext:Te,useEffect:og,useImperativeHandle:function(i,n,o){o=o!=null?o.concat([i]):null,zo(4194308,4,hg.bind(null,n,i),o)},useLayoutEffect:function(i,n){return zo(4194308,4,i,n)},useInsertionEffect:function(i,n){zo(4,2,i,n)},useMemo:function(i,n){var o=Ie();n=n===void 0?null:n;var u=i();if(Zs){ns(!0);try{i()}finally{ns(!1)}}return o.memoizedState=[u,n],u},useReducer:function(i,n,o){var u=Ie();if(o!==void 0){var p=o(n);if(Zs){ns(!0);try{o(n)}finally{ns(!1)}}}else p=n;return u.memoizedState=u.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},u.queue=i,i=i.dispatch=GS.bind(null,xt,i),[u.memoizedState,i]},useRef:function(i){var n=Ie();return i={current:i},n.memoizedState=i},useState:function(i){i=du(i);var n=i.queue,o=Sg.bind(null,xt,n);return n.dispatch=o,[i.memoizedState,o]},useDebugValue:pu,useDeferredValue:function(i,n){var o=Ie();return gu(o,i,n)},useTransition:function(){var i=du(!1);return i=mg.bind(null,xt,i.queue,!0,!1),Ie().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,n,o){var u=xt,p=Ie();if(Pt){if(o===void 0)throw Error(s(407));o=o()}else{if(o=n(),Ft===null)throw Error(s(349));(Rt&124)!==0||qp(u,n,o)}p.memoizedState=o;var m={value:o,getSnapshot:n};return p.queue=m,og(Yp.bind(null,u,m,i),[i]),u.flags|=2048,Vn(9,jo(),Xp.bind(null,u,m,o,n),null),o},useId:function(){var i=Ie(),n=Ft.identifierPrefix;if(Pt){var o=Hi,u=Fi;o=(u&~(1<<32-Ge(u)-1)).toString(32)+o,n=""+n+"R"+o,o=ko++,0<o&&(n+="H"+o.toString(32)),n+=""}else o=jS++,n=""+n+"r"+o.toString(32)+"";return i.memoizedState=n},useHostTransitionStatus:yu,useFormState:ig,useActionState:ig,useOptimistic:function(i){var n=Ie();n.memoizedState=n.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=o,n=bu.bind(null,xt,!0,o),o.dispatch=n,[i,n]},useMemoCache:cu,useCacheRefresh:function(){return Ie().memoizedState=US.bind(null,xt)}},_g={readContext:Te,use:Io,useCallback:fg,useContext:Te,useEffect:lg,useImperativeHandle:dg,useInsertionEffect:cg,useLayoutEffect:ug,useMemo:pg,useReducer:Bo,useRef:rg,useState:function(){return Bo(Gi)},useDebugValue:pu,useDeferredValue:function(i,n){var o=se();return gg(o,kt.memoizedState,i,n)},useTransition:function(){var i=Bo(Gi)[0],n=se().memoizedState;return[typeof i=="boolean"?i:Za(i),n]},useSyncExternalStore:Gp,useId:vg,useHostTransitionStatus:yu,useFormState:sg,useActionState:sg,useOptimistic:function(i,n){var o=se();return Kp(o,kt,i,n)},useMemoCache:cu,useCacheRefresh:Ag},qS={readContext:Te,use:Io,useCallback:fg,useContext:Te,useEffect:lg,useImperativeHandle:dg,useInsertionEffect:cg,useLayoutEffect:ug,useMemo:pg,useReducer:hu,useRef:rg,useState:function(){return hu(Gi)},useDebugValue:pu,useDeferredValue:function(i,n){var o=se();return kt===null?gu(o,i,n):gg(o,kt.memoizedState,i,n)},useTransition:function(){var i=hu(Gi)[0],n=se().memoizedState;return[typeof i=="boolean"?i:Za(i),n]},useSyncExternalStore:Gp,useId:vg,useHostTransitionStatus:yu,useFormState:ag,useActionState:ag,useOptimistic:function(i,n){var o=se();return kt!==null?Kp(o,kt,i,n):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:cu,useCacheRefresh:Ag},Un=null,er=0;function Vo(i){var n=er;return er+=1,Un===null&&(Un=[]),Ip(Un,i,n)}function ir(i,n){n=n.props.ref,i.ref=n!==void 0?n:null}function Uo(i,n){throw n.$$typeof===y?Error(s(525)):(i=Object.prototype.toString.call(n),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":i)))}function Eg(i){var n=i._init;return n(i._payload)}function Cg(i){function n(z,B){if(i){var F=z.deletions;F===null?(z.deletions=[B],z.flags|=16):F.push(B)}}function o(z,B){if(!i)return null;for(;B!==null;)n(z,B),B=B.sibling;return null}function u(z){for(var B=new Map;z!==null;)z.key!==null?B.set(z.key,z):B.set(z.index,z),z=z.sibling;return B}function p(z,B){return z=zi(z,B),z.index=0,z.sibling=null,z}function m(z,B,F){return z.index=F,i?(F=z.alternate,F!==null?(F=F.index,F<B?(z.flags|=67108866,B):F):(z.flags|=67108866,B)):(z.flags|=1048576,B)}function x(z){return i&&z.alternate===null&&(z.flags|=67108866),z}function E(z,B,F,$){return B===null||B.tag!==6?(B=zc(F,z.mode,$),B.return=z,B):(B=p(B,F),B.return=z,B)}function k(z,B,F,$){var nt=F.type;return nt===w?Y(z,B,F.props.children,$,F.key):B!==null&&(B.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===P&&Eg(nt)===B.type)?(B=p(B,F.props),ir(B,F),B.return=z,B):(B=_o(F.type,F.key,F.props,null,z.mode,$),ir(B,F),B.return=z,B)}function H(z,B,F,$){return B===null||B.tag!==4||B.stateNode.containerInfo!==F.containerInfo||B.stateNode.implementation!==F.implementation?(B=Fc(F,z.mode,$),B.return=z,B):(B=p(B,F.children||[]),B.return=z,B)}function Y(z,B,F,$,nt){return B===null||B.tag!==7?(B=Gs(F,z.mode,$,nt),B.return=z,B):(B=p(B,F),B.return=z,B)}function K(z,B,F){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=zc(""+B,z.mode,F),B.return=z,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case b:return F=_o(B.type,B.key,B.props,null,z.mode,F),ir(F,B),F.return=z,F;case S:return B=Fc(B,z.mode,F),B.return=z,B;case P:var $=B._init;return B=$(B._payload),K(z,B,F)}if(pt(B)||tt(B))return B=Gs(B,z.mode,F,null),B.return=z,B;if(typeof B.then=="function")return K(z,Vo(B),F);if(B.$$typeof===C)return K(z,Ro(z,B),F);Uo(z,B)}return null}function V(z,B,F,$){var nt=B!==null?B.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return nt!==null?null:E(z,B,""+F,$);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case b:return F.key===nt?k(z,B,F,$):null;case S:return F.key===nt?H(z,B,F,$):null;case P:return nt=F._init,F=nt(F._payload),V(z,B,F,$)}if(pt(F)||tt(F))return nt!==null?null:Y(z,B,F,$,null);if(typeof F.then=="function")return V(z,B,Vo(F),$);if(F.$$typeof===C)return V(z,B,Ro(z,F),$);Uo(z,F)}return null}function G(z,B,F,$,nt){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return z=z.get(F)||null,E(B,z,""+$,nt);if(typeof $=="object"&&$!==null){switch($.$$typeof){case b:return z=z.get($.key===null?F:$.key)||null,k(B,z,$,nt);case S:return z=z.get($.key===null?F:$.key)||null,H(B,z,$,nt);case P:var wt=$._init;return $=wt($._payload),G(z,B,F,$,nt)}if(pt($)||tt($))return z=z.get(F)||null,Y(B,z,$,nt,null);if(typeof $.then=="function")return G(z,B,F,Vo($),nt);if($.$$typeof===C)return G(z,B,F,Ro(B,$),nt);Uo(B,$)}return null}function gt(z,B,F,$){for(var nt=null,wt=null,ot=B,dt=B=0,ge=null;ot!==null&&dt<F.length;dt++){ot.index>dt?(ge=ot,ot=null):ge=ot.sibling;var Dt=V(z,ot,F[dt],$);if(Dt===null){ot===null&&(ot=ge);break}i&&ot&&Dt.alternate===null&&n(z,ot),B=m(Dt,B,dt),wt===null?nt=Dt:wt.sibling=Dt,wt=Dt,ot=ge}if(dt===F.length)return o(z,ot),Pt&&Xs(z,dt),nt;if(ot===null){for(;dt<F.length;dt++)ot=K(z,F[dt],$),ot!==null&&(B=m(ot,B,dt),wt===null?nt=ot:wt.sibling=ot,wt=ot);return Pt&&Xs(z,dt),nt}for(ot=u(ot);dt<F.length;dt++)ge=G(ot,z,dt,F[dt],$),ge!==null&&(i&&ge.alternate!==null&&ot.delete(ge.key===null?dt:ge.key),B=m(ge,B,dt),wt===null?nt=ge:wt.sibling=ge,wt=ge);return i&&ot.forEach(function(Cs){return n(z,Cs)}),Pt&&Xs(z,dt),nt}function ht(z,B,F,$){if(F==null)throw Error(s(151));for(var nt=null,wt=null,ot=B,dt=B=0,ge=null,Dt=F.next();ot!==null&&!Dt.done;dt++,Dt=F.next()){ot.index>dt?(ge=ot,ot=null):ge=ot.sibling;var Cs=V(z,ot,Dt.value,$);if(Cs===null){ot===null&&(ot=ge);break}i&&ot&&Cs.alternate===null&&n(z,ot),B=m(Cs,B,dt),wt===null?nt=Cs:wt.sibling=Cs,wt=Cs,ot=ge}if(Dt.done)return o(z,ot),Pt&&Xs(z,dt),nt;if(ot===null){for(;!Dt.done;dt++,Dt=F.next())Dt=K(z,Dt.value,$),Dt!==null&&(B=m(Dt,B,dt),wt===null?nt=Dt:wt.sibling=Dt,wt=Dt);return Pt&&Xs(z,dt),nt}for(ot=u(ot);!Dt.done;dt++,Dt=F.next())Dt=G(ot,z,dt,Dt.value,$),Dt!==null&&(i&&Dt.alternate!==null&&ot.delete(Dt.key===null?dt:Dt.key),B=m(Dt,B,dt),wt===null?nt=Dt:wt.sibling=Dt,wt=Dt);return i&&ot.forEach(function(Xx){return n(z,Xx)}),Pt&&Xs(z,dt),nt}function Bt(z,B,F,$){if(typeof F=="object"&&F!==null&&F.type===w&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case b:t:{for(var nt=F.key;B!==null;){if(B.key===nt){if(nt=F.type,nt===w){if(B.tag===7){o(z,B.sibling),$=p(B,F.props.children),$.return=z,z=$;break t}}else if(B.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===P&&Eg(nt)===B.type){o(z,B.sibling),$=p(B,F.props),ir($,F),$.return=z,z=$;break t}o(z,B);break}else n(z,B);B=B.sibling}F.type===w?($=Gs(F.props.children,z.mode,$,F.key),$.return=z,z=$):($=_o(F.type,F.key,F.props,null,z.mode,$),ir($,F),$.return=z,z=$)}return x(z);case S:t:{for(nt=F.key;B!==null;){if(B.key===nt)if(B.tag===4&&B.stateNode.containerInfo===F.containerInfo&&B.stateNode.implementation===F.implementation){o(z,B.sibling),$=p(B,F.children||[]),$.return=z,z=$;break t}else{o(z,B);break}else n(z,B);B=B.sibling}$=Fc(F,z.mode,$),$.return=z,z=$}return x(z);case P:return nt=F._init,F=nt(F._payload),Bt(z,B,F,$)}if(pt(F))return gt(z,B,F,$);if(tt(F)){if(nt=tt(F),typeof nt!="function")throw Error(s(150));return F=nt.call(F),ht(z,B,F,$)}if(typeof F.then=="function")return Bt(z,B,Vo(F),$);if(F.$$typeof===C)return Bt(z,B,Ro(z,F),$);Uo(z,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,B!==null&&B.tag===6?(o(z,B.sibling),$=p(B,F),$.return=z,z=$):(o(z,B),$=zc(F,z.mode,$),$.return=z,z=$),x(z)):o(z,B)}return function(z,B,F,$){try{er=0;var nt=Bt(z,B,F,$);return Un=null,nt}catch(ot){if(ot===Xa||ot===Po)throw ot;var wt=Xe(29,ot,null,z.mode);return wt.lanes=$,wt.return=z,wt}finally{}}}var Gn=Cg(!0),Mg=Cg(!1),ri=W(null),wi=null;function ds(i){var n=i.alternate;Z(ue,ue.current&1),Z(ri,i),wi===null&&(n===null||zn.current!==null||n.memoizedState!==null)&&(wi=i)}function Rg(i){if(i.tag===22){if(Z(ue,ue.current),Z(ri,i),wi===null){var n=i.alternate;n!==null&&n.memoizedState!==null&&(wi=i)}}else fs()}function fs(){Z(ue,ue.current),Z(ri,ri.current)}function qi(i){J(ri),wi===i&&(wi=null),J(ue)}var ue=W(0);function Go(i){for(var n=i;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||lh(o)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break;for(;n.sibling===null;){if(n.return===null||n.return===i)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function vu(i,n,o,u){n=i.memoizedState,o=o(u,n),o=o==null?n:g({},n,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Au={enqueueSetState:function(i,n,o){i=i._reactInternals;var u=Ke(),p=cs(u);p.payload=n,o!=null&&(p.callback=o),n=us(i,p,u),n!==null&&(Qe(n,i,u),$a(n,i,u))},enqueueReplaceState:function(i,n,o){i=i._reactInternals;var u=Ke(),p=cs(u);p.tag=1,p.payload=n,o!=null&&(p.callback=o),n=us(i,p,u),n!==null&&(Qe(n,i,u),$a(n,i,u))},enqueueForceUpdate:function(i,n){i=i._reactInternals;var o=Ke(),u=cs(o);u.tag=2,n!=null&&(u.callback=n),n=us(i,u,o),n!==null&&(Qe(n,i,o),$a(n,i,o))}};function Dg(i,n,o,u,p,m,x){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,m,x):n.prototype&&n.prototype.isPureReactComponent?!ja(o,u)||!ja(p,m):!0}function Pg(i,n,o,u){i=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,u),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,u),n.state!==i&&Au.enqueueReplaceState(n,n.state,null)}function Js(i,n){var o=n;if("ref"in n){o={};for(var u in n)u!=="ref"&&(o[u]=n[u])}if(i=i.defaultProps){o===n&&(o=g({},o));for(var p in i)o[p]===void 0&&(o[p]=i[p])}return o}var qo=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Lg(i){qo(i)}function Ng(i){console.error(i)}function Og(i){qo(i)}function Xo(i,n){try{var o=i.onUncaughtError;o(n.value,{componentStack:n.stack})}catch(u){setTimeout(function(){throw u})}}function kg(i,n,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Su(i,n,o){return o=cs(o),o.tag=3,o.payload={element:null},o.callback=function(){Xo(i,n)},o}function Ig(i){return i=cs(i),i.tag=3,i}function Bg(i,n,o,u){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var m=u.value;i.payload=function(){return p(m)},i.callback=function(){kg(n,o,u)}}var x=o.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(i.callback=function(){kg(n,o,u),typeof p!="function"&&(vs===null?vs=new Set([this]):vs.add(this));var E=u.stack;this.componentDidCatch(u.value,{componentStack:E!==null?E:""})})}function XS(i,n,o,u,p){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(n=o.alternate,n!==null&&Ua(n,o,p,!0),o=ri.current,o!==null){switch(o.tag){case 13:return wi===null?qu():o.alternate===null&&Wt===0&&(Wt=3),o.flags&=-257,o.flags|=65536,o.lanes=p,u===Kc?o.flags|=16384:(n=o.updateQueue,n===null?o.updateQueue=new Set([u]):n.add(u),Yu(i,u,p)),!1;case 22:return o.flags|=65536,u===Kc?o.flags|=16384:(n=o.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=n):(o=n.retryQueue,o===null?n.retryQueue=new Set([u]):o.add(u)),Yu(i,u,p)),!1}throw Error(s(435,o.tag))}return Yu(i,u,p),qu(),!1}if(Pt)return n=ri.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=p,u!==Uc&&(i=Error(s(422),{cause:u}),Va(ii(i,o)))):(u!==Uc&&(n=Error(s(423),{cause:u}),Va(ii(n,o))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,u=ii(u,o),p=Su(i.stateNode,u,p),Jc(i,p),Wt!==4&&(Wt=2)),!1;var m=Error(s(520),{cause:u});if(m=ii(m,o),cr===null?cr=[m]:cr.push(m),Wt!==4&&(Wt=2),n===null)return!0;u=ii(u,o),o=n;do{switch(o.tag){case 3:return o.flags|=65536,i=p&-p,o.lanes|=i,i=Su(o.stateNode,u,i),Jc(o,i),!1;case 1:if(n=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(vs===null||!vs.has(m))))return o.flags|=65536,p&=-p,o.lanes|=p,p=Ig(p),Bg(p,i,o,u),Jc(o,p),!1}o=o.return}while(o!==null);return!1}var jg=Error(s(461)),fe=!1;function me(i,n,o,u){n.child=i===null?Mg(n,null,o,u):Gn(n,i.child,o,u)}function zg(i,n,o,u,p){o=o.render;var m=n.ref;if("ref"in u){var x={};for(var E in u)E!=="ref"&&(x[E]=u[E])}else x=u;return Ks(n),u=nu(i,n,o,x,m,p),E=au(),i!==null&&!fe?(ru(i,n,p),Xi(i,n,p)):(Pt&&E&&Hc(n),n.flags|=1,me(i,n,u,p),n.child)}function Fg(i,n,o,u,p){if(i===null){var m=o.type;return typeof m=="function"&&!jc(m)&&m.defaultProps===void 0&&o.compare===null?(n.tag=15,n.type=m,Hg(i,n,m,u,p)):(i=_o(o.type,null,u,n,n.mode,p),i.ref=n.ref,i.return=n,n.child=i)}if(m=i.child,!Ru(i,p)){var x=m.memoizedProps;if(o=o.compare,o=o!==null?o:ja,o(x,u)&&i.ref===n.ref)return Xi(i,n,p)}return n.flags|=1,i=zi(m,u),i.ref=n.ref,i.return=n,n.child=i}function Hg(i,n,o,u,p){if(i!==null){var m=i.memoizedProps;if(ja(m,u)&&i.ref===n.ref)if(fe=!1,n.pendingProps=u=m,Ru(i,p))(i.flags&131072)!==0&&(fe=!0);else return n.lanes=i.lanes,Xi(i,n,p)}return xu(i,n,o,u,p)}function Vg(i,n,o){var u=n.pendingProps,p=u.children,m=i!==null?i.memoizedState:null;if(u.mode==="hidden"){if((n.flags&128)!==0){if(u=m!==null?m.baseLanes|o:o,i!==null){for(p=n.child=i.child,m=0;p!==null;)m=m|p.lanes|p.childLanes,p=p.sibling;n.childLanes=m&~u}else n.childLanes=0,n.child=null;return Ug(i,n,u,o)}if((o&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},i!==null&&Do(n,m!==null?m.cachePool:null),m!==null?Hp(n,m):eu(),Rg(n);else return n.lanes=n.childLanes=536870912,Ug(i,n,m!==null?m.baseLanes|o:o,o)}else m!==null?(Do(n,m.cachePool),Hp(n,m),fs(),n.memoizedState=null):(i!==null&&Do(n,null),eu(),fs());return me(i,n,p,o),n.child}function Ug(i,n,o,u){var p=Wc();return p=p===null?null:{parent:ce._currentValue,pool:p},n.memoizedState={baseLanes:o,cachePool:p},i!==null&&Do(n,null),eu(),Rg(n),i!==null&&Ua(i,n,u,!0),null}function Yo(i,n){var o=n.ref;if(o===null)i!==null&&i.ref!==null&&(n.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(n.flags|=4194816)}}function xu(i,n,o,u,p){return Ks(n),o=nu(i,n,o,u,void 0,p),u=au(),i!==null&&!fe?(ru(i,n,p),Xi(i,n,p)):(Pt&&u&&Hc(n),n.flags|=1,me(i,n,o,p),n.child)}function Gg(i,n,o,u,p,m){return Ks(n),n.updateQueue=null,o=Up(n,u,o,p),Vp(i),u=au(),i!==null&&!fe?(ru(i,n,m),Xi(i,n,m)):(Pt&&u&&Hc(n),n.flags|=1,me(i,n,o,m),n.child)}function qg(i,n,o,u,p){if(Ks(n),n.stateNode===null){var m=On,x=o.contextType;typeof x=="object"&&x!==null&&(m=Te(x)),m=new o(u,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Au,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=u,m.state=n.memoizedState,m.refs={},Qc(n),x=o.contextType,m.context=typeof x=="object"&&x!==null?Te(x):On,m.state=n.memoizedState,x=o.getDerivedStateFromProps,typeof x=="function"&&(vu(n,o,x,u),m.state=n.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(x=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),x!==m.state&&Au.enqueueReplaceState(m,m.state,null),Ka(n,u,m,p),Wa(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),u=!0}else if(i===null){m=n.stateNode;var E=n.memoizedProps,k=Js(o,E);m.props=k;var H=m.context,Y=o.contextType;x=On,typeof Y=="object"&&Y!==null&&(x=Te(Y));var K=o.getDerivedStateFromProps;Y=typeof K=="function"||typeof m.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Y||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E||H!==x)&&Pg(n,m,u,x),ls=!1;var V=n.memoizedState;m.state=V,Ka(n,u,m,p),Wa(),H=n.memoizedState,E||V!==H||ls?(typeof K=="function"&&(vu(n,o,K,u),H=n.memoizedState),(k=ls||Dg(n,o,k,u,V,H,x))?(Y||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=u,n.memoizedState=H),m.props=u,m.state=H,m.context=x,u=k):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),u=!1)}else{m=n.stateNode,Zc(i,n),x=n.memoizedProps,Y=Js(o,x),m.props=Y,K=n.pendingProps,V=m.context,H=o.contextType,k=On,typeof H=="object"&&H!==null&&(k=Te(H)),E=o.getDerivedStateFromProps,(H=typeof E=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(x!==K||V!==k)&&Pg(n,m,u,k),ls=!1,V=n.memoizedState,m.state=V,Ka(n,u,m,p),Wa();var G=n.memoizedState;x!==K||V!==G||ls||i!==null&&i.dependencies!==null&&Mo(i.dependencies)?(typeof E=="function"&&(vu(n,o,E,u),G=n.memoizedState),(Y=ls||Dg(n,o,Y,u,V,G,k)||i!==null&&i.dependencies!==null&&Mo(i.dependencies))?(H||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,G,k),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,G,k)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||x===i.memoizedProps&&V===i.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&V===i.memoizedState||(n.flags|=1024),n.memoizedProps=u,n.memoizedState=G),m.props=u,m.state=G,m.context=k,u=Y):(typeof m.componentDidUpdate!="function"||x===i.memoizedProps&&V===i.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&V===i.memoizedState||(n.flags|=1024),u=!1)}return m=u,Yo(i,n),u=(n.flags&128)!==0,m||u?(m=n.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,i!==null&&u?(n.child=Gn(n,i.child,null,p),n.child=Gn(n,null,o,p)):me(i,n,o,p),n.memoizedState=m.state,i=n.child):i=Xi(i,n,p),i}function Xg(i,n,o,u){return Ha(),n.flags|=256,me(i,n,o,u),n.child}var wu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Tu(i){return{baseLanes:i,cachePool:Np()}}function _u(i,n,o){return i=i!==null?i.childLanes&~o:0,n&&(i|=oi),i}function Yg(i,n,o){var u=n.pendingProps,p=!1,m=(n.flags&128)!==0,x;if((x=m)||(x=i!==null&&i.memoizedState===null?!1:(ue.current&2)!==0),x&&(p=!0,n.flags&=-129),x=(n.flags&32)!==0,n.flags&=-33,i===null){if(Pt){if(p?ds(n):fs(),Pt){var E=$t,k;if(k=E){t:{for(k=E,E=xi;k.nodeType!==8;){if(!E){E=null;break t}if(k=yi(k.nextSibling),k===null){E=null;break t}}E=k}E!==null?(n.memoizedState={dehydrated:E,treeContext:qs!==null?{id:Fi,overflow:Hi}:null,retryLane:536870912,hydrationErrors:null},k=Xe(18,null,null,0),k.stateNode=E,k.return=n,n.child=k,Me=n,$t=null,k=!0):k=!1}k||$s(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return lh(E)?n.lanes=32:n.lanes=536870912,null;qi(n)}return E=u.children,u=u.fallback,p?(fs(),p=n.mode,E=$o({mode:"hidden",children:E},p),u=Gs(u,p,o,null),E.return=n,u.return=n,E.sibling=u,n.child=E,p=n.child,p.memoizedState=Tu(o),p.childLanes=_u(i,x,o),n.memoizedState=wu,u):(ds(n),Eu(n,E))}if(k=i.memoizedState,k!==null&&(E=k.dehydrated,E!==null)){if(m)n.flags&256?(ds(n),n.flags&=-257,n=Cu(i,n,o)):n.memoizedState!==null?(fs(),n.child=i.child,n.flags|=128,n=null):(fs(),p=u.fallback,E=n.mode,u=$o({mode:"visible",children:u.children},E),p=Gs(p,E,o,null),p.flags|=2,u.return=n,p.return=n,u.sibling=p,n.child=u,Gn(n,i.child,null,o),u=n.child,u.memoizedState=Tu(o),u.childLanes=_u(i,x,o),n.memoizedState=wu,n=p);else if(ds(n),lh(E)){if(x=E.nextSibling&&E.nextSibling.dataset,x)var H=x.dgst;x=H,u=Error(s(419)),u.stack="",u.digest=x,Va({value:u,source:null,stack:null}),n=Cu(i,n,o)}else if(fe||Ua(i,n,o,!1),x=(o&i.childLanes)!==0,fe||x){if(x=Ft,x!==null&&(u=o&-o,u=(u&42)!==0?1:cc(u),u=(u&(x.suspendedLanes|o))!==0?0:u,u!==0&&u!==k.retryLane))throw k.retryLane=u,Nn(i,u),Qe(x,i,u),jg;E.data==="$?"||qu(),n=Cu(i,n,o)}else E.data==="$?"?(n.flags|=192,n.child=i.child,n=null):(i=k.treeContext,$t=yi(E.nextSibling),Me=n,Pt=!0,Ys=null,xi=!1,i!==null&&(ni[ai++]=Fi,ni[ai++]=Hi,ni[ai++]=qs,Fi=i.id,Hi=i.overflow,qs=n),n=Eu(n,u.children),n.flags|=4096);return n}return p?(fs(),p=u.fallback,E=n.mode,k=i.child,H=k.sibling,u=zi(k,{mode:"hidden",children:u.children}),u.subtreeFlags=k.subtreeFlags&65011712,H!==null?p=zi(H,p):(p=Gs(p,E,o,null),p.flags|=2),p.return=n,u.return=n,u.sibling=p,n.child=u,u=p,p=n.child,E=i.child.memoizedState,E===null?E=Tu(o):(k=E.cachePool,k!==null?(H=ce._currentValue,k=k.parent!==H?{parent:H,pool:H}:k):k=Np(),E={baseLanes:E.baseLanes|o,cachePool:k}),p.memoizedState=E,p.childLanes=_u(i,x,o),n.memoizedState=wu,u):(ds(n),o=i.child,i=o.sibling,o=zi(o,{mode:"visible",children:u.children}),o.return=n,o.sibling=null,i!==null&&(x=n.deletions,x===null?(n.deletions=[i],n.flags|=16):x.push(i)),n.child=o,n.memoizedState=null,o)}function Eu(i,n){return n=$o({mode:"visible",children:n},i.mode),n.return=i,i.child=n}function $o(i,n){return i=Xe(22,i,null,n),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Cu(i,n,o){return Gn(n,i.child,null,o),i=Eu(n,n.pendingProps.children),i.flags|=2,n.memoizedState=null,i}function $g(i,n,o){i.lanes|=n;var u=i.alternate;u!==null&&(u.lanes|=n),qc(i.return,n,o)}function Mu(i,n,o,u,p){var m=i.memoizedState;m===null?i.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:p}:(m.isBackwards=n,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=o,m.tailMode=p)}function Wg(i,n,o){var u=n.pendingProps,p=u.revealOrder,m=u.tail;if(me(i,n,u.children,o),u=ue.current,(u&2)!==0)u=u&1|2,n.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=n.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&$g(i,o,n);else if(i.tag===19)$g(i,o,n);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break t;for(;i.sibling===null;){if(i.return===null||i.return===n)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(Z(ue,u),p){case"forwards":for(o=n.child,p=null;o!==null;)i=o.alternate,i!==null&&Go(i)===null&&(p=o),o=o.sibling;o=p,o===null?(p=n.child,n.child=null):(p=o.sibling,o.sibling=null),Mu(n,!1,p,o,m);break;case"backwards":for(o=null,p=n.child,n.child=null;p!==null;){if(i=p.alternate,i!==null&&Go(i)===null){n.child=p;break}i=p.sibling,p.sibling=o,o=p,p=i}Mu(n,!0,o,null,m);break;case"together":Mu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Xi(i,n,o){if(i!==null&&(n.dependencies=i.dependencies),bs|=n.lanes,(o&n.childLanes)===0)if(i!==null){if(Ua(i,n,o,!1),(o&n.childLanes)===0)return null}else return null;if(i!==null&&n.child!==i.child)throw Error(s(153));if(n.child!==null){for(i=n.child,o=zi(i,i.pendingProps),n.child=o,o.return=n;i.sibling!==null;)i=i.sibling,o=o.sibling=zi(i,i.pendingProps),o.return=n;o.sibling=null}return n.child}function Ru(i,n){return(i.lanes&n)!==0?!0:(i=i.dependencies,!!(i!==null&&Mo(i)))}function YS(i,n,o){switch(n.tag){case 3:Lt(n,n.stateNode.containerInfo),os(n,ce,i.memoizedState.cache),Ha();break;case 27:case 5:Ta(n);break;case 4:Lt(n,n.stateNode.containerInfo);break;case 10:os(n,n.type,n.memoizedProps.value);break;case 13:var u=n.memoizedState;if(u!==null)return u.dehydrated!==null?(ds(n),n.flags|=128,null):(o&n.child.childLanes)!==0?Yg(i,n,o):(ds(n),i=Xi(i,n,o),i!==null?i.sibling:null);ds(n);break;case 19:var p=(i.flags&128)!==0;if(u=(o&n.childLanes)!==0,u||(Ua(i,n,o,!1),u=(o&n.childLanes)!==0),p){if(u)return Wg(i,n,o);n.flags|=128}if(p=n.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Z(ue,ue.current),u)break;return null;case 22:case 23:return n.lanes=0,Vg(i,n,o);case 24:os(n,ce,i.memoizedState.cache)}return Xi(i,n,o)}function Kg(i,n,o){if(i!==null)if(i.memoizedProps!==n.pendingProps)fe=!0;else{if(!Ru(i,o)&&(n.flags&128)===0)return fe=!1,YS(i,n,o);fe=(i.flags&131072)!==0}else fe=!1,Pt&&(n.flags&1048576)!==0&&Ep(n,Co,n.index);switch(n.lanes=0,n.tag){case 16:t:{i=n.pendingProps;var u=n.elementType,p=u._init;if(u=p(u._payload),n.type=u,typeof u=="function")jc(u)?(i=Js(u,i),n.tag=1,n=qg(null,n,u,i,o)):(n.tag=0,n=xu(null,n,u,i,o));else{if(u!=null){if(p=u.$$typeof,p===v){n.tag=11,n=zg(null,n,u,i,o);break t}else if(p===D){n.tag=14,n=Fg(null,n,u,i,o);break t}}throw n=it(u)||u,Error(s(306,n,""))}}return n;case 0:return xu(i,n,n.type,n.pendingProps,o);case 1:return u=n.type,p=Js(u,n.pendingProps),qg(i,n,u,p,o);case 3:t:{if(Lt(n,n.stateNode.containerInfo),i===null)throw Error(s(387));u=n.pendingProps;var m=n.memoizedState;p=m.element,Zc(i,n),Ka(n,u,null,o);var x=n.memoizedState;if(u=x.cache,os(n,ce,u),u!==m.cache&&Xc(n,[ce],o,!0),Wa(),u=x.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:x.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=Xg(i,n,u,o);break t}else if(u!==p){p=ii(Error(s(424)),n),Va(p),n=Xg(i,n,u,o);break t}else{switch(i=n.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for($t=yi(i.firstChild),Me=n,Pt=!0,Ys=null,xi=!0,o=Mg(n,null,u,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ha(),u===p){n=Xi(i,n,o);break t}me(i,n,u,o)}n=n.child}return n;case 26:return Yo(i,n),i===null?(o=ty(n.type,null,n.pendingProps,null))?n.memoizedState=o:Pt||(o=n.type,i=n.pendingProps,u=ll(ct.current).createElement(o),u[we]=n,u[Oe]=i,be(u,o,i),de(u),n.stateNode=u):n.memoizedState=ty(n.type,i.memoizedProps,n.pendingProps,i.memoizedState),null;case 27:return Ta(n),i===null&&Pt&&(u=n.stateNode=Qm(n.type,n.pendingProps,ct.current),Me=n,xi=!0,p=$t,xs(n.type)?(ch=p,$t=yi(u.firstChild)):$t=p),me(i,n,n.pendingProps.children,o),Yo(i,n),i===null&&(n.flags|=4194304),n.child;case 5:return i===null&&Pt&&((p=u=$t)&&(u=Sx(u,n.type,n.pendingProps,xi),u!==null?(n.stateNode=u,Me=n,$t=yi(u.firstChild),xi=!1,p=!0):p=!1),p||$s(n)),Ta(n),p=n.type,m=n.pendingProps,x=i!==null?i.memoizedProps:null,u=m.children,ah(p,m)?u=null:x!==null&&ah(p,x)&&(n.flags|=32),n.memoizedState!==null&&(p=nu(i,n,zS,null,null,o),br._currentValue=p),Yo(i,n),me(i,n,u,o),n.child;case 6:return i===null&&Pt&&((i=o=$t)&&(o=xx(o,n.pendingProps,xi),o!==null?(n.stateNode=o,Me=n,$t=null,i=!0):i=!1),i||$s(n)),null;case 13:return Yg(i,n,o);case 4:return Lt(n,n.stateNode.containerInfo),u=n.pendingProps,i===null?n.child=Gn(n,null,u,o):me(i,n,u,o),n.child;case 11:return zg(i,n,n.type,n.pendingProps,o);case 7:return me(i,n,n.pendingProps,o),n.child;case 8:return me(i,n,n.pendingProps.children,o),n.child;case 12:return me(i,n,n.pendingProps.children,o),n.child;case 10:return u=n.pendingProps,os(n,n.type,u.value),me(i,n,u.children,o),n.child;case 9:return p=n.type._context,u=n.pendingProps.children,Ks(n),p=Te(p),u=u(p),n.flags|=1,me(i,n,u,o),n.child;case 14:return Fg(i,n,n.type,n.pendingProps,o);case 15:return Hg(i,n,n.type,n.pendingProps,o);case 19:return Wg(i,n,o);case 31:return u=n.pendingProps,o=n.mode,u={mode:u.mode,children:u.children},i===null?(o=$o(u,o),o.ref=n.ref,n.child=o,o.return=n,n=o):(o=zi(i.child,u),o.ref=n.ref,n.child=o,o.return=n,n=o),n;case 22:return Vg(i,n,o);case 24:return Ks(n),u=Te(ce),i===null?(p=Wc(),p===null&&(p=Ft,m=Yc(),p.pooledCache=m,m.refCount++,m!==null&&(p.pooledCacheLanes|=o),p=m),n.memoizedState={parent:u,cache:p},Qc(n),os(n,ce,p)):((i.lanes&o)!==0&&(Zc(i,n),Ka(n,null,null,o),Wa()),p=i.memoizedState,m=n.memoizedState,p.parent!==u?(p={parent:u,cache:u},n.memoizedState=p,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=p),os(n,ce,u)):(u=m.cache,os(n,ce,u),u!==p.cache&&Xc(n,[ce],o,!0))),me(i,n,n.pendingProps.children,o),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Yi(i){i.flags|=4}function Qg(i,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!ay(n)){if(n=ri.current,n!==null&&((Rt&4194048)===Rt?wi!==null:(Rt&62914560)!==Rt&&(Rt&536870912)===0||n!==wi))throw Ya=Kc,Op;i.flags|=8192}}function Wo(i,n){n!==null&&(i.flags|=4),i.flags&16384&&(n=i.tag!==22?Rf():536870912,i.lanes|=n,$n|=n)}function sr(i,n){if(!Pt)switch(i.tailMode){case"hidden":n=i.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?n||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function qt(i){var n=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(n)for(var p=i.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=u,i.childLanes=o,n}function $S(i,n,o){var u=n.pendingProps;switch(Vc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(n),null;case 1:return qt(n),null;case 3:return o=n.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),n.memoizedState.cache!==u&&(n.flags|=2048),Ui(ce),Ai(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Fa(n)?Yi(n):i===null||i.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Rp())),qt(n),null;case 26:return o=n.memoizedState,i===null?(Yi(n),o!==null?(qt(n),Qg(n,o)):(qt(n),n.flags&=-16777217)):o?o!==i.memoizedState?(Yi(n),qt(n),Qg(n,o)):(qt(n),n.flags&=-16777217):(i.memoizedProps!==u&&Yi(n),qt(n),n.flags&=-16777217),null;case 27:ss(n),o=ct.current;var p=n.type;if(i!==null&&n.stateNode!=null)i.memoizedProps!==u&&Yi(n);else{if(!u){if(n.stateNode===null)throw Error(s(166));return qt(n),null}i=rt.current,Fa(n)?Cp(n):(i=Qm(p,u,o),n.stateNode=i,Yi(n))}return qt(n),null;case 5:if(ss(n),o=n.type,i!==null&&n.stateNode!=null)i.memoizedProps!==u&&Yi(n);else{if(!u){if(n.stateNode===null)throw Error(s(166));return qt(n),null}if(i=rt.current,Fa(n))Cp(n);else{switch(p=ll(ct.current),i){case 1:i=p.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=p.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=p.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?p.createElement("select",{is:u.is}):p.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?p.createElement(o,{is:u.is}):p.createElement(o)}}i[we]=n,i[Oe]=u;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)i.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=i;t:switch(be(i,o,u),o){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&Yi(n)}}return qt(n),n.flags&=-16777217,null;case 6:if(i&&n.stateNode!=null)i.memoizedProps!==u&&Yi(n);else{if(typeof u!="string"&&n.stateNode===null)throw Error(s(166));if(i=ct.current,Fa(n)){if(i=n.stateNode,o=n.memoizedProps,u=null,p=Me,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}i[we]=n,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Gm(i.nodeValue,o)),i||$s(n)}else i=ll(i).createTextNode(u),i[we]=n,n.stateNode=i}return qt(n),null;case 13:if(u=n.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=Fa(n),u!==null&&u.dehydrated!==null){if(i===null){if(!p)throw Error(s(318));if(p=n.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(s(317));p[we]=n}else Ha(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;qt(n),p=!1}else p=Rp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return n.flags&256?(qi(n),n):(qi(n),null)}if(qi(n),(n.flags&128)!==0)return n.lanes=o,n;if(o=u!==null,i=i!==null&&i.memoizedState!==null,o){u=n.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool);var m=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==p&&(u.flags|=2048)}return o!==i&&o&&(n.child.flags|=8192),Wo(n,n.updateQueue),qt(n),null;case 4:return Ai(),i===null&&th(n.stateNode.containerInfo),qt(n),null;case 10:return Ui(n.type),qt(n),null;case 19:if(J(ue),p=n.memoizedState,p===null)return qt(n),null;if(u=(n.flags&128)!==0,m=p.rendering,m===null)if(u)sr(p,!1);else{if(Wt!==0||i!==null&&(i.flags&128)!==0)for(i=n.child;i!==null;){if(m=Go(i),m!==null){for(n.flags|=128,sr(p,!1),i=m.updateQueue,n.updateQueue=i,Wo(n,i),n.subtreeFlags=0,i=o,o=n.child;o!==null;)_p(o,i),o=o.sibling;return Z(ue,ue.current&1|2),n.child}i=i.sibling}p.tail!==null&&Si()>Zo&&(n.flags|=128,u=!0,sr(p,!1),n.lanes=4194304)}else{if(!u)if(i=Go(m),i!==null){if(n.flags|=128,u=!0,i=i.updateQueue,n.updateQueue=i,Wo(n,i),sr(p,!0),p.tail===null&&p.tailMode==="hidden"&&!m.alternate&&!Pt)return qt(n),null}else 2*Si()-p.renderingStartTime>Zo&&o!==536870912&&(n.flags|=128,u=!0,sr(p,!1),n.lanes=4194304);p.isBackwards?(m.sibling=n.child,n.child=m):(i=p.last,i!==null?i.sibling=m:n.child=m,p.last=m)}return p.tail!==null?(n=p.tail,p.rendering=n,p.tail=n.sibling,p.renderingStartTime=Si(),n.sibling=null,i=ue.current,Z(ue,u?i&1|2:i&1),n):(qt(n),null);case 22:case 23:return qi(n),iu(),u=n.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(n.flags|=8192):u&&(n.flags|=8192),u?(o&536870912)!==0&&(n.flags&128)===0&&(qt(n),n.subtreeFlags&6&&(n.flags|=8192)):qt(n),o=n.updateQueue,o!==null&&Wo(n,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(u=n.memoizedState.cachePool.pool),u!==o&&(n.flags|=2048),i!==null&&J(Qs),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ui(ce),qt(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function WS(i,n){switch(Vc(n),n.tag){case 1:return i=n.flags,i&65536?(n.flags=i&-65537|128,n):null;case 3:return Ui(ce),Ai(),i=n.flags,(i&65536)!==0&&(i&128)===0?(n.flags=i&-65537|128,n):null;case 26:case 27:case 5:return ss(n),null;case 13:if(qi(n),i=n.memoizedState,i!==null&&i.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Ha()}return i=n.flags,i&65536?(n.flags=i&-65537|128,n):null;case 19:return J(ue),null;case 4:return Ai(),null;case 10:return Ui(n.type),null;case 22:case 23:return qi(n),iu(),i!==null&&J(Qs),i=n.flags,i&65536?(n.flags=i&-65537|128,n):null;case 24:return Ui(ce),null;case 25:return null;default:return null}}function Zg(i,n){switch(Vc(n),n.tag){case 3:Ui(ce),Ai();break;case 26:case 27:case 5:ss(n);break;case 4:Ai();break;case 13:qi(n);break;case 19:J(ue);break;case 10:Ui(n.type);break;case 22:case 23:qi(n),iu(),i!==null&&J(Qs);break;case 24:Ui(ce)}}function nr(i,n){try{var o=n.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var p=u.next;o=p;do{if((o.tag&i)===i){u=void 0;var m=o.create,x=o.inst;u=m(),x.destroy=u}o=o.next}while(o!==p)}}catch(E){zt(n,n.return,E)}}function ps(i,n,o){try{var u=n.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var m=p.next;u=m;do{if((u.tag&i)===i){var x=u.inst,E=x.destroy;if(E!==void 0){x.destroy=void 0,p=n;var k=o,H=E;try{H()}catch(Y){zt(p,k,Y)}}}u=u.next}while(u!==m)}}catch(Y){zt(n,n.return,Y)}}function Jg(i){var n=i.updateQueue;if(n!==null){var o=i.stateNode;try{Fp(n,o)}catch(u){zt(i,i.return,u)}}}function tm(i,n,o){o.props=Js(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){zt(i,n,u)}}function ar(i,n){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(p){zt(i,n,p)}}function Ti(i,n){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(p){zt(i,n,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){zt(i,n,p)}else o.current=null}function em(i){var n=i.type,o=i.memoizedProps,u=i.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(p){zt(i,i.return,p)}}function Du(i,n,o){try{var u=i.stateNode;mx(u,i.type,o,n),u[Oe]=n}catch(p){zt(i,i.return,p)}}function im(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&xs(i.type)||i.tag===4}function Pu(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||im(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&xs(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Lu(i,n,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,n?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,n):(n=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,n.appendChild(i),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=ol));else if(u!==4&&(u===27&&xs(i.type)&&(o=i.stateNode,n=null),i=i.child,i!==null))for(Lu(i,n,o),i=i.sibling;i!==null;)Lu(i,n,o),i=i.sibling}function Ko(i,n,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,n?o.insertBefore(i,n):o.appendChild(i);else if(u!==4&&(u===27&&xs(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Ko(i,n,o),i=i.sibling;i!==null;)Ko(i,n,o),i=i.sibling}function sm(i){var n=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,p=n.attributes;p.length;)n.removeAttributeNode(p[0]);be(n,u,o),n[we]=i,n[Oe]=o}catch(m){zt(i,i.return,m)}}var $i=!1,Zt=!1,Nu=!1,nm=typeof WeakSet=="function"?WeakSet:Set,pe=null;function KS(i,n){if(i=i.containerInfo,sh=pl,i=gp(i),Pc(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var p=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break t}var x=0,E=-1,k=-1,H=0,Y=0,K=i,V=null;e:for(;;){for(var G;K!==o||p!==0&&K.nodeType!==3||(E=x+p),K!==m||u!==0&&K.nodeType!==3||(k=x+u),K.nodeType===3&&(x+=K.nodeValue.length),(G=K.firstChild)!==null;)V=K,K=G;for(;;){if(K===i)break e;if(V===o&&++H===p&&(E=x),V===m&&++Y===u&&(k=x),(G=K.nextSibling)!==null)break;K=V,V=K.parentNode}K=G}o=E===-1||k===-1?null:{start:E,end:k}}else o=null}o=o||{start:0,end:0}}else o=null;for(nh={focusedElem:i,selectionRange:o},pl=!1,pe=n;pe!==null;)if(n=pe,i=n.child,(n.subtreeFlags&1024)!==0&&i!==null)i.return=n,pe=i;else for(;pe!==null;){switch(n=pe,m=n.alternate,i=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&m!==null){i=void 0,o=n,p=m.memoizedProps,m=m.memoizedState,u=o.stateNode;try{var gt=Js(o.type,p,o.elementType===o.type);i=u.getSnapshotBeforeUpdate(gt,m),u.__reactInternalSnapshotBeforeUpdate=i}catch(ht){zt(o,o.return,ht)}}break;case 3:if((i&1024)!==0){if(i=n.stateNode.containerInfo,o=i.nodeType,o===9)oh(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":oh(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=n.sibling,i!==null){i.return=n.return,pe=i;break}pe=n.return}}function am(i,n,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:gs(i,o),u&4&&nr(5,o);break;case 1:if(gs(i,o),u&4)if(i=o.stateNode,n===null)try{i.componentDidMount()}catch(x){zt(o,o.return,x)}else{var p=Js(o.type,n.memoizedProps);n=n.memoizedState;try{i.componentDidUpdate(p,n,i.__reactInternalSnapshotBeforeUpdate)}catch(x){zt(o,o.return,x)}}u&64&&Jg(o),u&512&&ar(o,o.return);break;case 3:if(gs(i,o),u&64&&(i=o.updateQueue,i!==null)){if(n=null,o.child!==null)switch(o.child.tag){case 27:case 5:n=o.child.stateNode;break;case 1:n=o.child.stateNode}try{Fp(i,n)}catch(x){zt(o,o.return,x)}}break;case 27:n===null&&u&4&&sm(o);case 26:case 5:gs(i,o),n===null&&u&4&&em(o),u&512&&ar(o,o.return);break;case 12:gs(i,o);break;case 13:gs(i,o),u&4&&lm(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=ax.bind(null,o),wx(i,o))));break;case 22:if(u=o.memoizedState!==null||$i,!u){n=n!==null&&n.memoizedState!==null||Zt,p=$i;var m=Zt;$i=u,(Zt=n)&&!m?ms(i,o,(o.subtreeFlags&8772)!==0):gs(i,o),$i=p,Zt=m}break;case 30:break;default:gs(i,o)}}function rm(i){var n=i.alternate;n!==null&&(i.alternate=null,rm(n)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(n=i.stateNode,n!==null&&dc(n)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Ht=null,Be=!1;function Wi(i,n,o){for(o=o.child;o!==null;)om(i,n,o),o=o.sibling}function om(i,n,o){if(Ue&&typeof Ue.onCommitFiberUnmount=="function")try{Ue.onCommitFiberUnmount(Ea,o)}catch{}switch(o.tag){case 26:Zt||Ti(o,n),Wi(i,n,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Zt||Ti(o,n);var u=Ht,p=Be;xs(o.type)&&(Ht=o.stateNode,Be=!1),Wi(i,n,o),pr(o.stateNode),Ht=u,Be=p;break;case 5:Zt||Ti(o,n);case 6:if(u=Ht,p=Be,Ht=null,Wi(i,n,o),Ht=u,Be=p,Ht!==null)if(Be)try{(Ht.nodeType===9?Ht.body:Ht.nodeName==="HTML"?Ht.ownerDocument.body:Ht).removeChild(o.stateNode)}catch(m){zt(o,n,m)}else try{Ht.removeChild(o.stateNode)}catch(m){zt(o,n,m)}break;case 18:Ht!==null&&(Be?(i=Ht,Wm(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),xr(i)):Wm(Ht,o.stateNode));break;case 4:u=Ht,p=Be,Ht=o.stateNode.containerInfo,Be=!0,Wi(i,n,o),Ht=u,Be=p;break;case 0:case 11:case 14:case 15:Zt||ps(2,o,n),Zt||ps(4,o,n),Wi(i,n,o);break;case 1:Zt||(Ti(o,n),u=o.stateNode,typeof u.componentWillUnmount=="function"&&tm(o,n,u)),Wi(i,n,o);break;case 21:Wi(i,n,o);break;case 22:Zt=(u=Zt)||o.memoizedState!==null,Wi(i,n,o),Zt=u;break;default:Wi(i,n,o)}}function lm(i,n){if(n.memoizedState===null&&(i=n.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{xr(i)}catch(o){zt(n,n.return,o)}}function QS(i){switch(i.tag){case 13:case 19:var n=i.stateNode;return n===null&&(n=i.stateNode=new nm),n;case 22:return i=i.stateNode,n=i._retryCache,n===null&&(n=i._retryCache=new nm),n;default:throw Error(s(435,i.tag))}}function Ou(i,n){var o=QS(i);n.forEach(function(u){var p=rx.bind(null,i,u);o.has(u)||(o.add(u),u.then(p,p))})}function Ye(i,n){var o=n.deletions;if(o!==null)for(var u=0;u<o.length;u++){var p=o[u],m=i,x=n,E=x;t:for(;E!==null;){switch(E.tag){case 27:if(xs(E.type)){Ht=E.stateNode,Be=!1;break t}break;case 5:Ht=E.stateNode,Be=!1;break t;case 3:case 4:Ht=E.stateNode.containerInfo,Be=!0;break t}E=E.return}if(Ht===null)throw Error(s(160));om(m,x,p),Ht=null,Be=!1,m=p.alternate,m!==null&&(m.return=null),p.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)cm(n,i),n=n.sibling}var mi=null;function cm(i,n){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Ye(n,i),$e(i),u&4&&(ps(3,i,i.return),nr(3,i),ps(5,i,i.return));break;case 1:Ye(n,i),$e(i),u&512&&(Zt||o===null||Ti(o,o.return)),u&64&&$i&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var p=mi;if(Ye(n,i),$e(i),u&512&&(Zt||o===null||Ti(o,o.return)),u&4){var m=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){t:{u=i.type,o=i.memoizedProps,p=p.ownerDocument||p;e:switch(u){case"title":m=p.getElementsByTagName("title")[0],(!m||m[Ra]||m[we]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=p.createElement(u),p.head.insertBefore(m,p.querySelector("head > title"))),be(m,u,o),m[we]=i,de(m),u=m;break t;case"link":var x=sy("link","href",p).get(u+(o.href||""));if(x){for(var E=0;E<x.length;E++)if(m=x[E],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){x.splice(E,1);break e}}m=p.createElement(u),be(m,u,o),p.head.appendChild(m);break;case"meta":if(x=sy("meta","content",p).get(u+(o.content||""))){for(E=0;E<x.length;E++)if(m=x[E],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){x.splice(E,1);break e}}m=p.createElement(u),be(m,u,o),p.head.appendChild(m);break;default:throw Error(s(468,u))}m[we]=i,de(m),u=m}i.stateNode=u}else ny(p,i.type,i.stateNode);else i.stateNode=iy(p,u,i.memoizedProps);else m!==u?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,u===null?ny(p,i.type,i.stateNode):iy(p,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Du(i,i.memoizedProps,o.memoizedProps)}break;case 27:Ye(n,i),$e(i),u&512&&(Zt||o===null||Ti(o,o.return)),o!==null&&u&4&&Du(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Ye(n,i),$e(i),u&512&&(Zt||o===null||Ti(o,o.return)),i.flags&32){p=i.stateNode;try{En(p,"")}catch(G){zt(i,i.return,G)}}u&4&&i.stateNode!=null&&(p=i.memoizedProps,Du(i,p,o!==null?o.memoizedProps:p)),u&1024&&(Nu=!0);break;case 6:if(Ye(n,i),$e(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(G){zt(i,i.return,G)}}break;case 3:if(hl=null,p=mi,mi=cl(n.containerInfo),Ye(n,i),mi=p,$e(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{xr(n.containerInfo)}catch(G){zt(i,i.return,G)}Nu&&(Nu=!1,um(i));break;case 4:u=mi,mi=cl(i.stateNode.containerInfo),Ye(n,i),$e(i),mi=u;break;case 12:Ye(n,i),$e(i);break;case 13:Ye(n,i),$e(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Fu=Si()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Ou(i,u)));break;case 22:p=i.memoizedState!==null;var k=o!==null&&o.memoizedState!==null,H=$i,Y=Zt;if($i=H||p,Zt=Y||k,Ye(n,i),Zt=Y,$i=H,$e(i),u&8192)t:for(n=i.stateNode,n._visibility=p?n._visibility&-2:n._visibility|1,p&&(o===null||k||$i||Zt||tn(i)),o=null,n=i;;){if(n.tag===5||n.tag===26){if(o===null){k=o=n;try{if(m=k.stateNode,p)x=m.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{E=k.stateNode;var K=k.memoizedProps.style,V=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=V==null||typeof V=="boolean"?"":(""+V).trim()}}catch(G){zt(k,k.return,G)}}}else if(n.tag===6){if(o===null){k=n;try{k.stateNode.nodeValue=p?"":k.memoizedProps}catch(G){zt(k,k.return,G)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===i)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break t;for(;n.sibling===null;){if(n.return===null||n.return===i)break t;o===n&&(o=null),n=n.return}o===n&&(o=null),n.sibling.return=n.return,n=n.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Ou(i,o))));break;case 19:Ye(n,i),$e(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Ou(i,u)));break;case 30:break;case 21:break;default:Ye(n,i),$e(i)}}function $e(i){var n=i.flags;if(n&2){try{for(var o,u=i.return;u!==null;){if(im(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var p=o.stateNode,m=Pu(i);Ko(i,m,p);break;case 5:var x=o.stateNode;o.flags&32&&(En(x,""),o.flags&=-33);var E=Pu(i);Ko(i,E,x);break;case 3:case 4:var k=o.stateNode.containerInfo,H=Pu(i);Lu(i,H,k);break;default:throw Error(s(161))}}catch(Y){zt(i,i.return,Y)}i.flags&=-3}n&4096&&(i.flags&=-4097)}function um(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var n=i;um(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),i=i.sibling}}function gs(i,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)am(i,n.alternate,n),n=n.sibling}function tn(i){for(i=i.child;i!==null;){var n=i;switch(n.tag){case 0:case 11:case 14:case 15:ps(4,n,n.return),tn(n);break;case 1:Ti(n,n.return);var o=n.stateNode;typeof o.componentWillUnmount=="function"&&tm(n,n.return,o),tn(n);break;case 27:pr(n.stateNode);case 26:case 5:Ti(n,n.return),tn(n);break;case 22:n.memoizedState===null&&tn(n);break;case 30:tn(n);break;default:tn(n)}i=i.sibling}}function ms(i,n,o){for(o=o&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var u=n.alternate,p=i,m=n,x=m.flags;switch(m.tag){case 0:case 11:case 15:ms(p,m,o),nr(4,m);break;case 1:if(ms(p,m,o),u=m,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(H){zt(u,u.return,H)}if(u=m,p=u.updateQueue,p!==null){var E=u.stateNode;try{var k=p.shared.hiddenCallbacks;if(k!==null)for(p.shared.hiddenCallbacks=null,p=0;p<k.length;p++)zp(k[p],E)}catch(H){zt(u,u.return,H)}}o&&x&64&&Jg(m),ar(m,m.return);break;case 27:sm(m);case 26:case 5:ms(p,m,o),o&&u===null&&x&4&&em(m),ar(m,m.return);break;case 12:ms(p,m,o);break;case 13:ms(p,m,o),o&&x&4&&lm(p,m);break;case 22:m.memoizedState===null&&ms(p,m,o),ar(m,m.return);break;case 30:break;default:ms(p,m,o)}n=n.sibling}}function ku(i,n){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Ga(o))}function Iu(i,n){i=null,n.alternate!==null&&(i=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==i&&(n.refCount++,i!=null&&Ga(i))}function _i(i,n,o,u){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)hm(i,n,o,u),n=n.sibling}function hm(i,n,o,u){var p=n.flags;switch(n.tag){case 0:case 11:case 15:_i(i,n,o,u),p&2048&&nr(9,n);break;case 1:_i(i,n,o,u);break;case 3:_i(i,n,o,u),p&2048&&(i=null,n.alternate!==null&&(i=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==i&&(n.refCount++,i!=null&&Ga(i)));break;case 12:if(p&2048){_i(i,n,o,u),i=n.stateNode;try{var m=n.memoizedProps,x=m.id,E=m.onPostCommit;typeof E=="function"&&E(x,n.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(k){zt(n,n.return,k)}}else _i(i,n,o,u);break;case 13:_i(i,n,o,u);break;case 23:break;case 22:m=n.stateNode,x=n.alternate,n.memoizedState!==null?m._visibility&2?_i(i,n,o,u):rr(i,n):m._visibility&2?_i(i,n,o,u):(m._visibility|=2,qn(i,n,o,u,(n.subtreeFlags&10256)!==0)),p&2048&&ku(x,n);break;case 24:_i(i,n,o,u),p&2048&&Iu(n.alternate,n);break;default:_i(i,n,o,u)}}function qn(i,n,o,u,p){for(p=p&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var m=i,x=n,E=o,k=u,H=x.flags;switch(x.tag){case 0:case 11:case 15:qn(m,x,E,k,p),nr(8,x);break;case 23:break;case 22:var Y=x.stateNode;x.memoizedState!==null?Y._visibility&2?qn(m,x,E,k,p):rr(m,x):(Y._visibility|=2,qn(m,x,E,k,p)),p&&H&2048&&ku(x.alternate,x);break;case 24:qn(m,x,E,k,p),p&&H&2048&&Iu(x.alternate,x);break;default:qn(m,x,E,k,p)}n=n.sibling}}function rr(i,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var o=i,u=n,p=u.flags;switch(u.tag){case 22:rr(o,u),p&2048&&ku(u.alternate,u);break;case 24:rr(o,u),p&2048&&Iu(u.alternate,u);break;default:rr(o,u)}n=n.sibling}}var or=8192;function Xn(i){if(i.subtreeFlags&or)for(i=i.child;i!==null;)dm(i),i=i.sibling}function dm(i){switch(i.tag){case 26:Xn(i),i.flags&or&&i.memoizedState!==null&&Ix(mi,i.memoizedState,i.memoizedProps);break;case 5:Xn(i);break;case 3:case 4:var n=mi;mi=cl(i.stateNode.containerInfo),Xn(i),mi=n;break;case 22:i.memoizedState===null&&(n=i.alternate,n!==null&&n.memoizedState!==null?(n=or,or=16777216,Xn(i),or=n):Xn(i));break;default:Xn(i)}}function fm(i){var n=i.alternate;if(n!==null&&(i=n.child,i!==null)){n.child=null;do n=i.sibling,i.sibling=null,i=n;while(i!==null)}}function lr(i){var n=i.deletions;if((i.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var u=n[o];pe=u,gm(u,i)}fm(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)pm(i),i=i.sibling}function pm(i){switch(i.tag){case 0:case 11:case 15:lr(i),i.flags&2048&&ps(9,i,i.return);break;case 3:lr(i);break;case 12:lr(i);break;case 22:var n=i.stateNode;i.memoizedState!==null&&n._visibility&2&&(i.return===null||i.return.tag!==13)?(n._visibility&=-3,Qo(i)):lr(i);break;default:lr(i)}}function Qo(i){var n=i.deletions;if((i.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var u=n[o];pe=u,gm(u,i)}fm(i)}for(i=i.child;i!==null;){switch(n=i,n.tag){case 0:case 11:case 15:ps(8,n,n.return),Qo(n);break;case 22:o=n.stateNode,o._visibility&2&&(o._visibility&=-3,Qo(n));break;default:Qo(n)}i=i.sibling}}function gm(i,n){for(;pe!==null;){var o=pe;switch(o.tag){case 0:case 11:case 15:ps(8,o,n);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Ga(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,pe=u;else t:for(o=i;pe!==null;){u=pe;var p=u.sibling,m=u.return;if(rm(u),u===o){pe=null;break t}if(p!==null){p.return=m,pe=p;break t}pe=m}}}var ZS={getCacheForType:function(i){var n=Te(ce),o=n.data.get(i);return o===void 0&&(o=i(),n.data.set(i,o)),o}},JS=typeof WeakMap=="function"?WeakMap:Map,Nt=0,Ft=null,_t=null,Rt=0,Ot=0,We=null,ys=!1,Yn=!1,Bu=!1,Ki=0,Wt=0,bs=0,en=0,ju=0,oi=0,$n=0,cr=null,je=null,zu=!1,Fu=0,Zo=1/0,Jo=null,vs=null,ye=0,As=null,Wn=null,Kn=0,Hu=0,Vu=null,mm=null,ur=0,Uu=null;function Ke(){if((Nt&2)!==0&&Rt!==0)return Rt&-Rt;if(j.T!==null){var i=Bn;return i!==0?i:Ku()}return Lf()}function ym(){oi===0&&(oi=(Rt&536870912)===0||Pt?Mf():536870912);var i=ri.current;return i!==null&&(i.flags|=32),oi}function Qe(i,n,o){(i===Ft&&(Ot===2||Ot===9)||i.cancelPendingCommit!==null)&&(Qn(i,0),Ss(i,Rt,oi,!1)),Ma(i,o),((Nt&2)===0||i!==Ft)&&(i===Ft&&((Nt&2)===0&&(en|=o),Wt===4&&Ss(i,Rt,oi,!1)),Ei(i))}function bm(i,n,o){if((Nt&6)!==0)throw Error(s(327));var u=!o&&(n&124)===0&&(n&i.expiredLanes)===0||Ca(i,n),p=u?ix(i,n):Xu(i,n,!0),m=u;do{if(p===0){Yn&&!u&&Ss(i,n,0,!1);break}else{if(o=i.current.alternate,m&&!tx(o)){p=Xu(i,n,!1),m=!1;continue}if(p===2){if(m=n,i.errorRecoveryDisabledLanes&m)var x=0;else x=i.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){n=x;t:{var E=i;p=cr;var k=E.current.memoizedState.isDehydrated;if(k&&(Qn(E,x).flags|=256),x=Xu(E,x,!1),x!==2){if(Bu&&!k){E.errorRecoveryDisabledLanes|=m,en|=m,p=4;break t}m=je,je=p,m!==null&&(je===null?je=m:je.push.apply(je,m))}p=x}if(m=!1,p!==2)continue}}if(p===1){Qn(i,0),Ss(i,n,0,!0);break}t:{switch(u=i,m=p,m){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Ss(u,n,oi,!ys);break t;case 2:je=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(p=Fu+300-Si(),10<p)){if(Ss(u,n,oi,!ys),co(u,0,!0)!==0)break t;u.timeoutHandle=Ym(vm.bind(null,u,o,je,Jo,zu,n,oi,en,$n,ys,m,2,-0,0),p);break t}vm(u,o,je,Jo,zu,n,oi,en,$n,ys,m,0,-0,0)}}break}while(!0);Ei(i)}function vm(i,n,o,u,p,m,x,E,k,H,Y,K,V,G){if(i.timeoutHandle=-1,K=n.subtreeFlags,(K&8192||(K&16785408)===16785408)&&(yr={stylesheets:null,count:0,unsuspend:kx},dm(n),K=Bx(),K!==null)){i.cancelPendingCommit=K(Em.bind(null,i,n,m,o,u,p,x,E,k,Y,1,V,G)),Ss(i,m,x,!H);return}Em(i,n,m,o,u,p,x,E,k)}function tx(i){for(var n=i;;){var o=n.tag;if((o===0||o===11||o===15)&&n.flags&16384&&(o=n.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var p=o[u],m=p.getSnapshot;p=p.value;try{if(!qe(m(),p))return!1}catch{return!1}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===i)break;for(;n.sibling===null;){if(n.return===null||n.return===i)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ss(i,n,o,u){n&=~ju,n&=~en,i.suspendedLanes|=n,i.pingedLanes&=~n,u&&(i.warmLanes|=n),u=i.expirationTimes;for(var p=n;0<p;){var m=31-Ge(p),x=1<<m;u[m]=-1,p&=~x}o!==0&&Df(i,o,n)}function tl(){return(Nt&6)===0?(hr(0),!1):!0}function Gu(){if(_t!==null){if(Ot===0)var i=_t.return;else i=_t,Vi=Ws=null,ou(i),Un=null,er=0,i=_t;for(;i!==null;)Zg(i.alternate,i),i=i.return;_t=null}}function Qn(i,n){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,bx(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Gu(),Ft=i,_t=o=zi(i.current,null),Rt=n,Ot=0,We=null,ys=!1,Yn=Ca(i,n),Bu=!1,$n=oi=ju=en=bs=Wt=0,je=cr=null,zu=!1,(n&8)!==0&&(n|=n&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=n;0<u;){var p=31-Ge(u),m=1<<p;n|=i[p],u&=~m}return Ki=n,xo(),o}function Am(i,n){xt=null,j.H=Ho,n===Xa||n===Po?(n=Bp(),Ot=3):n===Op?(n=Bp(),Ot=4):Ot=n===jg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,We=n,_t===null&&(Wt=1,Xo(i,ii(n,i.current)))}function Sm(){var i=j.H;return j.H=Ho,i===null?Ho:i}function xm(){var i=j.A;return j.A=ZS,i}function qu(){Wt=4,ys||(Rt&4194048)!==Rt&&ri.current!==null||(Yn=!0),(bs&134217727)===0&&(en&134217727)===0||Ft===null||Ss(Ft,Rt,oi,!1)}function Xu(i,n,o){var u=Nt;Nt|=2;var p=Sm(),m=xm();(Ft!==i||Rt!==n)&&(Jo=null,Qn(i,n)),n=!1;var x=Wt;t:do try{if(Ot!==0&&_t!==null){var E=_t,k=We;switch(Ot){case 8:Gu(),x=6;break t;case 3:case 2:case 9:case 6:ri.current===null&&(n=!0);var H=Ot;if(Ot=0,We=null,Zn(i,E,k,H),o&&Yn){x=0;break t}break;default:H=Ot,Ot=0,We=null,Zn(i,E,k,H)}}ex(),x=Wt;break}catch(Y){Am(i,Y)}while(!0);return n&&i.shellSuspendCounter++,Vi=Ws=null,Nt=u,j.H=p,j.A=m,_t===null&&(Ft=null,Rt=0,xo()),x}function ex(){for(;_t!==null;)wm(_t)}function ix(i,n){var o=Nt;Nt|=2;var u=Sm(),p=xm();Ft!==i||Rt!==n?(Jo=null,Zo=Si()+500,Qn(i,n)):Yn=Ca(i,n);t:do try{if(Ot!==0&&_t!==null){n=_t;var m=We;e:switch(Ot){case 1:Ot=0,We=null,Zn(i,n,m,1);break;case 2:case 9:if(kp(m)){Ot=0,We=null,Tm(n);break}n=function(){Ot!==2&&Ot!==9||Ft!==i||(Ot=7),Ei(i)},m.then(n,n);break t;case 3:Ot=7;break t;case 4:Ot=5;break t;case 7:kp(m)?(Ot=0,We=null,Tm(n)):(Ot=0,We=null,Zn(i,n,m,7));break;case 5:var x=null;switch(_t.tag){case 26:x=_t.memoizedState;case 5:case 27:var E=_t;if(!x||ay(x)){Ot=0,We=null;var k=E.sibling;if(k!==null)_t=k;else{var H=E.return;H!==null?(_t=H,el(H)):_t=null}break e}}Ot=0,We=null,Zn(i,n,m,5);break;case 6:Ot=0,We=null,Zn(i,n,m,6);break;case 8:Gu(),Wt=6;break t;default:throw Error(s(462))}}sx();break}catch(Y){Am(i,Y)}while(!0);return Vi=Ws=null,j.H=u,j.A=p,Nt=o,_t!==null?0:(Ft=null,Rt=0,xo(),Wt)}function sx(){for(;_t!==null&&!_A();)wm(_t)}function wm(i){var n=Kg(i.alternate,i,Ki);i.memoizedProps=i.pendingProps,n===null?el(i):_t=n}function Tm(i){var n=i,o=n.alternate;switch(n.tag){case 15:case 0:n=Gg(o,n,n.pendingProps,n.type,void 0,Rt);break;case 11:n=Gg(o,n,n.pendingProps,n.type.render,n.ref,Rt);break;case 5:ou(n);default:Zg(o,n),n=_t=_p(n,Ki),n=Kg(o,n,Ki)}i.memoizedProps=i.pendingProps,n===null?el(i):_t=n}function Zn(i,n,o,u){Vi=Ws=null,ou(n),Un=null,er=0;var p=n.return;try{if(XS(i,p,n,o,Rt)){Wt=1,Xo(i,ii(o,i.current)),_t=null;return}}catch(m){if(p!==null)throw _t=p,m;Wt=1,Xo(i,ii(o,i.current)),_t=null;return}n.flags&32768?(Pt||u===1?i=!0:Yn||(Rt&536870912)!==0?i=!1:(ys=i=!0,(u===2||u===9||u===3||u===6)&&(u=ri.current,u!==null&&u.tag===13&&(u.flags|=16384))),_m(n,i)):el(n)}function el(i){var n=i;do{if((n.flags&32768)!==0){_m(n,ys);return}i=n.return;var o=$S(n.alternate,n,Ki);if(o!==null){_t=o;return}if(n=n.sibling,n!==null){_t=n;return}_t=n=i}while(n!==null);Wt===0&&(Wt=5)}function _m(i,n){do{var o=WS(i.alternate,i);if(o!==null){o.flags&=32767,_t=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!n&&(i=i.sibling,i!==null)){_t=i;return}_t=i=o}while(i!==null);Wt=6,_t=null}function Em(i,n,o,u,p,m,x,E,k){i.cancelPendingCommit=null;do il();while(ye!==0);if((Nt&6)!==0)throw Error(s(327));if(n!==null){if(n===i.current)throw Error(s(177));if(m=n.lanes|n.childLanes,m|=Ic,kA(i,o,m,x,E,k),i===Ft&&(_t=Ft=null,Rt=0),Wn=n,As=i,Kn=o,Hu=m,Vu=p,mm=u,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,ox(ro,function(){return Pm(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||u){u=j.T,j.T=null,p=U.p,U.p=2,x=Nt,Nt|=4;try{KS(i,n,o)}finally{Nt=x,U.p=p,j.T=u}}ye=1,Cm(),Mm(),Rm()}}function Cm(){if(ye===1){ye=0;var i=As,n=Wn,o=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||o){o=j.T,j.T=null;var u=U.p;U.p=2;var p=Nt;Nt|=4;try{cm(n,i);var m=nh,x=gp(i.containerInfo),E=m.focusedElem,k=m.selectionRange;if(x!==E&&E&&E.ownerDocument&&pp(E.ownerDocument.documentElement,E)){if(k!==null&&Pc(E)){var H=k.start,Y=k.end;if(Y===void 0&&(Y=H),"selectionStart"in E)E.selectionStart=H,E.selectionEnd=Math.min(Y,E.value.length);else{var K=E.ownerDocument||document,V=K&&K.defaultView||window;if(V.getSelection){var G=V.getSelection(),gt=E.textContent.length,ht=Math.min(k.start,gt),Bt=k.end===void 0?ht:Math.min(k.end,gt);!G.extend&&ht>Bt&&(x=Bt,Bt=ht,ht=x);var z=fp(E,ht),B=fp(E,Bt);if(z&&B&&(G.rangeCount!==1||G.anchorNode!==z.node||G.anchorOffset!==z.offset||G.focusNode!==B.node||G.focusOffset!==B.offset)){var F=K.createRange();F.setStart(z.node,z.offset),G.removeAllRanges(),ht>Bt?(G.addRange(F),G.extend(B.node,B.offset)):(F.setEnd(B.node,B.offset),G.addRange(F))}}}}for(K=[],G=E;G=G.parentNode;)G.nodeType===1&&K.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var $=K[E];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}pl=!!sh,nh=sh=null}finally{Nt=p,U.p=u,j.T=o}}i.current=n,ye=2}}function Mm(){if(ye===2){ye=0;var i=As,n=Wn,o=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||o){o=j.T,j.T=null;var u=U.p;U.p=2;var p=Nt;Nt|=4;try{am(i,n.alternate,n)}finally{Nt=p,U.p=u,j.T=o}}ye=3}}function Rm(){if(ye===4||ye===3){ye=0,EA();var i=As,n=Wn,o=Kn,u=mm;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ye=5:(ye=0,Wn=As=null,Dm(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(vs=null),uc(o),n=n.stateNode,Ue&&typeof Ue.onCommitFiberRoot=="function")try{Ue.onCommitFiberRoot(Ea,n,void 0,(n.current.flags&128)===128)}catch{}if(u!==null){n=j.T,p=U.p,U.p=2,j.T=null;try{for(var m=i.onRecoverableError,x=0;x<u.length;x++){var E=u[x];m(E.value,{componentStack:E.stack})}}finally{j.T=n,U.p=p}}(Kn&3)!==0&&il(),Ei(i),p=i.pendingLanes,(o&4194090)!==0&&(p&42)!==0?i===Uu?ur++:(ur=0,Uu=i):ur=0,hr(0)}}function Dm(i,n){(i.pooledCacheLanes&=n)===0&&(n=i.pooledCache,n!=null&&(i.pooledCache=null,Ga(n)))}function il(i){return Cm(),Mm(),Rm(),Pm()}function Pm(){if(ye!==5)return!1;var i=As,n=Hu;Hu=0;var o=uc(Kn),u=j.T,p=U.p;try{U.p=32>o?32:o,j.T=null,o=Vu,Vu=null;var m=As,x=Kn;if(ye=0,Wn=As=null,Kn=0,(Nt&6)!==0)throw Error(s(331));var E=Nt;if(Nt|=4,pm(m.current),hm(m,m.current,x,o),Nt=E,hr(0,!1),Ue&&typeof Ue.onPostCommitFiberRoot=="function")try{Ue.onPostCommitFiberRoot(Ea,m)}catch{}return!0}finally{U.p=p,j.T=u,Dm(i,n)}}function Lm(i,n,o){n=ii(o,n),n=Su(i.stateNode,n,2),i=us(i,n,2),i!==null&&(Ma(i,2),Ei(i))}function zt(i,n,o){if(i.tag===3)Lm(i,i,o);else for(;n!==null;){if(n.tag===3){Lm(n,i,o);break}else if(n.tag===1){var u=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(vs===null||!vs.has(u))){i=ii(o,i),o=Ig(2),u=us(n,o,2),u!==null&&(Bg(o,u,n,i),Ma(u,2),Ei(u));break}}n=n.return}}function Yu(i,n,o){var u=i.pingCache;if(u===null){u=i.pingCache=new JS;var p=new Set;u.set(n,p)}else p=u.get(n),p===void 0&&(p=new Set,u.set(n,p));p.has(o)||(Bu=!0,p.add(o),i=nx.bind(null,i,n,o),n.then(i,i))}function nx(i,n,o){var u=i.pingCache;u!==null&&u.delete(n),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,Ft===i&&(Rt&o)===o&&(Wt===4||Wt===3&&(Rt&62914560)===Rt&&300>Si()-Fu?(Nt&2)===0&&Qn(i,0):ju|=o,$n===Rt&&($n=0)),Ei(i)}function Nm(i,n){n===0&&(n=Rf()),i=Nn(i,n),i!==null&&(Ma(i,n),Ei(i))}function ax(i){var n=i.memoizedState,o=0;n!==null&&(o=n.retryLane),Nm(i,o)}function rx(i,n){var o=0;switch(i.tag){case 13:var u=i.stateNode,p=i.memoizedState;p!==null&&(o=p.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(n),Nm(i,o)}function ox(i,n){return bn(i,n)}var sl=null,Jn=null,$u=!1,nl=!1,Wu=!1,sn=0;function Ei(i){i!==Jn&&i.next===null&&(Jn===null?sl=Jn=i:Jn=Jn.next=i),nl=!0,$u||($u=!0,cx())}function hr(i,n){if(!Wu&&nl){Wu=!0;do for(var o=!1,u=sl;u!==null;){if(i!==0){var p=u.pendingLanes;if(p===0)var m=0;else{var x=u.suspendedLanes,E=u.pingedLanes;m=(1<<31-Ge(42|i)+1)-1,m&=p&~(x&~E),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,Bm(u,m))}else m=Rt,m=co(u,u===Ft?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||Ca(u,m)||(o=!0,Bm(u,m));u=u.next}while(o);Wu=!1}}function lx(){Om()}function Om(){nl=$u=!1;var i=0;sn!==0&&(yx()&&(i=sn),sn=0);for(var n=Si(),o=null,u=sl;u!==null;){var p=u.next,m=km(u,n);m===0?(u.next=null,o===null?sl=p:o.next=p,p===null&&(Jn=o)):(o=u,(i!==0||(m&3)!==0)&&(nl=!0)),u=p}hr(i)}function km(i,n){for(var o=i.suspendedLanes,u=i.pingedLanes,p=i.expirationTimes,m=i.pendingLanes&-62914561;0<m;){var x=31-Ge(m),E=1<<x,k=p[x];k===-1?((E&o)===0||(E&u)!==0)&&(p[x]=OA(E,n)):k<=n&&(i.expiredLanes|=E),m&=~E}if(n=Ft,o=Rt,o=co(i,i===n?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===n&&(Ot===2||Ot===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&_a(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Ca(i,o)){if(n=o&-o,n===i.callbackPriority)return n;switch(u!==null&&_a(u),uc(o)){case 2:case 8:o=Ef;break;case 32:o=ro;break;case 268435456:o=Cf;break;default:o=ro}return u=Im.bind(null,i),o=bn(o,u),i.callbackPriority=n,i.callbackNode=o,n}return u!==null&&u!==null&&_a(u),i.callbackPriority=2,i.callbackNode=null,2}function Im(i,n){if(ye!==0&&ye!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(il()&&i.callbackNode!==o)return null;var u=Rt;return u=co(i,i===Ft?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(bm(i,u,n),km(i,Si()),i.callbackNode!=null&&i.callbackNode===o?Im.bind(null,i):null)}function Bm(i,n){if(il())return null;bm(i,n,!0)}function cx(){vx(function(){(Nt&6)!==0?bn(_f,lx):Om()})}function Ku(){return sn===0&&(sn=Mf()),sn}function jm(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:go(""+i)}function zm(i,n){var o=n.ownerDocument.createElement("input");return o.name=n.name,o.value=n.value,i.id&&o.setAttribute("form",i.id),n.parentNode.insertBefore(o,n),i=new FormData(i),o.parentNode.removeChild(o),i}function ux(i,n,o,u,p){if(n==="submit"&&o&&o.stateNode===p){var m=jm((p[Oe]||null).action),x=u.submitter;x&&(n=(n=x[Oe]||null)?jm(n.formAction):x.getAttribute("formAction"),n!==null&&(m=n,x=null));var E=new vo("action","action",null,u,p);i.push({event:E,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(sn!==0){var k=x?zm(p,x):new FormData(p);mu(o,{pending:!0,data:k,method:p.method,action:m},null,k)}}else typeof m=="function"&&(E.preventDefault(),k=x?zm(p,x):new FormData(p),mu(o,{pending:!0,data:k,method:p.method,action:m},m,k))},currentTarget:p}]})}}for(var Qu=0;Qu<kc.length;Qu++){var Zu=kc[Qu],hx=Zu.toLowerCase(),dx=Zu[0].toUpperCase()+Zu.slice(1);gi(hx,"on"+dx)}gi(bp,"onAnimationEnd"),gi(vp,"onAnimationIteration"),gi(Ap,"onAnimationStart"),gi("dblclick","onDoubleClick"),gi("focusin","onFocus"),gi("focusout","onBlur"),gi(RS,"onTransitionRun"),gi(DS,"onTransitionStart"),gi(PS,"onTransitionCancel"),gi(Sp,"onTransitionEnd"),wn("onMouseEnter",["mouseout","mouseover"]),wn("onMouseLeave",["mouseout","mouseover"]),wn("onPointerEnter",["pointerout","pointerover"]),wn("onPointerLeave",["pointerout","pointerover"]),Fs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dr));function Fm(i,n){n=(n&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],p=u.event;u=u.listeners;t:{var m=void 0;if(n)for(var x=u.length-1;0<=x;x--){var E=u[x],k=E.instance,H=E.currentTarget;if(E=E.listener,k!==m&&p.isPropagationStopped())break t;m=E,p.currentTarget=H;try{m(p)}catch(Y){qo(Y)}p.currentTarget=null,m=k}else for(x=0;x<u.length;x++){if(E=u[x],k=E.instance,H=E.currentTarget,E=E.listener,k!==m&&p.isPropagationStopped())break t;m=E,p.currentTarget=H;try{m(p)}catch(Y){qo(Y)}p.currentTarget=null,m=k}}}}function Et(i,n){var o=n[hc];o===void 0&&(o=n[hc]=new Set);var u=i+"__bubble";o.has(u)||(Hm(n,i,2,!1),o.add(u))}function Ju(i,n,o){var u=0;n&&(u|=4),Hm(o,i,u,n)}var al="_reactListening"+Math.random().toString(36).slice(2);function th(i){if(!i[al]){i[al]=!0,Of.forEach(function(o){o!=="selectionchange"&&(fx.has(o)||Ju(o,!1,i),Ju(o,!0,i))});var n=i.nodeType===9?i:i.ownerDocument;n===null||n[al]||(n[al]=!0,Ju("selectionchange",!1,n))}}function Hm(i,n,o,u){switch(hy(n)){case 2:var p=Fx;break;case 8:p=Hx;break;default:p=ph}o=p.bind(null,n,o,i),p=void 0,!xc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(p=!0),u?p!==void 0?i.addEventListener(n,o,{capture:!0,passive:p}):i.addEventListener(n,o,!0):p!==void 0?i.addEventListener(n,o,{passive:p}):i.addEventListener(n,o,!1)}function eh(i,n,o,u,p){var m=u;if((n&1)===0&&(n&2)===0&&u!==null)t:for(;;){if(u===null)return;var x=u.tag;if(x===3||x===4){var E=u.stateNode.containerInfo;if(E===p)break;if(x===4)for(x=u.return;x!==null;){var k=x.tag;if((k===3||k===4)&&x.stateNode.containerInfo===p)return;x=x.return}for(;E!==null;){if(x=An(E),x===null)return;if(k=x.tag,k===5||k===6||k===26||k===27){u=m=x;continue t}E=E.parentNode}}u=u.return}$f(function(){var H=m,Y=Ac(o),K=[];t:{var V=xp.get(i);if(V!==void 0){var G=vo,gt=i;switch(i){case"keypress":if(yo(o)===0)break t;case"keydown":case"keyup":G=oS;break;case"focusin":gt="focus",G=Ec;break;case"focusout":gt="blur",G=Ec;break;case"beforeblur":case"afterblur":G=Ec;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Qf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=WA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=uS;break;case bp:case vp:case Ap:G=ZA;break;case Sp:G=dS;break;case"scroll":case"scrollend":G=YA;break;case"wheel":G=pS;break;case"copy":case"cut":case"paste":G=tS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Jf;break;case"toggle":case"beforetoggle":G=mS}var ht=(n&4)!==0,Bt=!ht&&(i==="scroll"||i==="scrollend"),z=ht?V!==null?V+"Capture":null:V;ht=[];for(var B=H,F;B!==null;){var $=B;if(F=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||F===null||z===null||($=Pa(B,z),$!=null&&ht.push(fr(B,$,F))),Bt)break;B=B.return}0<ht.length&&(V=new G(V,gt,null,o,Y),K.push({event:V,listeners:ht}))}}if((n&7)===0){t:{if(V=i==="mouseover"||i==="pointerover",G=i==="mouseout"||i==="pointerout",V&&o!==vc&&(gt=o.relatedTarget||o.fromElement)&&(An(gt)||gt[vn]))break t;if((G||V)&&(V=Y.window===Y?Y:(V=Y.ownerDocument)?V.defaultView||V.parentWindow:window,G?(gt=o.relatedTarget||o.toElement,G=H,gt=gt?An(gt):null,gt!==null&&(Bt=l(gt),ht=gt.tag,gt!==Bt||ht!==5&&ht!==27&&ht!==6)&&(gt=null)):(G=null,gt=H),G!==gt)){if(ht=Qf,$="onMouseLeave",z="onMouseEnter",B="mouse",(i==="pointerout"||i==="pointerover")&&(ht=Jf,$="onPointerLeave",z="onPointerEnter",B="pointer"),Bt=G==null?V:Da(G),F=gt==null?V:Da(gt),V=new ht($,B+"leave",G,o,Y),V.target=Bt,V.relatedTarget=F,$=null,An(Y)===H&&(ht=new ht(z,B+"enter",gt,o,Y),ht.target=F,ht.relatedTarget=Bt,$=ht),Bt=$,G&&gt)e:{for(ht=G,z=gt,B=0,F=ht;F;F=ta(F))B++;for(F=0,$=z;$;$=ta($))F++;for(;0<B-F;)ht=ta(ht),B--;for(;0<F-B;)z=ta(z),F--;for(;B--;){if(ht===z||z!==null&&ht===z.alternate)break e;ht=ta(ht),z=ta(z)}ht=null}else ht=null;G!==null&&Vm(K,V,G,ht,!1),gt!==null&&Bt!==null&&Vm(K,Bt,gt,ht,!0)}}t:{if(V=H?Da(H):window,G=V.nodeName&&V.nodeName.toLowerCase(),G==="select"||G==="input"&&V.type==="file")var nt=op;else if(ap(V))if(lp)nt=ES;else{nt=TS;var wt=wS}else G=V.nodeName,!G||G.toLowerCase()!=="input"||V.type!=="checkbox"&&V.type!=="radio"?H&&bc(H.elementType)&&(nt=op):nt=_S;if(nt&&(nt=nt(i,H))){rp(K,nt,o,Y);break t}wt&&wt(i,V,H),i==="focusout"&&H&&V.type==="number"&&H.memoizedProps.value!=null&&yc(V,"number",V.value)}switch(wt=H?Da(H):window,i){case"focusin":(ap(wt)||wt.contentEditable==="true")&&(Dn=wt,Lc=H,za=null);break;case"focusout":za=Lc=Dn=null;break;case"mousedown":Nc=!0;break;case"contextmenu":case"mouseup":case"dragend":Nc=!1,mp(K,o,Y);break;case"selectionchange":if(MS)break;case"keydown":case"keyup":mp(K,o,Y)}var ot;if(Mc)t:{switch(i){case"compositionstart":var dt="onCompositionStart";break t;case"compositionend":dt="onCompositionEnd";break t;case"compositionupdate":dt="onCompositionUpdate";break t}dt=void 0}else Rn?sp(i,o)&&(dt="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(dt="onCompositionStart");dt&&(tp&&o.locale!=="ko"&&(Rn||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&Rn&&(ot=Wf()):(rs=Y,wc="value"in rs?rs.value:rs.textContent,Rn=!0)),wt=rl(H,dt),0<wt.length&&(dt=new Zf(dt,i,null,o,Y),K.push({event:dt,listeners:wt}),ot?dt.data=ot:(ot=np(o),ot!==null&&(dt.data=ot)))),(ot=bS?vS(i,o):AS(i,o))&&(dt=rl(H,"onBeforeInput"),0<dt.length&&(wt=new Zf("onBeforeInput","beforeinput",null,o,Y),K.push({event:wt,listeners:dt}),wt.data=ot)),ux(K,i,H,o,Y)}Fm(K,n)})}function fr(i,n,o){return{instance:i,listener:n,currentTarget:o}}function rl(i,n){for(var o=n+"Capture",u=[];i!==null;){var p=i,m=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||m===null||(p=Pa(i,o),p!=null&&u.unshift(fr(i,p,m)),p=Pa(i,n),p!=null&&u.push(fr(i,p,m))),i.tag===3)return u;i=i.return}return[]}function ta(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Vm(i,n,o,u,p){for(var m=n._reactName,x=[];o!==null&&o!==u;){var E=o,k=E.alternate,H=E.stateNode;if(E=E.tag,k!==null&&k===u)break;E!==5&&E!==26&&E!==27||H===null||(k=H,p?(H=Pa(o,m),H!=null&&x.unshift(fr(o,H,k))):p||(H=Pa(o,m),H!=null&&x.push(fr(o,H,k)))),o=o.return}x.length!==0&&i.push({event:n,listeners:x})}var px=/\r\n?/g,gx=/\u0000|\uFFFD/g;function Um(i){return(typeof i=="string"?i:""+i).replace(px,`
`).replace(gx,"")}function Gm(i,n){return n=Um(n),Um(i)===n}function ol(){}function It(i,n,o,u,p,m){switch(o){case"children":typeof u=="string"?n==="body"||n==="textarea"&&u===""||En(i,u):(typeof u=="number"||typeof u=="bigint")&&n!=="body"&&En(i,""+u);break;case"className":ho(i,"class",u);break;case"tabIndex":ho(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ho(i,o,u);break;case"style":Xf(i,u,m);break;case"data":if(n!=="object"){ho(i,"data",u);break}case"src":case"href":if(u===""&&(n!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=go(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(n!=="input"&&It(i,n,"name",p.name,p,null),It(i,n,"formEncType",p.formEncType,p,null),It(i,n,"formMethod",p.formMethod,p,null),It(i,n,"formTarget",p.formTarget,p,null)):(It(i,n,"encType",p.encType,p,null),It(i,n,"method",p.method,p,null),It(i,n,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=go(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=ol);break;case"onScroll":u!=null&&Et("scroll",i);break;case"onScrollEnd":u!=null&&Et("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=go(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Et("beforetoggle",i),Et("toggle",i),uo(i,"popover",u);break;case"xlinkActuate":Bi(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Bi(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Bi(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Bi(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Bi(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Bi(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Bi(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Bi(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Bi(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":uo(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=qA.get(o)||o,uo(i,o,u))}}function ih(i,n,o,u,p,m){switch(o){case"style":Xf(i,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?En(i,u):(typeof u=="number"||typeof u=="bigint")&&En(i,""+u);break;case"onScroll":u!=null&&Et("scroll",i);break;case"onScrollEnd":u!=null&&Et("scrollend",i);break;case"onClick":u!=null&&(i.onclick=ol);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kf.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),n=o.slice(2,p?o.length-7:void 0),m=i[Oe]||null,m=m!=null?m[o]:null,typeof m=="function"&&i.removeEventListener(n,m,p),typeof u=="function")){typeof m!="function"&&m!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(n,u,p);break t}o in i?i[o]=u:u===!0?i.setAttribute(o,""):uo(i,o,u)}}}function be(i,n,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Et("error",i),Et("load",i);var u=!1,p=!1,m;for(m in o)if(o.hasOwnProperty(m)){var x=o[m];if(x!=null)switch(m){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:It(i,n,m,x,o,null)}}p&&It(i,n,"srcSet",o.srcSet,o,null),u&&It(i,n,"src",o.src,o,null);return;case"input":Et("invalid",i);var E=m=x=p=null,k=null,H=null;for(u in o)if(o.hasOwnProperty(u)){var Y=o[u];if(Y!=null)switch(u){case"name":p=Y;break;case"type":x=Y;break;case"checked":k=Y;break;case"defaultChecked":H=Y;break;case"value":m=Y;break;case"defaultValue":E=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,n));break;default:It(i,n,u,Y,o,null)}}Vf(i,m,E,k,H,x,p,!1),fo(i);return;case"select":Et("invalid",i),u=x=m=null;for(p in o)if(o.hasOwnProperty(p)&&(E=o[p],E!=null))switch(p){case"value":m=E;break;case"defaultValue":x=E;break;case"multiple":u=E;default:It(i,n,p,E,o,null)}n=m,o=x,i.multiple=!!u,n!=null?_n(i,!!u,n,!1):o!=null&&_n(i,!!u,o,!0);return;case"textarea":Et("invalid",i),m=p=u=null;for(x in o)if(o.hasOwnProperty(x)&&(E=o[x],E!=null))switch(x){case"value":u=E;break;case"defaultValue":p=E;break;case"children":m=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:It(i,n,x,E,o,null)}Gf(i,u,p,m),fo(i);return;case"option":for(k in o)if(o.hasOwnProperty(k)&&(u=o[k],u!=null))switch(k){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:It(i,n,k,u,o,null)}return;case"dialog":Et("beforetoggle",i),Et("toggle",i),Et("cancel",i),Et("close",i);break;case"iframe":case"object":Et("load",i);break;case"video":case"audio":for(u=0;u<dr.length;u++)Et(dr[u],i);break;case"image":Et("error",i),Et("load",i);break;case"details":Et("toggle",i);break;case"embed":case"source":case"link":Et("error",i),Et("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in o)if(o.hasOwnProperty(H)&&(u=o[H],u!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:It(i,n,H,u,o,null)}return;default:if(bc(n)){for(Y in o)o.hasOwnProperty(Y)&&(u=o[Y],u!==void 0&&ih(i,n,Y,u,o,void 0));return}}for(E in o)o.hasOwnProperty(E)&&(u=o[E],u!=null&&It(i,n,E,u,o,null))}function mx(i,n,o,u){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,m=null,x=null,E=null,k=null,H=null,Y=null;for(G in o){var K=o[G];if(o.hasOwnProperty(G)&&K!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":k=K;default:u.hasOwnProperty(G)||It(i,n,G,null,u,K)}}for(var V in u){var G=u[V];if(K=o[V],u.hasOwnProperty(V)&&(G!=null||K!=null))switch(V){case"type":m=G;break;case"name":p=G;break;case"checked":H=G;break;case"defaultChecked":Y=G;break;case"value":x=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:G!==K&&It(i,n,V,G,u,K)}}mc(i,x,E,k,H,Y,m,p);return;case"select":G=x=E=V=null;for(m in o)if(k=o[m],o.hasOwnProperty(m)&&k!=null)switch(m){case"value":break;case"multiple":G=k;default:u.hasOwnProperty(m)||It(i,n,m,null,u,k)}for(p in u)if(m=u[p],k=o[p],u.hasOwnProperty(p)&&(m!=null||k!=null))switch(p){case"value":V=m;break;case"defaultValue":E=m;break;case"multiple":x=m;default:m!==k&&It(i,n,p,m,u,k)}n=E,o=x,u=G,V!=null?_n(i,!!o,V,!1):!!u!=!!o&&(n!=null?_n(i,!!o,n,!0):_n(i,!!o,o?[]:"",!1));return;case"textarea":G=V=null;for(E in o)if(p=o[E],o.hasOwnProperty(E)&&p!=null&&!u.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:It(i,n,E,null,u,p)}for(x in u)if(p=u[x],m=o[x],u.hasOwnProperty(x)&&(p!=null||m!=null))switch(x){case"value":V=p;break;case"defaultValue":G=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(s(91));break;default:p!==m&&It(i,n,x,p,u,m)}Uf(i,V,G);return;case"option":for(var gt in o)if(V=o[gt],o.hasOwnProperty(gt)&&V!=null&&!u.hasOwnProperty(gt))switch(gt){case"selected":i.selected=!1;break;default:It(i,n,gt,null,u,V)}for(k in u)if(V=u[k],G=o[k],u.hasOwnProperty(k)&&V!==G&&(V!=null||G!=null))switch(k){case"selected":i.selected=V&&typeof V!="function"&&typeof V!="symbol";break;default:It(i,n,k,V,u,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ht in o)V=o[ht],o.hasOwnProperty(ht)&&V!=null&&!u.hasOwnProperty(ht)&&It(i,n,ht,null,u,V);for(H in u)if(V=u[H],G=o[H],u.hasOwnProperty(H)&&V!==G&&(V!=null||G!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(s(137,n));break;default:It(i,n,H,V,u,G)}return;default:if(bc(n)){for(var Bt in o)V=o[Bt],o.hasOwnProperty(Bt)&&V!==void 0&&!u.hasOwnProperty(Bt)&&ih(i,n,Bt,void 0,u,V);for(Y in u)V=u[Y],G=o[Y],!u.hasOwnProperty(Y)||V===G||V===void 0&&G===void 0||ih(i,n,Y,V,u,G);return}}for(var z in o)V=o[z],o.hasOwnProperty(z)&&V!=null&&!u.hasOwnProperty(z)&&It(i,n,z,null,u,V);for(K in u)V=u[K],G=o[K],!u.hasOwnProperty(K)||V===G||V==null&&G==null||It(i,n,K,V,u,G)}var sh=null,nh=null;function ll(i){return i.nodeType===9?i:i.ownerDocument}function qm(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xm(i,n){if(i===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&n==="foreignObject"?0:i}function ah(i,n){return i==="textarea"||i==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var rh=null;function yx(){var i=window.event;return i&&i.type==="popstate"?i===rh?!1:(rh=i,!0):(rh=null,!1)}var Ym=typeof setTimeout=="function"?setTimeout:void 0,bx=typeof clearTimeout=="function"?clearTimeout:void 0,$m=typeof Promise=="function"?Promise:void 0,vx=typeof queueMicrotask=="function"?queueMicrotask:typeof $m<"u"?function(i){return $m.resolve(null).then(i).catch(Ax)}:Ym;function Ax(i){setTimeout(function(){throw i})}function xs(i){return i==="head"}function Wm(i,n){var o=n,u=0,p=0;do{var m=o.nextSibling;if(i.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"){if(0<u&&8>u){o=u;var x=i.ownerDocument;if(o&1&&pr(x.documentElement),o&2&&pr(x.body),o&4)for(o=x.head,pr(o),x=o.firstChild;x;){var E=x.nextSibling,k=x.nodeName;x[Ra]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&x.rel.toLowerCase()==="stylesheet"||o.removeChild(x),x=E}}if(p===0){i.removeChild(m),xr(n);return}p--}else o==="$"||o==="$?"||o==="$!"?p++:u=o.charCodeAt(0)-48;else u=0;o=m}while(o);xr(n)}function oh(i){var n=i.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var o=n;switch(n=n.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":oh(o),dc(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function Sx(i,n,o,u){for(;i.nodeType===1;){var p=o;if(i.nodeName.toLowerCase()!==n.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Ra])switch(n){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(m=i.getAttribute("rel"),m==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(m!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(m=i.getAttribute("src"),(m!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&m&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(n==="input"&&i.type==="hidden"){var m=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===m)return i}else return i;if(i=yi(i.nextSibling),i===null)break}return null}function xx(i,n,o){if(n==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=yi(i.nextSibling),i===null))return null;return i}function lh(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function wx(i,n){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")n();else{var u=function(){n(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function yi(i){for(;i!=null;i=i.nextSibling){var n=i.nodeType;if(n===1||n===3)break;if(n===8){if(n=i.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return i}var ch=null;function Km(i){i=i.previousSibling;for(var n=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(n===0)return i;n--}else o==="/$"&&n++}i=i.previousSibling}return null}function Qm(i,n,o){switch(n=ll(o),i){case"html":if(i=n.documentElement,!i)throw Error(s(452));return i;case"head":if(i=n.head,!i)throw Error(s(453));return i;case"body":if(i=n.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function pr(i){for(var n=i.attributes;n.length;)i.removeAttributeNode(n[0]);dc(i)}var li=new Map,Zm=new Set;function cl(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Qi=U.d;U.d={f:Tx,r:_x,D:Ex,C:Cx,L:Mx,m:Rx,X:Px,S:Dx,M:Lx};function Tx(){var i=Qi.f(),n=tl();return i||n}function _x(i){var n=Sn(i);n!==null&&n.tag===5&&n.type==="form"?bg(n):Qi.r(i)}var ea=typeof document>"u"?null:document;function Jm(i,n,o){var u=ea;if(u&&typeof n=="string"&&n){var p=ei(n);p='link[rel="'+i+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),Zm.has(p)||(Zm.add(p),i={rel:i,crossOrigin:o,href:n},u.querySelector(p)===null&&(n=u.createElement("link"),be(n,"link",i),de(n),u.head.appendChild(n)))}}function Ex(i){Qi.D(i),Jm("dns-prefetch",i,null)}function Cx(i,n){Qi.C(i,n),Jm("preconnect",i,n)}function Mx(i,n,o){Qi.L(i,n,o);var u=ea;if(u&&i&&n){var p='link[rel="preload"][as="'+ei(n)+'"]';n==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+ei(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+ei(o.imageSizes)+'"]')):p+='[href="'+ei(i)+'"]';var m=p;switch(n){case"style":m=ia(i);break;case"script":m=sa(i)}li.has(m)||(i=g({rel:"preload",href:n==="image"&&o&&o.imageSrcSet?void 0:i,as:n},o),li.set(m,i),u.querySelector(p)!==null||n==="style"&&u.querySelector(gr(m))||n==="script"&&u.querySelector(mr(m))||(n=u.createElement("link"),be(n,"link",i),de(n),u.head.appendChild(n)))}}function Rx(i,n){Qi.m(i,n);var o=ea;if(o&&i){var u=n&&typeof n.as=="string"?n.as:"script",p='link[rel="modulepreload"][as="'+ei(u)+'"][href="'+ei(i)+'"]',m=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=sa(i)}if(!li.has(m)&&(i=g({rel:"modulepreload",href:i},n),li.set(m,i),o.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(mr(m)))return}u=o.createElement("link"),be(u,"link",i),de(u),o.head.appendChild(u)}}}function Dx(i,n,o){Qi.S(i,n,o);var u=ea;if(u&&i){var p=xn(u).hoistableStyles,m=ia(i);n=n||"default";var x=p.get(m);if(!x){var E={loading:0,preload:null};if(x=u.querySelector(gr(m)))E.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":n},o),(o=li.get(m))&&uh(i,o);var k=x=u.createElement("link");de(k),be(k,"link",i),k._p=new Promise(function(H,Y){k.onload=H,k.onerror=Y}),k.addEventListener("load",function(){E.loading|=1}),k.addEventListener("error",function(){E.loading|=2}),E.loading|=4,ul(x,n,u)}x={type:"stylesheet",instance:x,count:1,state:E},p.set(m,x)}}}function Px(i,n){Qi.X(i,n);var o=ea;if(o&&i){var u=xn(o).hoistableScripts,p=sa(i),m=u.get(p);m||(m=o.querySelector(mr(p)),m||(i=g({src:i,async:!0},n),(n=li.get(p))&&hh(i,n),m=o.createElement("script"),de(m),be(m,"link",i),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(p,m))}}function Lx(i,n){Qi.M(i,n);var o=ea;if(o&&i){var u=xn(o).hoistableScripts,p=sa(i),m=u.get(p);m||(m=o.querySelector(mr(p)),m||(i=g({src:i,async:!0,type:"module"},n),(n=li.get(p))&&hh(i,n),m=o.createElement("script"),de(m),be(m,"link",i),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(p,m))}}function ty(i,n,o,u){var p=(p=ct.current)?cl(p):null;if(!p)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(n=ia(o.href),o=xn(p).hoistableStyles,u=o.get(n),u||(u={type:"style",instance:null,count:0,state:null},o.set(n,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=ia(o.href);var m=xn(p).hoistableStyles,x=m.get(i);if(x||(p=p.ownerDocument||p,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(i,x),(m=p.querySelector(gr(i)))&&!m._p&&(x.instance=m,x.state.loading=5),li.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},li.set(i,o),m||Nx(p,i,o,x.state))),n&&u===null)throw Error(s(528,""));return x}if(n&&u!==null)throw Error(s(529,""));return null;case"script":return n=o.async,o=o.src,typeof o=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=sa(o),o=xn(p).hoistableScripts,u=o.get(n),u||(u={type:"script",instance:null,count:0,state:null},o.set(n,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function ia(i){return'href="'+ei(i)+'"'}function gr(i){return'link[rel="stylesheet"]['+i+"]"}function ey(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function Nx(i,n,o,u){i.querySelector('link[rel="preload"][as="style"]['+n+"]")?u.loading=1:(n=i.createElement("link"),u.preload=n,n.addEventListener("load",function(){return u.loading|=1}),n.addEventListener("error",function(){return u.loading|=2}),be(n,"link",o),de(n),i.head.appendChild(n))}function sa(i){return'[src="'+ei(i)+'"]'}function mr(i){return"script[async]"+i}function iy(i,n,o){if(n.count++,n.instance===null)switch(n.type){case"style":var u=i.querySelector('style[data-href~="'+ei(o.href)+'"]');if(u)return n.instance=u,de(u),u;var p=g({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),de(u),be(u,"style",p),ul(u,o.precedence,i),n.instance=u;case"stylesheet":p=ia(o.href);var m=i.querySelector(gr(p));if(m)return n.state.loading|=4,n.instance=m,de(m),m;u=ey(o),(p=li.get(p))&&uh(u,p),m=(i.ownerDocument||i).createElement("link"),de(m);var x=m;return x._p=new Promise(function(E,k){x.onload=E,x.onerror=k}),be(m,"link",u),n.state.loading|=4,ul(m,o.precedence,i),n.instance=m;case"script":return m=sa(o.src),(p=i.querySelector(mr(m)))?(n.instance=p,de(p),p):(u=o,(p=li.get(m))&&(u=g({},o),hh(u,p)),i=i.ownerDocument||i,p=i.createElement("script"),de(p),be(p,"link",u),i.head.appendChild(p),n.instance=p);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(u=n.instance,n.state.loading|=4,ul(u,o.precedence,i));return n.instance}function ul(i,n,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,m=p,x=0;x<u.length;x++){var E=u[x];if(E.dataset.precedence===n)m=E;else if(m!==p)break}m?m.parentNode.insertBefore(i,m.nextSibling):(n=o.nodeType===9?o.head:o,n.insertBefore(i,n.firstChild))}function uh(i,n){i.crossOrigin==null&&(i.crossOrigin=n.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=n.referrerPolicy),i.title==null&&(i.title=n.title)}function hh(i,n){i.crossOrigin==null&&(i.crossOrigin=n.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=n.referrerPolicy),i.integrity==null&&(i.integrity=n.integrity)}var hl=null;function sy(i,n,o){if(hl===null){var u=new Map,p=hl=new Map;p.set(o,u)}else p=hl,u=p.get(o),u||(u=new Map,p.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),p=0;p<o.length;p++){var m=o[p];if(!(m[Ra]||m[we]||i==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var x=m.getAttribute(n)||"";x=i+x;var E=u.get(x);E?E.push(m):u.set(x,[m])}}return u}function ny(i,n,o){i=i.ownerDocument||i,i.head.insertBefore(o,n==="title"?i.querySelector("head > title"):null)}function Ox(i,n,o){if(o===1||n.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return i=n.disabled,typeof n.precedence=="string"&&i==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function ay(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var yr=null;function kx(){}function Ix(i,n,o){if(yr===null)throw Error(s(475));var u=yr;if(n.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var p=ia(o.href),m=i.querySelector(gr(p));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=dl.bind(u),i.then(u,u)),n.state.loading|=4,n.instance=m,de(m);return}m=i.ownerDocument||i,o=ey(o),(p=li.get(p))&&uh(o,p),m=m.createElement("link"),de(m);var x=m;x._p=new Promise(function(E,k){x.onload=E,x.onerror=k}),be(m,"link",o),n.instance=m}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(n,i),(i=n.state.preload)&&(n.state.loading&3)===0&&(u.count++,n=dl.bind(u),i.addEventListener("load",n),i.addEventListener("error",n))}}function Bx(){if(yr===null)throw Error(s(475));var i=yr;return i.stylesheets&&i.count===0&&dh(i,i.stylesheets),0<i.count?function(n){var o=setTimeout(function(){if(i.stylesheets&&dh(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=n,function(){i.unsuspend=null,clearTimeout(o)}}:null}function dl(){if(this.count--,this.count===0){if(this.stylesheets)dh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var fl=null;function dh(i,n){i.stylesheets=null,i.unsuspend!==null&&(i.count++,fl=new Map,n.forEach(jx,i),fl=null,dl.call(i))}function jx(i,n){if(!(n.state.loading&4)){var o=fl.get(i);if(o)var u=o.get(null);else{o=new Map,fl.set(i,o);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<p.length;m++){var x=p[m];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(o.set(x.dataset.precedence,x),u=x)}u&&o.set(null,u)}p=n.instance,x=p.getAttribute("data-precedence"),m=o.get(x)||u,m===u&&o.set(null,p),o.set(x,p),this.count++,u=dl.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),m?m.parentNode.insertBefore(p,m.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),n.state.loading|=4}}var br={$$typeof:C,Provider:null,Consumer:null,_currentValue:et,_currentValue2:et,_threadCount:0};function zx(i,n,o,u,p,m,x,E){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=lc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lc(0),this.hiddenUpdates=lc(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=m,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function ry(i,n,o,u,p,m,x,E,k,H,Y,K){return i=new zx(i,n,o,x,E,k,H,K),n=1,m===!0&&(n|=24),m=Xe(3,null,null,n),i.current=m,m.stateNode=i,n=Yc(),n.refCount++,i.pooledCache=n,n.refCount++,m.memoizedState={element:u,isDehydrated:o,cache:n},Qc(m),i}function oy(i){return i?(i=On,i):On}function ly(i,n,o,u,p,m){p=oy(p),u.context===null?u.context=p:u.pendingContext=p,u=cs(n),u.payload={element:o},m=m===void 0?null:m,m!==null&&(u.callback=m),o=us(i,u,n),o!==null&&(Qe(o,i,n),$a(o,i,n))}function cy(i,n){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<n?o:n}}function fh(i,n){cy(i,n),(i=i.alternate)&&cy(i,n)}function uy(i){if(i.tag===13){var n=Nn(i,67108864);n!==null&&Qe(n,i,67108864),fh(i,67108864)}}var pl=!0;function Fx(i,n,o,u){var p=j.T;j.T=null;var m=U.p;try{U.p=2,ph(i,n,o,u)}finally{U.p=m,j.T=p}}function Hx(i,n,o,u){var p=j.T;j.T=null;var m=U.p;try{U.p=8,ph(i,n,o,u)}finally{U.p=m,j.T=p}}function ph(i,n,o,u){if(pl){var p=gh(u);if(p===null)eh(i,n,u,gl,o),dy(i,u);else if(Ux(p,i,n,o,u))u.stopPropagation();else if(dy(i,u),n&4&&-1<Vx.indexOf(i)){for(;p!==null;){var m=Sn(p);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var x=zs(m.pendingLanes);if(x!==0){var E=m;for(E.pendingLanes|=2,E.entangledLanes|=2;x;){var k=1<<31-Ge(x);E.entanglements[1]|=k,x&=~k}Ei(m),(Nt&6)===0&&(Zo=Si()+500,hr(0))}}break;case 13:E=Nn(m,2),E!==null&&Qe(E,m,2),tl(),fh(m,2)}if(m=gh(u),m===null&&eh(i,n,u,gl,o),m===p)break;p=m}p!==null&&u.stopPropagation()}else eh(i,n,u,null,o)}}function gh(i){return i=Ac(i),mh(i)}var gl=null;function mh(i){if(gl=null,i=An(i),i!==null){var n=l(i);if(n===null)i=null;else{var o=n.tag;if(o===13){if(i=c(n),i!==null)return i;i=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;i=null}else n!==i&&(i=null)}}return gl=i,null}function hy(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(CA()){case _f:return 2;case Ef:return 8;case ro:case MA:return 32;case Cf:return 268435456;default:return 32}default:return 32}}var yh=!1,ws=null,Ts=null,_s=null,vr=new Map,Ar=new Map,Es=[],Vx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dy(i,n){switch(i){case"focusin":case"focusout":ws=null;break;case"dragenter":case"dragleave":Ts=null;break;case"mouseover":case"mouseout":_s=null;break;case"pointerover":case"pointerout":vr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ar.delete(n.pointerId)}}function Sr(i,n,o,u,p,m){return i===null||i.nativeEvent!==m?(i={blockedOn:n,domEventName:o,eventSystemFlags:u,nativeEvent:m,targetContainers:[p]},n!==null&&(n=Sn(n),n!==null&&uy(n)),i):(i.eventSystemFlags|=u,n=i.targetContainers,p!==null&&n.indexOf(p)===-1&&n.push(p),i)}function Ux(i,n,o,u,p){switch(n){case"focusin":return ws=Sr(ws,i,n,o,u,p),!0;case"dragenter":return Ts=Sr(Ts,i,n,o,u,p),!0;case"mouseover":return _s=Sr(_s,i,n,o,u,p),!0;case"pointerover":var m=p.pointerId;return vr.set(m,Sr(vr.get(m)||null,i,n,o,u,p)),!0;case"gotpointercapture":return m=p.pointerId,Ar.set(m,Sr(Ar.get(m)||null,i,n,o,u,p)),!0}return!1}function fy(i){var n=An(i.target);if(n!==null){var o=l(n);if(o!==null){if(n=o.tag,n===13){if(n=c(o),n!==null){i.blockedOn=n,IA(i.priority,function(){if(o.tag===13){var u=Ke();u=cc(u);var p=Nn(o,u);p!==null&&Qe(p,o,u),fh(o,u)}});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ml(i){if(i.blockedOn!==null)return!1;for(var n=i.targetContainers;0<n.length;){var o=gh(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);vc=u,o.target.dispatchEvent(u),vc=null}else return n=Sn(o),n!==null&&uy(n),i.blockedOn=o,!1;n.shift()}return!0}function py(i,n,o){ml(i)&&o.delete(n)}function Gx(){yh=!1,ws!==null&&ml(ws)&&(ws=null),Ts!==null&&ml(Ts)&&(Ts=null),_s!==null&&ml(_s)&&(_s=null),vr.forEach(py),Ar.forEach(py)}function yl(i,n){i.blockedOn===n&&(i.blockedOn=null,yh||(yh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Gx)))}var bl=null;function gy(i){bl!==i&&(bl=i,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){bl===i&&(bl=null);for(var n=0;n<i.length;n+=3){var o=i[n],u=i[n+1],p=i[n+2];if(typeof u!="function"){if(mh(u||o)===null)continue;break}var m=Sn(o);m!==null&&(i.splice(n,3),n-=3,mu(m,{pending:!0,data:p,method:o.method,action:u},u,p))}}))}function xr(i){function n(k){return yl(k,i)}ws!==null&&yl(ws,i),Ts!==null&&yl(Ts,i),_s!==null&&yl(_s,i),vr.forEach(n),Ar.forEach(n);for(var o=0;o<Es.length;o++){var u=Es[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Es.length&&(o=Es[0],o.blockedOn===null);)fy(o),o.blockedOn===null&&Es.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var p=o[u],m=o[u+1],x=p[Oe]||null;if(typeof m=="function")x||gy(o);else if(x){var E=null;if(m&&m.hasAttribute("formAction")){if(p=m,x=m[Oe]||null)E=x.formAction;else if(mh(p)!==null)continue}else E=x.action;typeof E=="function"?o[u+1]=E:(o.splice(u,3),u-=3),gy(o)}}}function bh(i){this._internalRoot=i}vl.prototype.render=bh.prototype.render=function(i){var n=this._internalRoot;if(n===null)throw Error(s(409));var o=n.current,u=Ke();ly(o,u,i,n,null,null)},vl.prototype.unmount=bh.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var n=i.containerInfo;ly(i.current,2,null,i,null,null),tl(),n[vn]=null}};function vl(i){this._internalRoot=i}vl.prototype.unstable_scheduleHydration=function(i){if(i){var n=Lf();i={blockedOn:null,target:i,priority:n};for(var o=0;o<Es.length&&n!==0&&n<Es[o].priority;o++);Es.splice(o,0,i),o===0&&fy(i)}};var my=t.version;if(my!=="19.1.1")throw Error(s(527,my,"19.1.1"));U.findDOMNode=function(i){var n=i._reactInternals;if(n===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=d(n),i=i!==null?f(i):null,i=i===null?null:i.stateNode,i};var qx={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Al=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Al.isDisabled&&Al.supportsFiber)try{Ea=Al.inject(qx),Ue=Al}catch{}}return Tr.createRoot=function(i,n){if(!a(i))throw Error(s(299));var o=!1,u="",p=Lg,m=Ng,x=Og,E=null;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(p=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(x=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=ry(i,1,!1,null,null,o,u,p,m,x,E,null),i[vn]=n.current,th(i),new bh(n)},Tr.hydrateRoot=function(i,n,o){if(!a(i))throw Error(s(299));var u=!1,p="",m=Lg,x=Ng,E=Og,k=null,H=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(E=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(k=o.unstable_transitionCallbacks),o.formState!==void 0&&(H=o.formState)),n=ry(i,1,!0,n,o??null,u,p,m,x,E,k,H),n.context=oy(null),o=n.current,u=Ke(),u=cc(u),p=cs(u),p.callback=null,us(o,p,u),o=u,n.current.lanes=o,Ma(n,o),Ei(n),i[vn]=n.current,th(i),new vl(n)},Tr.version="19.1.1",Tr}var My;function e1(){if(My)return xh.exports;My=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),xh.exports=t1(),xh.exports}var i1=e1();const s1=db(i1),Md=Q.createContext({});function Rd(r){const t=Q.useRef(null);return t.current===null&&(t.current=r()),t.current}const Dd=typeof window<"u",fb=Dd?Q.useLayoutEffect:Q.useEffect,Kl=Q.createContext(null);function Pd(r,t){r.indexOf(t)===-1&&r.push(t)}function Ld(r,t){const e=r.indexOf(t);e>-1&&r.splice(e,1)}const es=(r,t,e)=>e>t?t:e<r?r:e;let Nd=()=>{};const is={},pb=r=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(r);function gb(r){return typeof r=="object"&&r!==null}const mb=r=>/^0[^.\s]+$/u.test(r);function Od(r){let t;return()=>(t===void 0&&(t=r()),t)}const fi=r=>r,n1=(r,t)=>e=>t(r(e)),Kr=(...r)=>r.reduce(n1),Hr=(r,t,e)=>{const s=t-r;return s===0?1:(e-r)/s};class kd{constructor(){this.subscriptions=[]}add(t){return Pd(this.subscriptions,t),()=>Ld(this.subscriptions,t)}notify(t,e,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,e,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(t,e,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ni=r=>r*1e3,Oi=r=>r/1e3;function yb(r,t){return t?r*(1e3/t):0}const bb=(r,t,e)=>(((1-3*e+3*t)*r+(3*e-6*t))*r+3*t)*r,a1=1e-7,r1=12;function o1(r,t,e,s,a){let l,c,h=0;do c=t+(e-t)/2,l=bb(c,s,a)-r,l>0?e=c:t=c;while(Math.abs(l)>a1&&++h<r1);return c}function Qr(r,t,e,s){if(r===t&&e===s)return fi;const a=l=>o1(l,0,1,r,e);return l=>l===0||l===1?l:bb(a(l),t,s)}const vb=r=>t=>t<=.5?r(2*t)/2:(2-r(2*(1-t)))/2,Ab=r=>t=>1-r(1-t),Sb=Qr(.33,1.53,.69,.99),Id=Ab(Sb),xb=vb(Id),wb=r=>(r*=2)<1?.5*Id(r):.5*(2-Math.pow(2,-10*(r-1))),Bd=r=>1-Math.sin(Math.acos(r)),Tb=Ab(Bd),_b=vb(Bd),l1=Qr(.42,0,1,1),c1=Qr(0,0,.58,1),Eb=Qr(.42,0,.58,1),u1=r=>Array.isArray(r)&&typeof r[0]!="number",Cb=r=>Array.isArray(r)&&typeof r[0]=="number",h1={linear:fi,easeIn:l1,easeInOut:Eb,easeOut:c1,circIn:Bd,circInOut:_b,circOut:Tb,backIn:Id,backInOut:xb,backOut:Sb,anticipate:wb},d1=r=>typeof r=="string",Ry=r=>{if(Cb(r)){Nd(r.length===4);const[t,e,s,a]=r;return Qr(t,e,s,a)}else if(d1(r))return h1[r];return r},Sl=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function f1(r,t){let e=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function d(g){c.has(g)&&(f.schedule(g),r()),g(h)}const f={schedule:(g,y=!1,b=!1)=>{const w=b&&a?e:s;return y&&c.add(g),w.has(g)||w.add(g),g},cancel:g=>{s.delete(g),c.delete(g)},process:g=>{if(h=g,a){l=!0;return}a=!0,[e,s]=[s,e],e.forEach(d),e.clear(),a=!1,l&&(l=!1,f.process(g))}};return f}const p1=40;function Mb(r,t){let e=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>e=!0,c=Sl.reduce((C,v)=>(C[v]=f1(l),C),{}),{setup:h,read:d,resolveKeyframes:f,preUpdate:g,update:y,preRender:b,render:S,postRender:w}=c,T=()=>{const C=is.useManualTiming?a.timestamp:performance.now();e=!1,is.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(C-a.timestamp,p1),1)),a.timestamp=C,a.isProcessing=!0,h.process(a),d.process(a),f.process(a),g.process(a),y.process(a),b.process(a),S.process(a),w.process(a),a.isProcessing=!1,e&&t&&(s=!1,r(T))},R=()=>{e=!0,s=!0,a.isProcessing||r(T)};return{schedule:Sl.reduce((C,v)=>{const A=c[v];return C[v]=(_,D=!1,P=!1)=>(e||R(),A.schedule(_,D,P)),C},{}),cancel:C=>{for(let v=0;v<Sl.length;v++)c[Sl[v]].cancel(C)},state:a,steps:c}}const{schedule:Gt,cancel:Ls,state:Ae,steps:Eh}=Mb(typeof requestAnimationFrame<"u"?requestAnimationFrame:fi,!0);let Ol;function g1(){Ol=void 0}const Ve={now:()=>(Ol===void 0&&Ve.set(Ae.isProcessing||is.useManualTiming?Ae.timestamp:performance.now()),Ol),set:r=>{Ol=r,queueMicrotask(g1)}},Rb=r=>t=>typeof t=="string"&&t.startsWith(r),jd=Rb("--"),m1=Rb("var(--"),zd=r=>m1(r)?y1.test(r.split("/*")[0].trim()):!1,y1=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Sa={test:r=>typeof r=="number",parse:parseFloat,transform:r=>r},Vr={...Sa,transform:r=>es(0,1,r)},xl={...Sa,default:1},kr=r=>Math.round(r*1e5)/1e5,Fd=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function b1(r){return r==null}const v1=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Hd=(r,t)=>e=>!!(typeof e=="string"&&v1.test(e)&&e.startsWith(r)||t&&!b1(e)&&Object.prototype.hasOwnProperty.call(e,t)),Db=(r,t,e)=>s=>{if(typeof s!="string")return s;const[a,l,c,h]=s.match(Fd);return{[r]:parseFloat(a),[t]:parseFloat(l),[e]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},A1=r=>es(0,255,r),Ch={...Sa,transform:r=>Math.round(A1(r))},rn={test:Hd("rgb","red"),parse:Db("red","green","blue"),transform:({red:r,green:t,blue:e,alpha:s=1})=>"rgba("+Ch.transform(r)+", "+Ch.transform(t)+", "+Ch.transform(e)+", "+kr(Vr.transform(s))+")"};function S1(r){let t="",e="",s="",a="";return r.length>5?(t=r.substring(1,3),e=r.substring(3,5),s=r.substring(5,7),a=r.substring(7,9)):(t=r.substring(1,2),e=r.substring(2,3),s=r.substring(3,4),a=r.substring(4,5),t+=t,e+=e,s+=s,a+=a),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const Wh={test:Hd("#"),parse:S1,transform:rn.transform},Zr=r=>({test:t=>typeof t=="string"&&t.endsWith(r)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${r}`}),Ms=Zr("deg"),ki=Zr("%"),mt=Zr("px"),x1=Zr("vh"),w1=Zr("vw"),Dy={...ki,parse:r=>ki.parse(r)/100,transform:r=>ki.transform(r*100)},oa={test:Hd("hsl","hue"),parse:Db("hue","saturation","lightness"),transform:({hue:r,saturation:t,lightness:e,alpha:s=1})=>"hsla("+Math.round(r)+", "+ki.transform(kr(t))+", "+ki.transform(kr(e))+", "+kr(Vr.transform(s))+")"},re={test:r=>rn.test(r)||Wh.test(r)||oa.test(r),parse:r=>rn.test(r)?rn.parse(r):oa.test(r)?oa.parse(r):Wh.parse(r),transform:r=>typeof r=="string"?r:r.hasOwnProperty("red")?rn.transform(r):oa.transform(r),getAnimatableNone:r=>{const t=re.parse(r);return t.alpha=0,re.transform(t)}},T1=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function _1(r){return isNaN(r)&&typeof r=="string"&&(r.match(Fd)?.length||0)+(r.match(T1)?.length||0)>0}const Pb="number",Lb="color",E1="var",C1="var(",Py="${}",M1=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ur(r){const t=r.toString(),e=[],s={color:[],number:[],var:[]},a=[];let l=0;const h=t.replace(M1,d=>(re.test(d)?(s.color.push(l),a.push(Lb),e.push(re.parse(d))):d.startsWith(C1)?(s.var.push(l),a.push(E1),e.push(d)):(s.number.push(l),a.push(Pb),e.push(parseFloat(d))),++l,Py)).split(Py);return{values:e,split:h,indexes:s,types:a}}function Nb(r){return Ur(r).values}function Ob(r){const{split:t,types:e}=Ur(r),s=t.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=t[c],a[c]!==void 0){const h=e[c];h===Pb?l+=kr(a[c]):h===Lb?l+=re.transform(a[c]):l+=a[c]}return l}}const R1=r=>typeof r=="number"?0:re.test(r)?re.getAnimatableNone(r):r;function D1(r){const t=Nb(r);return Ob(r)(t.map(R1))}const Ns={test:_1,parse:Nb,createTransformer:Ob,getAnimatableNone:D1};function Mh(r,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?r+(t-r)*6*e:e<1/2?t:e<2/3?r+(t-r)*(2/3-e)*6:r}function P1({hue:r,saturation:t,lightness:e,alpha:s}){r/=360,t/=100,e/=100;let a=0,l=0,c=0;if(!t)a=l=c=e;else{const h=e<.5?e*(1+t):e+t-e*t,d=2*e-h;a=Mh(d,h,r+1/3),l=Mh(d,h,r),c=Mh(d,h,r-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function Hl(r,t){return e=>e>0?t:r}const Yt=(r,t,e)=>r+(t-r)*e,Rh=(r,t,e)=>{const s=r*r,a=e*(t*t-s)+s;return a<0?0:Math.sqrt(a)},L1=[Wh,rn,oa],N1=r=>L1.find(t=>t.test(r));function Ly(r){const t=N1(r);if(!t)return!1;let e=t.parse(r);return t===oa&&(e=P1(e)),e}const Ny=(r,t)=>{const e=Ly(r),s=Ly(t);if(!e||!s)return Hl(r,t);const a={...e};return l=>(a.red=Rh(e.red,s.red,l),a.green=Rh(e.green,s.green,l),a.blue=Rh(e.blue,s.blue,l),a.alpha=Yt(e.alpha,s.alpha,l),rn.transform(a))},Kh=new Set(["none","hidden"]);function O1(r,t){return Kh.has(r)?e=>e<=0?r:t:e=>e>=1?t:r}function k1(r,t){return e=>Yt(r,t,e)}function Vd(r){return typeof r=="number"?k1:typeof r=="string"?zd(r)?Hl:re.test(r)?Ny:j1:Array.isArray(r)?kb:typeof r=="object"?re.test(r)?Ny:I1:Hl}function kb(r,t){const e=[...r],s=e.length,a=r.map((l,c)=>Vd(l)(l,t[c]));return l=>{for(let c=0;c<s;c++)e[c]=a[c](l);return e}}function I1(r,t){const e={...r,...t},s={};for(const a in e)r[a]!==void 0&&t[a]!==void 0&&(s[a]=Vd(r[a])(r[a],t[a]));return a=>{for(const l in s)e[l]=s[l](a);return e}}function B1(r,t){const e=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const l=t.types[a],c=r.indexes[l][s[l]],h=r.values[c]??0;e[a]=h,s[l]++}return e}const j1=(r,t)=>{const e=Ns.createTransformer(t),s=Ur(r),a=Ur(t);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?Kh.has(r)&&!a.values.length||Kh.has(t)&&!s.values.length?O1(r,t):Kr(kb(B1(s,a),a.values),e):Hl(r,t)};function Ib(r,t,e){return typeof r=="number"&&typeof t=="number"&&typeof e=="number"?Yt(r,t,e):Vd(r)(r,t)}const z1=r=>{const t=({timestamp:e})=>r(e);return{start:(e=!0)=>Gt.update(t,e),stop:()=>Ls(t),now:()=>Ae.isProcessing?Ae.timestamp:Ve.now()}},Bb=(r,t,e=10)=>{let s="";const a=Math.max(Math.round(t/e),2);for(let l=0;l<a;l++)s+=Math.round(r(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Vl=2e4;function Ud(r){let t=0;const e=50;let s=r.next(t);for(;!s.done&&t<Vl;)t+=e,s=r.next(t);return t>=Vl?1/0:t}function F1(r,t=100,e){const s=e({...r,keyframes:[0,t]}),a=Math.min(Ud(s),Vl);return{type:"keyframes",ease:l=>s.next(a*l).value/t,duration:Oi(a)}}const H1=5;function jb(r,t,e){const s=Math.max(t-H1,0);return yb(e-r(s),t-s)}const Kt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Dh=.001;function V1({duration:r=Kt.duration,bounce:t=Kt.bounce,velocity:e=Kt.velocity,mass:s=Kt.mass}){let a,l,c=1-t;c=es(Kt.minDamping,Kt.maxDamping,c),r=es(Kt.minDuration,Kt.maxDuration,Oi(r)),c<1?(a=f=>{const g=f*c,y=g*r,b=g-e,S=Qh(f,c),w=Math.exp(-y);return Dh-b/S*w},l=f=>{const y=f*c*r,b=y*e+e,S=Math.pow(c,2)*Math.pow(f,2)*r,w=Math.exp(-y),T=Qh(Math.pow(f,2),c);return(-a(f)+Dh>0?-1:1)*((b-S)*w)/T}):(a=f=>{const g=Math.exp(-f*r),y=(f-e)*r+1;return-Dh+g*y},l=f=>{const g=Math.exp(-f*r),y=(e-f)*(r*r);return g*y});const h=5/r,d=G1(a,l,h);if(r=Ni(r),isNaN(d))return{stiffness:Kt.stiffness,damping:Kt.damping,duration:r};{const f=Math.pow(d,2)*s;return{stiffness:f,damping:c*2*Math.sqrt(s*f),duration:r}}}const U1=12;function G1(r,t,e){let s=e;for(let a=1;a<U1;a++)s=s-r(s)/t(s);return s}function Qh(r,t){return r*Math.sqrt(1-t*t)}const q1=["duration","bounce"],X1=["stiffness","damping","mass"];function Oy(r,t){return t.some(e=>r[e]!==void 0)}function Y1(r){let t={velocity:Kt.velocity,stiffness:Kt.stiffness,damping:Kt.damping,mass:Kt.mass,isResolvedFromDuration:!1,...r};if(!Oy(r,X1)&&Oy(r,q1))if(r.visualDuration){const e=r.visualDuration,s=2*Math.PI/(e*1.2),a=s*s,l=2*es(.05,1,1-(r.bounce||0))*Math.sqrt(a);t={...t,mass:Kt.mass,stiffness:a,damping:l}}else{const e=V1(r);t={...t,...e,mass:Kt.mass},t.isResolvedFromDuration=!0}return t}function Ul(r=Kt.visualDuration,t=Kt.bounce){const e=typeof r!="object"?{visualDuration:r,keyframes:[0,1],bounce:t}:r;let{restSpeed:s,restDelta:a}=e;const l=e.keyframes[0],c=e.keyframes[e.keyframes.length-1],h={done:!1,value:l},{stiffness:d,damping:f,mass:g,duration:y,velocity:b,isResolvedFromDuration:S}=Y1({...e,velocity:-Oi(e.velocity||0)}),w=b||0,T=f/(2*Math.sqrt(d*g)),R=c-l,M=Oi(Math.sqrt(d/g)),N=Math.abs(R)<5;s||(s=N?Kt.restSpeed.granular:Kt.restSpeed.default),a||(a=N?Kt.restDelta.granular:Kt.restDelta.default);let C;if(T<1){const A=Qh(M,T);C=_=>{const D=Math.exp(-T*M*_);return c-D*((w+T*M*R)/A*Math.sin(A*_)+R*Math.cos(A*_))}}else if(T===1)C=A=>c-Math.exp(-M*A)*(R+(w+M*R)*A);else{const A=M*Math.sqrt(T*T-1);C=_=>{const D=Math.exp(-T*M*_),P=Math.min(A*_,300);return c-D*((w+T*M*R)*Math.sinh(P)+A*R*Math.cosh(P))/A}}const v={calculatedDuration:S&&y||null,next:A=>{const _=C(A);if(S)h.done=A>=y;else{let D=A===0?w:0;T<1&&(D=A===0?Ni(w):jb(C,A,_));const P=Math.abs(D)<=s,L=Math.abs(c-_)<=a;h.done=P&&L}return h.value=h.done?c:_,h},toString:()=>{const A=Math.min(Ud(v),Vl),_=Bb(D=>v.next(A*D).value,A,30);return A+"ms "+_},toTransition:()=>{}};return v}Ul.applyToOptions=r=>{const t=F1(r,100,Ul);return r.ease=t.ease,r.duration=Ni(t.duration),r.type="keyframes",r};function Zh({keyframes:r,velocity:t=0,power:e=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:h,max:d,restDelta:f=.5,restSpeed:g}){const y=r[0],b={done:!1,value:y},S=P=>h!==void 0&&P<h||d!==void 0&&P>d,w=P=>h===void 0?d:d===void 0||Math.abs(h-P)<Math.abs(d-P)?h:d;let T=e*t;const R=y+T,M=c===void 0?R:c(R);M!==R&&(T=M-y);const N=P=>-T*Math.exp(-P/s),C=P=>M+N(P),v=P=>{const L=N(P),q=C(P);b.done=Math.abs(L)<=f,b.value=b.done?M:q};let A,_;const D=P=>{S(b.value)&&(A=P,_=Ul({keyframes:[b.value,w(b.value)],velocity:jb(C,P,b.value),damping:a,stiffness:l,restDelta:f,restSpeed:g}))};return D(0),{calculatedDuration:null,next:P=>{let L=!1;return!_&&A===void 0&&(L=!0,v(P),D(P)),A!==void 0&&P>=A?_.next(P-A):(!L&&v(P),b)}}}function $1(r,t,e){const s=[],a=e||is.mix||Ib,l=r.length-1;for(let c=0;c<l;c++){let h=a(r[c],r[c+1]);if(t){const d=Array.isArray(t)?t[c]||fi:t;h=Kr(d,h)}s.push(h)}return s}function W1(r,t,{clamp:e=!0,ease:s,mixer:a}={}){const l=r.length;if(Nd(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=r[0]===r[1];r[0]>r[l-1]&&(r=[...r].reverse(),t=[...t].reverse());const h=$1(t,s,a),d=h.length,f=g=>{if(c&&g<r[0])return t[0];let y=0;if(d>1)for(;y<r.length-2&&!(g<r[y+1]);y++);const b=Hr(r[y],r[y+1],g);return h[y](b)};return e?g=>f(es(r[0],r[l-1],g)):f}function K1(r,t){const e=r[r.length-1];for(let s=1;s<=t;s++){const a=Hr(0,t,s);r.push(Yt(e,1,a))}}function Q1(r){const t=[0];return K1(t,r.length-1),t}function Z1(r,t){return r.map(e=>e*t)}function J1(r,t){return r.map(()=>t||Eb).splice(0,r.length-1)}function Ir({duration:r=300,keyframes:t,times:e,ease:s="easeInOut"}){const a=u1(s)?s.map(Ry):Ry(s),l={done:!1,value:t[0]},c=Z1(e&&e.length===t.length?e:Q1(t),r),h=W1(c,t,{ease:Array.isArray(a)?a:J1(t,a)});return{calculatedDuration:r,next:d=>(l.value=h(d),l.done=d>=r,l)}}const tw=r=>r!==null;function Gd(r,{repeat:t,repeatType:e="loop"},s,a=1){const l=r.filter(tw),h=a<0||t&&e!=="loop"&&t%2===1?0:l.length-1;return!h||s===void 0?l[h]:s}const ew={decay:Zh,inertia:Zh,tween:Ir,keyframes:Ir,spring:Ul};function zb(r){typeof r.type=="string"&&(r.type=ew[r.type])}class qd{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const iw=r=>r/100;class Xd extends qd{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==Ve.now()&&this.tick(Ve.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;zb(t);const{type:e=Ir,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=t;let{keyframes:h}=t;const d=e||Ir;d!==Ir&&typeof h[0]!="number"&&(this.mixKeyframes=Kr(iw,Ib(h[0],h[1])),h=[0,100]);const f=d({...t,keyframes:h});l==="mirror"&&(this.mirroredGenerator=d({...t,keyframes:[...h].reverse(),velocity:-c})),f.calculatedDuration===null&&(f.calculatedDuration=Ud(f));const{calculatedDuration:g}=f;this.calculatedDuration=g,this.resolvedDuration=g+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=f}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:h,calculatedDuration:d}=this;if(this.startTime===null)return s.next(0);const{delay:f=0,keyframes:g,repeat:y,repeatType:b,repeatDelay:S,type:w,onUpdate:T,finalKeyframe:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const M=this.currentTime-f*(this.playbackSpeed>=0?1:-1),N=this.playbackSpeed>=0?M<0:M>a;this.currentTime=Math.max(M,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let C=this.currentTime,v=s;if(y){const P=Math.min(this.currentTime,a)/h;let L=Math.floor(P),q=P%1;!q&&P>=1&&(q=1),q===1&&L--,L=Math.min(L,y+1),!!(L%2)&&(b==="reverse"?(q=1-q,S&&(q-=S/h)):b==="mirror"&&(v=c)),C=es(0,1,q)*h}const A=N?{done:!1,value:g[0]}:v.next(C);l&&(A.value=l(A.value));let{done:_}=A;!N&&d!==null&&(_=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&_);return D&&w!==Zh&&(A.value=Gd(g,this.options,R,this.speed)),T&&T(A.value),D&&this.finish(),A}then(t,e){return this.finished.then(t,e)}get duration(){return Oi(this.calculatedDuration)}get time(){return Oi(this.currentTime)}set time(t){t=Ni(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Ve.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=Oi(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=z1,startTime:e}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=e??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ve.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function sw(r){for(let t=1;t<r.length;t++)r[t]??(r[t]=r[t-1])}const on=r=>r*180/Math.PI,Jh=r=>{const t=on(Math.atan2(r[1],r[0]));return td(t)},nw={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:r=>(Math.abs(r[0])+Math.abs(r[3]))/2,rotate:Jh,rotateZ:Jh,skewX:r=>on(Math.atan(r[1])),skewY:r=>on(Math.atan(r[2])),skew:r=>(Math.abs(r[1])+Math.abs(r[2]))/2},td=r=>(r=r%360,r<0&&(r+=360),r),ky=Jh,Iy=r=>Math.sqrt(r[0]*r[0]+r[1]*r[1]),By=r=>Math.sqrt(r[4]*r[4]+r[5]*r[5]),aw={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Iy,scaleY:By,scale:r=>(Iy(r)+By(r))/2,rotateX:r=>td(on(Math.atan2(r[6],r[5]))),rotateY:r=>td(on(Math.atan2(-r[2],r[0]))),rotateZ:ky,rotate:ky,skewX:r=>on(Math.atan(r[4])),skewY:r=>on(Math.atan(r[1])),skew:r=>(Math.abs(r[1])+Math.abs(r[4]))/2};function ed(r){return r.includes("scale")?1:0}function id(r,t){if(!r||r==="none")return ed(t);const e=r.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(e)s=aw,a=e;else{const h=r.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=nw,a=h}if(!a)return ed(t);const l=s[t],c=a[1].split(",").map(ow);return typeof l=="function"?l(c):c[l]}const rw=(r,t)=>{const{transform:e="none"}=getComputedStyle(r);return id(e,t)};function ow(r){return parseFloat(r.trim())}const xa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],wa=new Set(xa),jy=r=>r===Sa||r===mt,lw=new Set(["x","y","z"]),cw=xa.filter(r=>!lw.has(r));function uw(r){const t=[];return cw.forEach(e=>{const s=r.getValue(e);s!==void 0&&(t.push([e,s.get()]),s.set(e.startsWith("scale")?1:0))}),t}const dn={width:({x:r},{paddingLeft:t="0",paddingRight:e="0"})=>r.max-r.min-parseFloat(t)-parseFloat(e),height:({y:r},{paddingTop:t="0",paddingBottom:e="0"})=>r.max-r.min-parseFloat(t)-parseFloat(e),top:(r,{top:t})=>parseFloat(t),left:(r,{left:t})=>parseFloat(t),bottom:({y:r},{top:t})=>parseFloat(t)+(r.max-r.min),right:({x:r},{left:t})=>parseFloat(t)+(r.max-r.min),x:(r,{transform:t})=>id(t,"x"),y:(r,{transform:t})=>id(t,"y")};dn.translateX=dn.x;dn.translateY=dn.y;const fn=new Set;let sd=!1,nd=!1,ad=!1;function Fb(){if(nd){const r=Array.from(fn).filter(s=>s.needsMeasurement),t=new Set(r.map(s=>s.element)),e=new Map;t.forEach(s=>{const a=uw(s);a.length&&(e.set(s,a),s.render())}),r.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const a=e.get(s);a&&a.forEach(([l,c])=>{s.getValue(l)?.set(c)})}),r.forEach(s=>s.measureEndState()),r.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}nd=!1,sd=!1,fn.forEach(r=>r.complete(ad)),fn.clear()}function Hb(){fn.forEach(r=>{r.readKeyframes(),r.needsMeasurement&&(nd=!0)})}function hw(){ad=!0,Hb(),Fb(),ad=!1}class Yd{constructor(t,e,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(fn.add(this),sd||(sd=!0,Gt.read(Hb),Gt.resolveKeyframes(Fb))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:s,motionValue:a}=this;if(t[0]===null){const l=a?.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(s&&e){const h=s.readValue(e,c);h!=null&&(t[0]=h)}t[0]===void 0&&(t[0]=c),a&&l===void 0&&a.set(t[0])}sw(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),fn.delete(this)}cancel(){this.state==="scheduled"&&(fn.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const dw=r=>r.startsWith("--");function fw(r,t,e){dw(t)?r.style.setProperty(t,e):r.style[t]=e}const pw=Od(()=>window.ScrollTimeline!==void 0),gw={};function mw(r,t){const e=Od(r);return()=>gw[t]??e()}const Vb=mw(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Dr=([r,t,e,s])=>`cubic-bezier(${r}, ${t}, ${e}, ${s})`,zy={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Dr([0,.65,.55,1]),circOut:Dr([.55,0,1,.45]),backIn:Dr([.31,.01,.66,-.59]),backOut:Dr([.33,1.53,.69,.99])};function Ub(r,t){if(r)return typeof r=="function"?Vb()?Bb(r,t):"ease-out":Cb(r)?Dr(r):Array.isArray(r)?r.map(e=>Ub(e,t)||zy.easeOut):zy[r]}function yw(r,t,e,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:h="easeOut",times:d}={},f=void 0){const g={[t]:e};d&&(g.offset=d);const y=Ub(h,a);Array.isArray(y)&&(g.easing=y);const b={delay:s,duration:a,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return f&&(b.pseudoElement=f),r.animate(g,b)}function Gb(r){return typeof r=="function"&&"applyToOptions"in r}function bw({type:r,...t}){return Gb(r)&&Vb()?r.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class vw extends qd{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:e,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:h,onComplete:d}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,Nd(typeof t.type!="string");const f=bw(t);this.animation=yw(e,s,a,f,l),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const g=Gd(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(g):fw(e,s,g),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Oi(Number(t))}get time(){return Oi(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Ni(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&pw()?(this.animation.timeline=t,fi):e(this)}}const qb={anticipate:wb,backInOut:xb,circInOut:_b};function Aw(r){return r in qb}function Sw(r){typeof r.ease=="string"&&Aw(r.ease)&&(r.ease=qb[r.ease])}const Fy=10;class xw extends vw{constructor(t){Sw(t),zb(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const h=new Xd({...c,autoplay:!1}),d=Ni(this.finishedTime??this.time);e.setWithVelocity(h.sample(d-Fy).value,h.sample(d).value,Fy),h.stop()}}const Hy=(r,t)=>t==="zIndex"?!1:!!(typeof r=="number"||Array.isArray(r)||typeof r=="string"&&(Ns.test(r)||r==="0")&&!r.startsWith("url("));function ww(r){const t=r[0];if(r.length===1)return!0;for(let e=0;e<r.length;e++)if(r[e]!==t)return!0}function Tw(r,t,e,s){const a=r[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const l=r[r.length-1],c=Hy(a,t),h=Hy(l,t);return!c||!h?!1:ww(r)||(e==="spring"||Gb(e))&&s}function rd(r){r.duration=0,r.type}const _w=new Set(["opacity","clipPath","filter","transform"]),Ew=Od(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Cw(r){const{motionValue:t,name:e,repeatDelay:s,repeatType:a,damping:l,type:c}=r;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:f}=t.owner.getProps();return Ew()&&e&&_w.has(e)&&(e!=="transform"||!f)&&!d&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const Mw=40;class Rw extends qd{constructor({autoplay:t=!0,delay:e=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:h,name:d,motionValue:f,element:g,...y}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Ve.now();const b={autoplay:t,delay:e,type:s,repeat:a,repeatDelay:l,repeatType:c,name:d,motionValue:f,element:g,...y},S=g?.KeyframeResolver||Yd;this.keyframeResolver=new S(h,(w,T,R)=>this.onKeyframesResolved(w,T,b,!R),d,f,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,s,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:h,delay:d,isHandoff:f,onUpdate:g}=s;this.resolvedAt=Ve.now(),Tw(t,l,c,h)||((is.instantAnimations||!d)&&g?.(Gd(t,s,e)),t[0]=t[t.length-1],rd(s),s.repeat=0);const b={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Mw?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...s,keyframes:t},S=!f&&Cw(b)?new xw({...b,element:b.motionValue.owner.current}):new Xd(b);S.finished.then(()=>this.notifyFinished()).catch(fi),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),hw()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Dw=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Pw(r){const t=Dw.exec(r);if(!t)return[,];const[,e,s,a]=t;return[`--${e??s}`,a]}function Xb(r,t,e=1){const[s,a]=Pw(r);if(!s)return;const l=window.getComputedStyle(t).getPropertyValue(s);if(l){const c=l.trim();return pb(c)?parseFloat(c):c}return zd(a)?Xb(a,t,e+1):a}function $d(r,t){return r?.[t]??r?.default??r}const Yb=new Set(["width","height","top","left","right","bottom",...xa]),Lw={test:r=>r==="auto",parse:r=>r},$b=r=>t=>t.test(r),Wb=[Sa,mt,ki,Ms,w1,x1,Lw],Vy=r=>Wb.find($b(r));function Nw(r){return typeof r=="number"?r===0:r!==null?r==="none"||r==="0"||mb(r):!0}const Ow=new Set(["brightness","contrast","saturate","opacity"]);function kw(r){const[t,e]=r.slice(0,-1).split("(");if(t==="drop-shadow")return r;const[s]=e.match(Fd)||[];if(!s)return r;const a=e.replace(s,"");let l=Ow.has(t)?1:0;return s!==e&&(l*=100),t+"("+l+a+")"}const Iw=/\b([a-z-]*)\(.*?\)/gu,od={...Ns,getAnimatableNone:r=>{const t=r.match(Iw);return t?t.map(kw).join(" "):r}},Uy={...Sa,transform:Math.round},Bw={rotate:Ms,rotateX:Ms,rotateY:Ms,rotateZ:Ms,scale:xl,scaleX:xl,scaleY:xl,scaleZ:xl,skew:Ms,skewX:Ms,skewY:Ms,distance:mt,translateX:mt,translateY:mt,translateZ:mt,x:mt,y:mt,z:mt,perspective:mt,transformPerspective:mt,opacity:Vr,originX:Dy,originY:Dy,originZ:mt},Wd={borderWidth:mt,borderTopWidth:mt,borderRightWidth:mt,borderBottomWidth:mt,borderLeftWidth:mt,borderRadius:mt,radius:mt,borderTopLeftRadius:mt,borderTopRightRadius:mt,borderBottomRightRadius:mt,borderBottomLeftRadius:mt,width:mt,maxWidth:mt,height:mt,maxHeight:mt,top:mt,right:mt,bottom:mt,left:mt,padding:mt,paddingTop:mt,paddingRight:mt,paddingBottom:mt,paddingLeft:mt,margin:mt,marginTop:mt,marginRight:mt,marginBottom:mt,marginLeft:mt,backgroundPositionX:mt,backgroundPositionY:mt,...Bw,zIndex:Uy,fillOpacity:Vr,strokeOpacity:Vr,numOctaves:Uy},jw={...Wd,color:re,backgroundColor:re,outlineColor:re,fill:re,stroke:re,borderColor:re,borderTopColor:re,borderRightColor:re,borderBottomColor:re,borderLeftColor:re,filter:od,WebkitFilter:od},Kb=r=>jw[r];function Qb(r,t){let e=Kb(r);return e!==od&&(e=Ns),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const zw=new Set(["auto","none","0"]);function Fw(r,t,e){let s=0,a;for(;s<r.length&&!a;){const l=r[s];typeof l=="string"&&!zw.has(l)&&Ur(l).values.length&&(a=r[s]),s++}if(a&&e)for(const l of t)r[l]=Qb(e,a)}class Hw extends Yd{constructor(t,e,s,a,l){super(t,e,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:s}=this;if(!e||!e.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let f=t[d];if(typeof f=="string"&&(f=f.trim(),zd(f))){const g=Xb(f,e.current);g!==void 0&&(t[d]=g),d===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!Yb.has(s)||t.length!==2)return;const[a,l]=t,c=Vy(a),h=Vy(l);if(c!==h)if(jy(c)&&jy(h))for(let d=0;d<t.length;d++){const f=t[d];typeof f=="string"&&(t[d]=parseFloat(f))}else dn[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,s=[];for(let a=0;a<t.length;a++)(t[a]===null||Nw(t[a]))&&s.push(a);s.length&&Fw(t,s,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=dn[s](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const a=e[e.length-1];a!==void 0&&t.getValue(s,a).jump(a,!1)}measureEndState(){const{element:t,name:e,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const a=t.getValue(e);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=dn[e](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,d])=>{t.getValue(h).set(d)}),this.resolveNoneKeyframes()}}function Vw(r,t,e){if(r instanceof EventTarget)return[r];if(typeof r=="string"){let s=document;const a=e?.[r]??s.querySelectorAll(r);return a?Array.from(a):[]}return Array.from(r)}const Zb=(r,t)=>t&&typeof r=="number"?t.transform(r):r;function Jb(r){return gb(r)&&"offsetHeight"in r}const Gy=30,Uw=r=>!isNaN(parseFloat(r));class Gw{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=Ve.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=Ve.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Uw(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new kd);const s=this.events[t].add(e);return t==="change"?()=>{s(),Gt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,s){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ve.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Gy)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,Gy);return yb(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ba(r,t){return new Gw(r,t)}const{schedule:Kd}=Mb(queueMicrotask,!1),bi={x:!1,y:!1};function tv(){return bi.x||bi.y}function qw(r){return r==="x"||r==="y"?bi[r]?null:(bi[r]=!0,()=>{bi[r]=!1}):bi.x||bi.y?null:(bi.x=bi.y=!0,()=>{bi.x=bi.y=!1})}function ev(r,t){const e=Vw(r),s=new AbortController,a={passive:!0,...t,signal:s.signal};return[e,a,()=>s.abort()]}function qy(r){return!(r.pointerType==="touch"||tv())}function Xw(r,t,e={}){const[s,a,l]=ev(r,e),c=h=>{if(!qy(h))return;const{target:d}=h,f=t(d,h);if(typeof f!="function"||!d)return;const g=y=>{qy(y)&&(f(y),d.removeEventListener("pointerleave",g))};d.addEventListener("pointerleave",g,a)};return s.forEach(h=>{h.addEventListener("pointerenter",c,a)}),l}const iv=(r,t)=>t?r===t?!0:iv(r,t.parentElement):!1,Qd=r=>r.pointerType==="mouse"?typeof r.button!="number"||r.button<=0:r.isPrimary!==!1,Yw=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function $w(r){return Yw.has(r.tagName)||r.tabIndex!==-1}const kl=new WeakSet;function Xy(r){return t=>{t.key==="Enter"&&r(t)}}function Ph(r,t){r.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Ww=(r,t)=>{const e=r.currentTarget;if(!e)return;const s=Xy(()=>{if(kl.has(e))return;Ph(e,"down");const a=Xy(()=>{Ph(e,"up")}),l=()=>Ph(e,"cancel");e.addEventListener("keyup",a,t),e.addEventListener("blur",l,t)});e.addEventListener("keydown",s,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",s),t)};function Yy(r){return Qd(r)&&!tv()}function Kw(r,t,e={}){const[s,a,l]=ev(r,e),c=h=>{const d=h.currentTarget;if(!Yy(h))return;kl.add(d);const f=t(d,h),g=(S,w)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",b),kl.has(d)&&kl.delete(d),Yy(S)&&typeof f=="function"&&f(S,{success:w})},y=S=>{g(S,d===window||d===document||e.useGlobalTarget||iv(d,S.target))},b=S=>{g(S,!1)};window.addEventListener("pointerup",y,a),window.addEventListener("pointercancel",b,a)};return s.forEach(h=>{(e.useGlobalTarget?window:h).addEventListener("pointerdown",c,a),Jb(h)&&(h.addEventListener("focus",f=>Ww(f,a)),!$w(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function sv(r){return gb(r)&&"ownerSVGElement"in r}function Qw(r){return sv(r)&&r.tagName==="svg"}const Ce=r=>!!(r&&r.getVelocity),Zw=[...Wb,re,Ns],Jw=r=>Zw.find($b(r)),Zd=Q.createContext({transformPagePoint:r=>r,isStatic:!1,reducedMotion:"never"});class tT extends Q.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const s=e.offsetParent,a=Jb(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=e.offsetHeight||0,l.width=e.offsetWidth||0,l.top=e.offsetTop,l.left=e.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function eT({children:r,isPresent:t,anchorX:e,root:s}){const a=Q.useId(),l=Q.useRef(null),c=Q.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=Q.useContext(Zd);return Q.useInsertionEffect(()=>{const{width:d,height:f,top:g,left:y,right:b}=c.current;if(t||!l.current||!d||!f)return;const S=e==="left"?`left: ${y}`:`right: ${b}`;l.current.dataset.motionPopId=a;const w=document.createElement("style");h&&(w.nonce=h);const T=s??document.head;return T.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${f}px !important;
            ${S}px !important;
            top: ${g}px !important;
          }
        `),()=>{T.contains(w)&&T.removeChild(w)}},[t]),O.jsx(tT,{isPresent:t,childRef:l,sizeRef:c,children:Q.cloneElement(r,{ref:l})})}const iT=({children:r,initial:t,isPresent:e,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:c,anchorX:h,root:d})=>{const f=Rd(sT),g=Q.useId();let y=!0,b=Q.useMemo(()=>(y=!1,{id:g,initial:t,isPresent:e,custom:a,onExitComplete:S=>{f.set(S,!0);for(const w of f.values())if(!w)return;s&&s()},register:S=>(f.set(S,!1),()=>f.delete(S))}),[e,f,s]);return l&&y&&(b={...b}),Q.useMemo(()=>{f.forEach((S,w)=>f.set(w,!1))},[e]),Q.useEffect(()=>{!e&&!f.size&&s&&s()},[e]),c==="popLayout"&&(r=O.jsx(eT,{isPresent:e,anchorX:h,root:d,children:r})),O.jsx(Kl.Provider,{value:b,children:r})};function sT(){return new Map}function nv(r=!0){const t=Q.useContext(Kl);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:s,register:a}=t,l=Q.useId();Q.useEffect(()=>{if(r)return a(l)},[r]);const c=Q.useCallback(()=>r&&s&&s(l),[l,s,r]);return!e&&s?[!1,c]:[!0]}const wl=r=>r.key||"";function $y(r){const t=[];return Q.Children.forEach(r,e=>{Q.isValidElement(e)&&t.push(e)}),t}const nT=({children:r,custom:t,initial:e=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:h="left",root:d})=>{const[f,g]=nv(c),y=Q.useMemo(()=>$y(r),[r]),b=c&&!f?[]:y.map(wl),S=Q.useRef(!0),w=Q.useRef(y),T=Rd(()=>new Map),[R,M]=Q.useState(y),[N,C]=Q.useState(y);fb(()=>{S.current=!1,w.current=y;for(let _=0;_<N.length;_++){const D=wl(N[_]);b.includes(D)?T.delete(D):T.get(D)!==!0&&T.set(D,!1)}},[N,b.length,b.join("-")]);const v=[];if(y!==R){let _=[...y];for(let D=0;D<N.length;D++){const P=N[D],L=wl(P);b.includes(L)||(_.splice(D,0,P),v.push(P))}return l==="wait"&&v.length&&(_=v),C($y(_)),M(y),null}const{forceRender:A}=Q.useContext(Md);return O.jsx(O.Fragment,{children:N.map(_=>{const D=wl(_),P=c&&!f?!1:y===N||b.includes(D),L=()=>{if(T.has(D))T.set(D,!0);else return;let q=!0;T.forEach(X=>{X||(q=!1)}),q&&(A?.(),C(w.current),c&&g?.(),s&&s())};return O.jsx(iT,{isPresent:P,initial:!S.current||e?void 0:!1,custom:t,presenceAffectsLayout:a,mode:l,root:d,onExitComplete:P?void 0:L,anchorX:h,children:_},D)})})},av=Q.createContext({strict:!1}),Wy={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},va={};for(const r in Wy)va[r]={isEnabled:t=>Wy[r].some(e=>!!t[e])};function aT(r){for(const t in r)va[t]={...va[t],...r[t]}}const rT=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Gl(r){return r.startsWith("while")||r.startsWith("drag")&&r!=="draggable"||r.startsWith("layout")||r.startsWith("onTap")||r.startsWith("onPan")||r.startsWith("onLayout")||rT.has(r)}let rv=r=>!Gl(r);function oT(r){typeof r=="function"&&(rv=t=>t.startsWith("on")?!Gl(t):r(t))}try{oT(require("@emotion/is-prop-valid").default)}catch{}function lT(r,t,e){const s={};for(const a in r)a==="values"&&typeof r.values=="object"||(rv(a)||e===!0&&Gl(a)||!t&&!Gl(a)||r.draggable&&a.startsWith("onDrag"))&&(s[a]=r[a]);return s}const Ql=Q.createContext({});function Zl(r){return r!==null&&typeof r=="object"&&typeof r.start=="function"}function Gr(r){return typeof r=="string"||Array.isArray(r)}const Jd=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],tf=["initial",...Jd];function Jl(r){return Zl(r.animate)||tf.some(t=>Gr(r[t]))}function ov(r){return!!(Jl(r)||r.variants)}function cT(r,t){if(Jl(r)){const{initial:e,animate:s}=r;return{initial:e===!1||Gr(e)?e:void 0,animate:Gr(s)?s:void 0}}return r.inherit!==!1?t:{}}function uT(r){const{initial:t,animate:e}=cT(r,Q.useContext(Ql));return Q.useMemo(()=>({initial:t,animate:e}),[Ky(t),Ky(e)])}function Ky(r){return Array.isArray(r)?r.join(" "):r}const qr={};function hT(r){for(const t in r)qr[t]=r[t],jd(t)&&(qr[t].isCSSVariable=!0)}function lv(r,{layout:t,layoutId:e}){return wa.has(r)||r.startsWith("origin")||(t||e!==void 0)&&(!!qr[r]||r==="opacity")}const dT={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},fT=xa.length;function pT(r,t,e){let s="",a=!0;for(let l=0;l<fT;l++){const c=xa[l],h=r[c];if(h===void 0)continue;let d=!0;if(typeof h=="number"?d=h===(c.startsWith("scale")?1:0):d=parseFloat(h)===0,!d||e){const f=Zb(h,Wd[c]);if(!d){a=!1;const g=dT[c]||c;s+=`${g}(${f}) `}e&&(t[c]=f)}}return s=s.trim(),e?s=e(t,a?"":s):a&&(s="none"),s}function ef(r,t,e){const{style:s,vars:a,transformOrigin:l}=r;let c=!1,h=!1;for(const d in t){const f=t[d];if(wa.has(d)){c=!0;continue}else if(jd(d)){a[d]=f;continue}else{const g=Zb(f,Wd[d]);d.startsWith("origin")?(h=!0,l[d]=g):s[d]=g}}if(t.transform||(c||e?s.transform=pT(t,r.transform,e):s.transform&&(s.transform="none")),h){const{originX:d="50%",originY:f="50%",originZ:g=0}=l;s.transformOrigin=`${d} ${f} ${g}`}}const sf=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function cv(r,t,e){for(const s in t)!Ce(t[s])&&!lv(s,e)&&(r[s]=t[s])}function gT({transformTemplate:r},t){return Q.useMemo(()=>{const e=sf();return ef(e,t,r),Object.assign({},e.vars,e.style)},[t])}function mT(r,t){const e=r.style||{},s={};return cv(s,e,r),Object.assign(s,gT(r,t)),s}function yT(r,t){const e={},s=mT(r,t);return r.drag&&r.dragListener!==!1&&(e.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=r.drag===!0?"none":`pan-${r.drag==="x"?"y":"x"}`),r.tabIndex===void 0&&(r.onTap||r.onTapStart||r.whileTap)&&(e.tabIndex=0),e.style=s,e}const bT={offset:"stroke-dashoffset",array:"stroke-dasharray"},vT={offset:"strokeDashoffset",array:"strokeDasharray"};function AT(r,t,e=1,s=0,a=!0){r.pathLength=1;const l=a?bT:vT;r[l.offset]=mt.transform(-s);const c=mt.transform(t),h=mt.transform(e);r[l.array]=`${c} ${h}`}function uv(r,{attrX:t,attrY:e,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...h},d,f,g){if(ef(r,h,f),d){r.style.viewBox&&(r.attrs.viewBox=r.style.viewBox);return}r.attrs=r.style,r.style={};const{attrs:y,style:b}=r;y.transform&&(b.transform=y.transform,delete y.transform),(b.transform||y.transformOrigin)&&(b.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),b.transform&&(b.transformBox=g?.transformBox??"fill-box",delete y.transformBox),t!==void 0&&(y.x=t),e!==void 0&&(y.y=e),s!==void 0&&(y.scale=s),a!==void 0&&AT(y,a,l,c,!1)}const hv=()=>({...sf(),attrs:{}}),dv=r=>typeof r=="string"&&r.toLowerCase()==="svg";function ST(r,t,e,s){const a=Q.useMemo(()=>{const l=hv();return uv(l,t,dv(s),r.transformTemplate,r.style),{...l.attrs,style:{...l.style}}},[t]);if(r.style){const l={};cv(l,r.style,r),a.style={...l,...a.style}}return a}const xT=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function nf(r){return typeof r!="string"||r.includes("-")?!1:!!(xT.indexOf(r)>-1||/[A-Z]/u.test(r))}function wT(r,t,e,{latestValues:s},a,l=!1){const h=(nf(r)?ST:yT)(t,s,a,r),d=lT(t,typeof r=="string",l),f=r!==Q.Fragment?{...d,...h,ref:e}:{},{children:g}=t,y=Q.useMemo(()=>Ce(g)?g.get():g,[g]);return Q.createElement(r,{...f,children:y})}function Qy(r){const t=[{},{}];return r?.values.forEach((e,s)=>{t[0][s]=e.get(),t[1][s]=e.getVelocity()}),t}function af(r,t,e,s){if(typeof t=="function"){const[a,l]=Qy(s);t=t(e!==void 0?e:r.custom,a,l)}if(typeof t=="string"&&(t=r.variants&&r.variants[t]),typeof t=="function"){const[a,l]=Qy(s);t=t(e!==void 0?e:r.custom,a,l)}return t}function Il(r){return Ce(r)?r.get():r}function TT({scrapeMotionValuesFromProps:r,createRenderState:t},e,s,a){return{latestValues:_T(e,s,a,r),renderState:t()}}function _T(r,t,e,s){const a={},l=s(r,{});for(const b in l)a[b]=Il(l[b]);let{initial:c,animate:h}=r;const d=Jl(r),f=ov(r);t&&f&&!d&&r.inherit!==!1&&(c===void 0&&(c=t.initial),h===void 0&&(h=t.animate));let g=e?e.initial===!1:!1;g=g||c===!1;const y=g?h:c;if(y&&typeof y!="boolean"&&!Zl(y)){const b=Array.isArray(y)?y:[y];for(let S=0;S<b.length;S++){const w=af(r,b[S]);if(w){const{transitionEnd:T,transition:R,...M}=w;for(const N in M){let C=M[N];if(Array.isArray(C)){const v=g?C.length-1:0;C=C[v]}C!==null&&(a[N]=C)}for(const N in T)a[N]=T[N]}}}return a}const fv=r=>(t,e)=>{const s=Q.useContext(Ql),a=Q.useContext(Kl),l=()=>TT(r,t,s,a);return e?l():Rd(l)};function rf(r,t,e){const{style:s}=r,a={};for(const l in s)(Ce(s[l])||t.style&&Ce(t.style[l])||lv(l,r)||e?.getValue(l)?.liveStyle!==void 0)&&(a[l]=s[l]);return a}const ET=fv({scrapeMotionValuesFromProps:rf,createRenderState:sf});function pv(r,t,e){const s=rf(r,t,e);for(const a in r)if(Ce(r[a])||Ce(t[a])){const l=xa.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=r[a]}return s}const CT=fv({scrapeMotionValuesFromProps:pv,createRenderState:hv}),MT=Symbol.for("motionComponentSymbol");function la(r){return r&&typeof r=="object"&&Object.prototype.hasOwnProperty.call(r,"current")}function RT(r,t,e){return Q.useCallback(s=>{s&&r.onMount&&r.onMount(s),t&&(s?t.mount(s):t.unmount()),e&&(typeof e=="function"?e(s):la(e)&&(e.current=s))},[t])}const of=r=>r.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),DT="framerAppearId",gv="data-"+of(DT),mv=Q.createContext({});function PT(r,t,e,s,a){const{visualElement:l}=Q.useContext(Ql),c=Q.useContext(av),h=Q.useContext(Kl),d=Q.useContext(Zd).reducedMotion,f=Q.useRef(null);s=s||c.renderer,!f.current&&s&&(f.current=s(r,{visualState:t,parent:l,props:e,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:d}));const g=f.current,y=Q.useContext(mv);g&&!g.projection&&a&&(g.type==="html"||g.type==="svg")&&LT(f.current,e,a,y);const b=Q.useRef(!1);Q.useInsertionEffect(()=>{g&&b.current&&g.update(e,h)});const S=e[gv],w=Q.useRef(!!S&&!window.MotionHandoffIsComplete?.(S)&&window.MotionHasOptimisedAnimation?.(S));return fb(()=>{g&&(b.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),w.current&&g.animationState&&g.animationState.animateChanges())}),Q.useEffect(()=>{g&&(!w.current&&g.animationState&&g.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(S)}),w.current=!1),g.enteringChildren=void 0)}),g}function LT(r,t,e,s){const{layoutId:a,layout:l,drag:c,dragConstraints:h,layoutScroll:d,layoutRoot:f,layoutCrossfade:g}=t;r.projection=new e(r.latestValues,t["data-framer-portal-id"]?void 0:yv(r.parent)),r.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||h&&la(h),visualElement:r,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:g,layoutScroll:d,layoutRoot:f})}function yv(r){if(r)return r.options.allowProjection!==!1?r.projection:yv(r.parent)}function Lh(r,{forwardMotionProps:t=!1}={},e,s){e&&aT(e);const a=nf(r)?CT:ET;function l(h,d){let f;const g={...Q.useContext(Zd),...h,layoutId:NT(h)},{isStatic:y}=g,b=uT(h),S=a(h,y);if(!y&&Dd){OT();const w=kT(g);f=w.MeasureLayout,b.visualElement=PT(r,S,g,s,w.ProjectionNode)}return O.jsxs(Ql.Provider,{value:b,children:[f&&b.visualElement?O.jsx(f,{visualElement:b.visualElement,...g}):null,wT(r,h,RT(S,b.visualElement,d),S,y,t)]})}l.displayName=`motion.${typeof r=="string"?r:`create(${r.displayName??r.name??""})`}`;const c=Q.forwardRef(l);return c[MT]=r,c}function NT({layoutId:r}){const t=Q.useContext(Md).id;return t&&r!==void 0?t+"-"+r:r}function OT(r,t){Q.useContext(av).strict}function kT(r){const{drag:t,layout:e}=va;if(!t&&!e)return{};const s={...t,...e};return{MeasureLayout:t?.isEnabled(r)||e?.isEnabled(r)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function IT(r,t){if(typeof Proxy>"u")return Lh;const e=new Map,s=(l,c)=>Lh(l,c,r,t),a=(l,c)=>s(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?s:(e.has(c)||e.set(c,Lh(c,void 0,r,t)),e.get(c))})}function bv({top:r,left:t,right:e,bottom:s}){return{x:{min:t,max:e},y:{min:r,max:s}}}function BT({x:r,y:t}){return{top:t.min,right:r.max,bottom:t.max,left:r.min}}function jT(r,t){if(!t)return r;const e=t({x:r.left,y:r.top}),s=t({x:r.right,y:r.bottom});return{top:e.y,left:e.x,bottom:s.y,right:s.x}}function Nh(r){return r===void 0||r===1}function ld({scale:r,scaleX:t,scaleY:e}){return!Nh(r)||!Nh(t)||!Nh(e)}function an(r){return ld(r)||vv(r)||r.z||r.rotate||r.rotateX||r.rotateY||r.skewX||r.skewY}function vv(r){return Zy(r.x)||Zy(r.y)}function Zy(r){return r&&r!=="0%"}function ql(r,t,e){const s=r-e,a=t*s;return e+a}function Jy(r,t,e,s,a){return a!==void 0&&(r=ql(r,a,s)),ql(r,e,s)+t}function cd(r,t=0,e=1,s,a){r.min=Jy(r.min,t,e,s,a),r.max=Jy(r.max,t,e,s,a)}function Av(r,{x:t,y:e}){cd(r.x,t.translate,t.scale,t.originPoint),cd(r.y,e.translate,e.scale,e.originPoint)}const t0=.999999999999,e0=1.0000000000001;function zT(r,t,e,s=!1){const a=e.length;if(!a)return;t.x=t.y=1;let l,c;for(let h=0;h<a;h++){l=e[h],c=l.projectionDelta;const{visualElement:d}=l.options;d&&d.props.style&&d.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&ua(r,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,Av(r,c)),s&&an(l.latestValues)&&ua(r,l.latestValues))}t.x<e0&&t.x>t0&&(t.x=1),t.y<e0&&t.y>t0&&(t.y=1)}function ca(r,t){r.min=r.min+t,r.max=r.max+t}function i0(r,t,e,s,a=.5){const l=Yt(r.min,r.max,a);cd(r,t,e,l,s)}function ua(r,t){i0(r.x,t.x,t.scaleX,t.scale,t.originX),i0(r.y,t.y,t.scaleY,t.scale,t.originY)}function Sv(r,t){return bv(jT(r.getBoundingClientRect(),t))}function FT(r,t,e){const s=Sv(r,e),{scroll:a}=t;return a&&(ca(s.x,a.offset.x),ca(s.y,a.offset.y)),s}const s0=()=>({translate:0,scale:1,origin:0,originPoint:0}),ha=()=>({x:s0(),y:s0()}),n0=()=>({min:0,max:0}),te=()=>({x:n0(),y:n0()}),ud={current:null},xv={current:!1};function HT(){if(xv.current=!0,!!Dd)if(window.matchMedia){const r=window.matchMedia("(prefers-reduced-motion)"),t=()=>ud.current=r.matches;r.addEventListener("change",t),t()}else ud.current=!1}const VT=new WeakMap;function UT(r,t,e){for(const s in t){const a=t[s],l=e[s];if(Ce(a))r.addValue(s,a);else if(Ce(l))r.addValue(s,ba(a,{owner:r}));else if(l!==a)if(r.hasValue(s)){const c=r.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=r.getStaticValue(s);r.addValue(s,ba(c!==void 0?c:a,{owner:r}))}}for(const s in e)t[s]===void 0&&r.removeValue(s);return t}const a0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class GT{scrapeMotionValuesFromProps(t,e,s){return{}}constructor({parent:t,props:e,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Yd,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Ve.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,Gt.render(this.render,!1,!0))};const{latestValues:d,renderState:f}=c;this.latestValues=d,this.baseTarget={...d},this.initialValues=e.initial?{...d}:{},this.renderState=f,this.parent=t,this.props=e,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=Jl(e),this.isVariantNode=ov(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:g,...y}=this.scrapeMotionValuesFromProps(e,{},this);for(const b in y){const S=y[b];d[b]!==void 0&&Ce(S)&&S.set(d[b])}}mount(t){this.current=t,VT.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,s)=>this.bindToMotionValue(s,e)),xv.current||HT(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ud.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ls(this.notifyUpdate),Ls(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=wa.has(t);s&&this.onBindTransform&&this.onBindTransform();const a=e.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&Gt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{a(),l&&l(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in va){const e=va[t];if(!e)continue;const{isEnabled:s,Feature:a}=e;if(!this.features[t]&&a&&s(this.props)&&(this.features[t]=new a(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):te()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let s=0;s<a0.length;s++){const a=a0[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=t[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=UT(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const s=this.values.get(t);e!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&e!==void 0&&(s=ba(e===null?void 0:e,{owner:this}),this.addValue(t,s)),s}readValue(t,e){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(pb(s)||mb(s))?s=parseFloat(s):!Jw(s)&&Ns.test(e)&&(s=Qb(t,e)),this.setBaseTarget(t,Ce(s)?s.get():s)),Ce(s)?s.get():s}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let s;if(typeof e=="string"||typeof e=="object"){const l=af(this.props,e,this.presenceContext?.custom);l&&(s=l[t])}if(e&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Ce(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new kd),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){Kd.render(this.render)}}class wv extends GT{constructor(){super(...arguments),this.KeyframeResolver=Hw}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:s}){delete e[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ce(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function Tv(r,{style:t,vars:e},s,a){const l=r.style;let c;for(c in t)l[c]=t[c];a?.applyProjectionStyles(l,s);for(c in e)l.setProperty(c,e[c])}function qT(r){return window.getComputedStyle(r)}class XT extends wv{constructor(){super(...arguments),this.type="html",this.renderInstance=Tv}readValueFromInstance(t,e){if(wa.has(e))return this.projection?.isProjecting?ed(e):rw(t,e);{const s=qT(t),a=(jd(e)?s.getPropertyValue(e):s[e])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:e}){return Sv(t,e)}build(t,e,s){ef(t,e,s.transformTemplate)}scrapeMotionValuesFromProps(t,e,s){return rf(t,e,s)}}const _v=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function YT(r,t,e,s){Tv(r,t,void 0,s);for(const a in t.attrs)r.setAttribute(_v.has(a)?a:of(a),t.attrs[a])}class $T extends wv{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=te}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(wa.has(e)){const s=Kb(e);return s&&s.default||0}return e=_v.has(e)?e:of(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,s){return pv(t,e,s)}build(t,e,s){uv(t,e,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,e,s,a){YT(t,e,s,a)}mount(t){this.isSVGTag=dv(t.tagName),super.mount(t)}}const WT=(r,t)=>nf(r)?new $T(t):new XT(t,{allowProjection:r!==Q.Fragment});function pa(r,t,e){const s=r.getProps();return af(s,t,e!==void 0?e:s.custom,r)}const hd=r=>Array.isArray(r);function KT(r,t,e){r.hasValue(t)?r.getValue(t).set(e):r.addValue(t,ba(e))}function QT(r){return hd(r)?r[r.length-1]||0:r}function ZT(r,t){const e=pa(r,t);let{transitionEnd:s={},transition:a={},...l}=e||{};l={...l,...s};for(const c in l){const h=QT(l[c]);KT(r,c,h)}}function JT(r){return!!(Ce(r)&&r.add)}function dd(r,t){const e=r.getValue("willChange");if(JT(e))return e.add(t);if(!e&&is.WillChange){const s=new is.WillChange("auto");r.addValue("willChange",s),s.add(t)}}function Ev(r){return r.props[gv]}const t_=r=>r!==null;function e_(r,{repeat:t,repeatType:e="loop"},s){const a=r.filter(t_),l=t&&e!=="loop"&&t%2===1?0:a.length-1;return a[l]}const i_={type:"spring",stiffness:500,damping:25,restSpeed:10},s_=r=>({type:"spring",stiffness:550,damping:r===0?2*Math.sqrt(550):30,restSpeed:10}),n_={type:"keyframes",duration:.8},a_={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},r_=(r,{keyframes:t})=>t.length>2?n_:wa.has(r)?r.startsWith("scale")?s_(t[1]):i_:a_;function o_({when:r,delay:t,delayChildren:e,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:h,from:d,elapsed:f,...g}){return!!Object.keys(g).length}const lf=(r,t,e,s={},a,l)=>c=>{const h=$d(s,r)||{},d=h.delay||s.delay||0;let{elapsed:f=0}=s;f=f-Ni(d);const g={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...h,delay:-f,onUpdate:b=>{t.set(b),h.onUpdate&&h.onUpdate(b)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:r,motionValue:t,element:l?void 0:a};o_(h)||Object.assign(g,r_(r,g)),g.duration&&(g.duration=Ni(g.duration)),g.repeatDelay&&(g.repeatDelay=Ni(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let y=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(rd(g),g.delay===0&&(y=!0)),(is.instantAnimations||is.skipAnimations)&&(y=!0,rd(g),g.delay=0),g.allowFlatten=!h.type&&!h.ease,y&&!l&&t.get()!==void 0){const b=e_(g.keyframes,h);if(b!==void 0){Gt.update(()=>{g.onUpdate(b),g.onComplete()});return}}return h.isSync?new Xd(g):new Rw(g)};function l_({protectedKeys:r,needsAnimating:t},e){const s=r.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,s}function Cv(r,t,{delay:e=0,transitionOverride:s,type:a}={}){let{transition:l=r.getDefaultTransition(),transitionEnd:c,...h}=t;s&&(l=s);const d=[],f=a&&r.animationState&&r.animationState.getState()[a];for(const g in h){const y=r.getValue(g,r.latestValues[g]??null),b=h[g];if(b===void 0||f&&l_(f,g))continue;const S={delay:e,...$d(l||{},g)},w=y.get();if(w!==void 0&&!y.isAnimating&&!Array.isArray(b)&&b===w&&!S.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const M=Ev(r);if(M){const N=window.MotionHandoffAnimation(M,g,Gt);N!==null&&(S.startTime=N,T=!0)}}dd(r,g),y.start(lf(g,y,b,r.shouldReduceMotion&&Yb.has(g)?{type:!1}:S,r,T));const R=y.animation;R&&d.push(R)}return c&&Promise.all(d).then(()=>{Gt.update(()=>{c&&ZT(r,c)})}),d}function Mv(r,t,e,s=0,a=1){const l=Array.from(r).sort((f,g)=>f.sortNodePosition(g)).indexOf(t),c=r.size,h=(c-1)*s;return typeof e=="function"?e(l,c):a===1?l*s:h-l*s}function fd(r,t,e={}){const s=pa(r,t,e.type==="exit"?r.presenceContext?.custom:void 0);let{transition:a=r.getDefaultTransition()||{}}=s||{};e.transitionOverride&&(a=e.transitionOverride);const l=s?()=>Promise.all(Cv(r,s,e)):()=>Promise.resolve(),c=r.variantChildren&&r.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:g,staggerDirection:y}=a;return c_(r,t,d,f,g,y,e)}:()=>Promise.resolve(),{when:h}=a;if(h){const[d,f]=h==="beforeChildren"?[l,c]:[c,l];return d().then(()=>f())}else return Promise.all([l(),c(e.delay)])}function c_(r,t,e=0,s=0,a=0,l=1,c){const h=[];for(const d of r.variantChildren)d.notify("AnimationStart",t),h.push(fd(d,t,{...c,delay:e+(typeof s=="function"?0:s)+Mv(r.variantChildren,d,s,a,l)}).then(()=>d.notify("AnimationComplete",t)));return Promise.all(h)}function u_(r,t,e={}){r.notify("AnimationStart",t);let s;if(Array.isArray(t)){const a=t.map(l=>fd(r,l,e));s=Promise.all(a)}else if(typeof t=="string")s=fd(r,t,e);else{const a=typeof t=="function"?pa(r,t,e.custom):t;s=Promise.all(Cv(r,a,e))}return s.then(()=>{r.notify("AnimationComplete",t)})}function Rv(r,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==r.length)return!1;for(let s=0;s<e;s++)if(t[s]!==r[s])return!1;return!0}const h_=tf.length;function Dv(r){if(!r)return;if(!r.isControllingVariants){const e=r.parent?Dv(r.parent)||{}:{};return r.props.initial!==void 0&&(e.initial=r.props.initial),e}const t={};for(let e=0;e<h_;e++){const s=tf[e],a=r.props[s];(Gr(a)||a===!1)&&(t[s]=a)}return t}const d_=[...Jd].reverse(),f_=Jd.length;function p_(r){return t=>Promise.all(t.map(({animation:e,options:s})=>u_(r,e,s)))}function g_(r){let t=p_(r),e=r0(),s=!0;const a=d=>(f,g)=>{const y=pa(r,g,d==="exit"?r.presenceContext?.custom:void 0);if(y){const{transition:b,transitionEnd:S,...w}=y;f={...f,...w,...S}}return f};function l(d){t=d(r)}function c(d){const{props:f}=r,g=Dv(r.parent)||{},y=[],b=new Set;let S={},w=1/0;for(let R=0;R<f_;R++){const M=d_[R],N=e[M],C=f[M]!==void 0?f[M]:g[M],v=Gr(C),A=M===d?N.isActive:null;A===!1&&(w=R);let _=C===g[M]&&C!==f[M]&&v;if(_&&s&&r.manuallyAnimateOnMount&&(_=!1),N.protectedKeys={...S},!N.isActive&&A===null||!C&&!N.prevProp||Zl(C)||typeof C=="boolean")continue;const D=m_(N.prevProp,C);let P=D||M===d&&N.isActive&&!_&&v||R>w&&v,L=!1;const q=Array.isArray(C)?C:[C];let X=q.reduce(a(M),{});A===!1&&(X={});const{prevResolvedValues:tt={}}=N,at={...tt,...X},it=U=>{P=!0,b.has(U)&&(L=!0,b.delete(U)),N.needsAnimating[U]=!0;const et=r.getValue(U);et&&(et.liveStyle=!1)};for(const U in at){const et=X[U],yt=tt[U];if(S.hasOwnProperty(U))continue;let I=!1;hd(et)&&hd(yt)?I=!Rv(et,yt):I=et!==yt,I?et!=null?it(U):b.add(U):et!==void 0&&b.has(U)?it(U):N.protectedKeys[U]=!0}N.prevProp=C,N.prevResolvedValues=X,N.isActive&&(S={...S,...X}),s&&r.blockInitialAnimation&&(P=!1);const pt=_&&D;P&&(!pt||L)&&y.push(...q.map(U=>{const et={type:M};if(typeof U=="string"&&s&&!pt&&r.manuallyAnimateOnMount&&r.parent){const{parent:yt}=r,I=pa(yt,U);if(yt.enteringChildren&&I){const{delayChildren:W}=I.transition||{};et.delay=Mv(yt.enteringChildren,r,W)}}return{animation:U,options:et}}))}if(b.size){const R={};if(typeof f.initial!="boolean"){const M=pa(r,Array.isArray(f.initial)?f.initial[0]:f.initial);M&&M.transition&&(R.transition=M.transition)}b.forEach(M=>{const N=r.getBaseTarget(M),C=r.getValue(M);C&&(C.liveStyle=!0),R[M]=N??null}),y.push({animation:R})}let T=!!y.length;return s&&(f.initial===!1||f.initial===f.animate)&&!r.manuallyAnimateOnMount&&(T=!1),s=!1,T?t(y):Promise.resolve()}function h(d,f){if(e[d].isActive===f)return Promise.resolve();r.variantChildren?.forEach(y=>y.animationState?.setActive(d,f)),e[d].isActive=f;const g=c(d);for(const y in e)e[y].protectedKeys={};return g}return{animateChanges:c,setActive:h,setAnimateFunction:l,getState:()=>e,reset:()=>{e=r0(),s=!0}}}function m_(r,t){return typeof t=="string"?t!==r:Array.isArray(t)?!Rv(t,r):!1}function nn(r=!1){return{isActive:r,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function r0(){return{animate:nn(!0),whileInView:nn(),whileHover:nn(),whileTap:nn(),whileDrag:nn(),whileFocus:nn(),exit:nn()}}class Is{constructor(t){this.isMounted=!1,this.node=t}update(){}}class y_ extends Is{constructor(t){super(t),t.animationState||(t.animationState=g_(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Zl(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let b_=0;class v_ extends Is{constructor(){super(...arguments),this.id=b_++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const a=this.node.animationState.setActive("exit",!t);e&&!t&&a.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const A_={animation:{Feature:y_},exit:{Feature:v_}};function Xr(r,t,e,s={passive:!0}){return r.addEventListener(t,e,s),()=>r.removeEventListener(t,e)}function Jr(r){return{point:{x:r.pageX,y:r.pageY}}}const S_=r=>t=>Qd(t)&&r(t,Jr(t));function Br(r,t,e,s){return Xr(r,t,S_(e),s)}const Pv=1e-4,x_=1-Pv,w_=1+Pv,Lv=.01,T_=0-Lv,__=0+Lv;function Le(r){return r.max-r.min}function E_(r,t,e){return Math.abs(r-t)<=e}function o0(r,t,e,s=.5){r.origin=s,r.originPoint=Yt(t.min,t.max,r.origin),r.scale=Le(e)/Le(t),r.translate=Yt(e.min,e.max,r.origin)-r.originPoint,(r.scale>=x_&&r.scale<=w_||isNaN(r.scale))&&(r.scale=1),(r.translate>=T_&&r.translate<=__||isNaN(r.translate))&&(r.translate=0)}function jr(r,t,e,s){o0(r.x,t.x,e.x,s?s.originX:void 0),o0(r.y,t.y,e.y,s?s.originY:void 0)}function l0(r,t,e){r.min=e.min+t.min,r.max=r.min+Le(t)}function C_(r,t,e){l0(r.x,t.x,e.x),l0(r.y,t.y,e.y)}function c0(r,t,e){r.min=t.min-e.min,r.max=r.min+Le(t)}function zr(r,t,e){c0(r.x,t.x,e.x),c0(r.y,t.y,e.y)}function hi(r){return[r("x"),r("y")]}const Nv=({current:r})=>r?r.ownerDocument.defaultView:null,u0=(r,t)=>Math.abs(r-t);function M_(r,t){const e=u0(r.x,t.x),s=u0(r.y,t.y);return Math.sqrt(e**2+s**2)}class Ov{constructor(t,e,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=kh(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,w=M_(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!w)return;const{point:T}=b,{timestamp:R}=Ae;this.history.push({...T,timestamp:R});const{onStart:M,onMove:N}=this.handlers;S||(M&&M(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,b)},this.handlePointerMove=(b,S)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=Oh(S,this.transformPagePoint),Gt.update(this.updatePoint,!0)},this.handlePointerUp=(b,S)=>{this.end();const{onEnd:w,onSessionEnd:T,resumeAnimation:R}=this.handlers;if(this.dragSnapToOrigin&&R&&R(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const M=kh(b.type==="pointercancel"?this.lastMoveEventInfo:Oh(S,this.transformPagePoint),this.history);this.startEvent&&w&&w(b,M),T&&T(b,M)},!Qd(t))return;this.dragSnapToOrigin=l,this.handlers=e,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const h=Jr(t),d=Oh(h,this.transformPagePoint),{point:f}=d,{timestamp:g}=Ae;this.history=[{...f,timestamp:g}];const{onSessionStart:y}=e;y&&y(t,kh(d,this.history)),this.removeListeners=Kr(Br(this.contextWindow,"pointermove",this.handlePointerMove),Br(this.contextWindow,"pointerup",this.handlePointerUp),Br(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ls(this.updatePoint)}}function Oh(r,t){return t?{point:t(r.point)}:r}function h0(r,t){return{x:r.x-t.x,y:r.y-t.y}}function kh({point:r},t){return{point:r,delta:h0(r,kv(t)),offset:h0(r,R_(t)),velocity:D_(t,.1)}}function R_(r){return r[0]}function kv(r){return r[r.length-1]}function D_(r,t){if(r.length<2)return{x:0,y:0};let e=r.length-1,s=null;const a=kv(r);for(;e>=0&&(s=r[e],!(a.timestamp-s.timestamp>Ni(t)));)e--;if(!s)return{x:0,y:0};const l=Oi(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function P_(r,{min:t,max:e},s){return t!==void 0&&r<t?r=s?Yt(t,r,s.min):Math.max(r,t):e!==void 0&&r>e&&(r=s?Yt(e,r,s.max):Math.min(r,e)),r}function d0(r,t,e){return{min:t!==void 0?r.min+t:void 0,max:e!==void 0?r.max+e-(r.max-r.min):void 0}}function L_(r,{top:t,left:e,bottom:s,right:a}){return{x:d0(r.x,e,a),y:d0(r.y,t,s)}}function f0(r,t){let e=t.min-r.min,s=t.max-r.max;return t.max-t.min<r.max-r.min&&([e,s]=[s,e]),{min:e,max:s}}function N_(r,t){return{x:f0(r.x,t.x),y:f0(r.y,t.y)}}function O_(r,t){let e=.5;const s=Le(r),a=Le(t);return a>s?e=Hr(t.min,t.max-s,r.min):s>a&&(e=Hr(r.min,r.max-a,t.min)),es(0,1,e)}function k_(r,t){const e={};return t.min!==void 0&&(e.min=t.min-r.min),t.max!==void 0&&(e.max=t.max-r.min),e}const pd=.35;function I_(r=pd){return r===!1?r=0:r===!0&&(r=pd),{x:p0(r,"left","right"),y:p0(r,"top","bottom")}}function p0(r,t,e){return{min:g0(r,t),max:g0(r,e)}}function g0(r,t){return typeof r=="number"?r:r[t]||0}const B_=new WeakMap;class j_{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=te(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=y=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(Jr(y).point)},c=(y,b)=>{const{drag:S,dragPropagation:w,onDragStart:T}=this.getProps();if(S&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=qw(S),!this.openDragLock))return;this.latestPointerEvent=y,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),hi(M=>{let N=this.getAxisMotionValue(M).get()||0;if(ki.test(N)){const{projection:C}=this.visualElement;if(C&&C.layout){const v=C.layout.layoutBox[M];v&&(N=Le(v)*(parseFloat(N)/100))}}this.originPoint[M]=N}),T&&Gt.postRender(()=>T(y,b)),dd(this.visualElement,"transform");const{animationState:R}=this.visualElement;R&&R.setActive("whileDrag",!0)},h=(y,b)=>{this.latestPointerEvent=y,this.latestPanInfo=b;const{dragPropagation:S,dragDirectionLock:w,onDirectionLock:T,onDrag:R}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:M}=b;if(w&&this.currentDirection===null){this.currentDirection=z_(M),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",b.point,M),this.updateAxis("y",b.point,M),this.visualElement.render(),R&&R(y,b)},d=(y,b)=>{this.latestPointerEvent=y,this.latestPanInfo=b,this.stop(y,b),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>hi(y=>this.getAnimationState(y)==="paused"&&this.getAxisMotionValue(y).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new Ov(t,{onSessionStart:l,onStart:c,onMove:h,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:s,contextWindow:Nv(this.visualElement)})}stop(t,e){const s=t||this.latestPointerEvent,a=e||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:h}=this.getProps();h&&Gt.postRender(()=>h(s,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,s){const{drag:a}=this.getProps();if(!s||!Tl(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(c=P_(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&la(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=L_(s.layoutBox,t):this.constraints=!1,this.elastic=I_(e),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&hi(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=k_(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!la(t))return!1;const s=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=FT(s,a.root,this.visualElement.getTransformPagePoint());let c=N_(a.layout.layoutBox,l);if(e){const h=e(BT(c));this.hasMutatedConstraints=!!h,h&&(c=bv(h))}return c}startAnimation(t){const{drag:e,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},f=hi(g=>{if(!Tl(g,e,this.currentDirection))return;let y=d&&d[g]||{};c&&(y={min:0,max:0});const b=a?200:1e6,S=a?40:1e7,w={type:"inertia",velocity:s?t[g]:0,bounceStiffness:b,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...l,...y};return this.startAxisValueAnimation(g,w)});return Promise.all(f).then(h)}startAxisValueAnimation(t,e){const s=this.getAxisMotionValue(t);return dd(this.visualElement,t),s.start(lf(t,s,0,e,this.visualElement,!1))}stopAnimation(){hi(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){hi(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),a=s[e];return a||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){hi(e=>{const{drag:s}=this.getProps();if(!Tl(e,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(e);if(a&&a.layout){const{min:c,max:h}=a.layout.layoutBox[e];l.set(t[e]-Yt(c,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:s}=this.visualElement;if(!la(e)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};hi(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const d=h.get();a[c]=O_({min:d,max:d},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),hi(c=>{if(!Tl(c,t,null))return;const h=this.getAxisMotionValue(c),{min:d,max:f}=this.constraints[c];h.set(Yt(d,f,a[c]))})}addListeners(){if(!this.visualElement.current)return;B_.set(this.visualElement,this);const t=this.visualElement.current,e=Br(t,"pointerdown",d=>{const{drag:f,dragListener:g=!0}=this.getProps();f&&g&&this.start(d)}),s=()=>{const{dragConstraints:d}=this.getProps();la(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Gt.read(s);const c=Xr(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(hi(g=>{const y=this.getAxisMotionValue(g);y&&(this.originPoint[g]+=d[g].translate,y.set(y.get()+d[g].translate))}),this.visualElement.render())}));return()=>{c(),e(),l(),h&&h()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=pd,dragMomentum:h=!0}=t;return{...t,drag:e,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:h}}}function Tl(r,t,e){return(t===!0||t===r)&&(e===null||e===r)}function z_(r,t=10){let e=null;return Math.abs(r.y)>t?e="y":Math.abs(r.x)>t&&(e="x"),e}class F_ extends Is{constructor(t){super(t),this.removeGroupControls=fi,this.removeListeners=fi,this.controls=new j_(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||fi}unmount(){this.removeGroupControls(),this.removeListeners()}}const m0=r=>(t,e)=>{r&&Gt.postRender(()=>r(t,e))};class H_ extends Is{constructor(){super(...arguments),this.removePointerDownListener=fi}onPointerDown(t){this.session=new Ov(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Nv(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:m0(t),onStart:m0(e),onMove:s,onEnd:(l,c)=>{delete this.session,a&&Gt.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Br(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Bl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function y0(r,t){return t.max===t.min?0:r/(t.max-t.min)*100}const _r={correct:(r,t)=>{if(!t.target)return r;if(typeof r=="string")if(mt.test(r))r=parseFloat(r);else return r;const e=y0(r,t.target.x),s=y0(r,t.target.y);return`${e}% ${s}%`}},V_={correct:(r,{treeScale:t,projectionDelta:e})=>{const s=r,a=Ns.parse(r);if(a.length>5)return s;const l=Ns.createTransformer(r),c=typeof a[0]!="number"?1:0,h=e.x.scale*t.x,d=e.y.scale*t.y;a[0+c]/=h,a[1+c]/=d;const f=Yt(h,d,.5);return typeof a[2+c]=="number"&&(a[2+c]/=f),typeof a[3+c]=="number"&&(a[3+c]/=f),l(a)}};let Ih=!1;class U_ extends Q.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=t;hT(G_),l&&(e.group&&e.group.add(l),s&&s.register&&a&&s.register(l),Ih&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Bl.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,Ih=!0,a||t.layoutDependency!==e||e===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||Gt.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Kd.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:s}=this.props,{projection:a}=t;Ih=!0,a&&(a.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Iv(r){const[t,e]=nv(),s=Q.useContext(Md);return O.jsx(U_,{...r,layoutGroup:s,switchLayoutGroup:Q.useContext(mv),isPresent:t,safeToRemove:e})}const G_={borderRadius:{..._r,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:_r,borderTopRightRadius:_r,borderBottomLeftRadius:_r,borderBottomRightRadius:_r,boxShadow:V_};function q_(r,t,e){const s=Ce(r)?r:ba(r);return s.start(lf("",s,t,e)),s.animation}const X_=(r,t)=>r.depth-t.depth;class Y_{constructor(){this.children=[],this.isDirty=!1}add(t){Pd(this.children,t),this.isDirty=!0}remove(t){Ld(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(X_),this.isDirty=!1,this.children.forEach(t)}}function $_(r,t){const e=Ve.now(),s=({timestamp:a})=>{const l=a-e;l>=t&&(Ls(s),r(l-t))};return Gt.setup(s,!0),()=>Ls(s)}const Bv=["TopLeft","TopRight","BottomLeft","BottomRight"],W_=Bv.length,b0=r=>typeof r=="string"?parseFloat(r):r,v0=r=>typeof r=="number"||mt.test(r);function K_(r,t,e,s,a,l){a?(r.opacity=Yt(0,e.opacity??1,Q_(s)),r.opacityExit=Yt(t.opacity??1,0,Z_(s))):l&&(r.opacity=Yt(t.opacity??1,e.opacity??1,s));for(let c=0;c<W_;c++){const h=`border${Bv[c]}Radius`;let d=A0(t,h),f=A0(e,h);if(d===void 0&&f===void 0)continue;d||(d=0),f||(f=0),d===0||f===0||v0(d)===v0(f)?(r[h]=Math.max(Yt(b0(d),b0(f),s),0),(ki.test(f)||ki.test(d))&&(r[h]+="%")):r[h]=f}(t.rotate||e.rotate)&&(r.rotate=Yt(t.rotate||0,e.rotate||0,s))}function A0(r,t){return r[t]!==void 0?r[t]:r.borderRadius}const Q_=jv(0,.5,Tb),Z_=jv(.5,.95,fi);function jv(r,t,e){return s=>s<r?0:s>t?1:e(Hr(r,t,s))}function S0(r,t){r.min=t.min,r.max=t.max}function ci(r,t){S0(r.x,t.x),S0(r.y,t.y)}function x0(r,t){r.translate=t.translate,r.scale=t.scale,r.originPoint=t.originPoint,r.origin=t.origin}function w0(r,t,e,s,a){return r-=t,r=ql(r,1/e,s),a!==void 0&&(r=ql(r,1/a,s)),r}function J_(r,t=0,e=1,s=.5,a,l=r,c=r){if(ki.test(t)&&(t=parseFloat(t),t=Yt(c.min,c.max,t/100)-c.min),typeof t!="number")return;let h=Yt(l.min,l.max,s);r===l&&(h-=t),r.min=w0(r.min,t,e,h,a),r.max=w0(r.max,t,e,h,a)}function T0(r,t,[e,s,a],l,c){J_(r,t[e],t[s],t[a],t.scale,l,c)}const tE=["x","scaleX","originX"],eE=["y","scaleY","originY"];function _0(r,t,e,s){T0(r.x,t,tE,e?e.x:void 0,s?s.x:void 0),T0(r.y,t,eE,e?e.y:void 0,s?s.y:void 0)}function E0(r){return r.translate===0&&r.scale===1}function zv(r){return E0(r.x)&&E0(r.y)}function C0(r,t){return r.min===t.min&&r.max===t.max}function iE(r,t){return C0(r.x,t.x)&&C0(r.y,t.y)}function M0(r,t){return Math.round(r.min)===Math.round(t.min)&&Math.round(r.max)===Math.round(t.max)}function Fv(r,t){return M0(r.x,t.x)&&M0(r.y,t.y)}function R0(r){return Le(r.x)/Le(r.y)}function D0(r,t){return r.translate===t.translate&&r.scale===t.scale&&r.originPoint===t.originPoint}class sE{constructor(){this.members=[]}add(t){Pd(this.members,t),t.scheduleRender()}remove(t){if(Ld(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(a=>t===a);if(e===0)return!1;let s;for(let a=e;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(t,e){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,e&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:s}=t;e.onExitComplete&&e.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function nE(r,t,e){let s="";const a=r.x.translate/t.x,l=r.y.translate/t.y,c=e?.z||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:f,rotate:g,rotateX:y,rotateY:b,skewX:S,skewY:w}=e;f&&(s=`perspective(${f}px) ${s}`),g&&(s+=`rotate(${g}deg) `),y&&(s+=`rotateX(${y}deg) `),b&&(s+=`rotateY(${b}deg) `),S&&(s+=`skewX(${S}deg) `),w&&(s+=`skewY(${w}deg) `)}const h=r.x.scale*t.x,d=r.y.scale*t.y;return(h!==1||d!==1)&&(s+=`scale(${h}, ${d})`),s||"none"}const Bh=["","X","Y","Z"],aE=1e3;let rE=0;function jh(r,t,e,s){const{latestValues:a}=t;a[r]&&(e[r]=a[r],t.setStaticValue(r,0),s&&(s[r]=0))}function Hv(r){if(r.hasCheckedOptimisedAppear=!0,r.root===r)return;const{visualElement:t}=r.options;if(!t)return;const e=Ev(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:a,layoutId:l}=r.options;window.MotionCancelOptimisedAnimation(e,"transform",Gt,!(a||l))}const{parent:s}=r;s&&!s.hasCheckedOptimisedAppear&&Hv(s)}function Vv({attachResizeListener:r,defaultParent:t,measureScroll:e,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},h=t?.()){this.id=rE++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(cE),this.nodes.forEach(fE),this.nodes.forEach(pE),this.nodes.forEach(uE)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new Y_)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new kd),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const d=this.eventHandlers.get(c);d&&d.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=sv(c)&&!Qw(c),this.instance=c;const{layoutId:h,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||h)&&(this.isLayoutDirty=!0),r){let g,y=0;const b=()=>this.root.updateBlockedByResize=!1;Gt.read(()=>{y=window.innerWidth}),r(c,()=>{const S=window.innerWidth;S!==y&&(y=S,this.root.updateBlockedByResize=!0,g&&g(),g=$_(b,250),Bl.hasAnimatedSinceResize&&(Bl.hasAnimatedSinceResize=!1,this.nodes.forEach(N0)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&f&&(h||d)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:y,hasRelativeLayoutChanged:b,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||f.getDefaultTransition()||vE,{onLayoutAnimationStart:T,onLayoutAnimationComplete:R}=f.getProps(),M=!this.targetLayout||!Fv(this.targetLayout,S),N=!y&&b;if(this.options.layoutRoot||this.resumeFrom||N||y&&(M||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const C={...$d(w,"layout"),onPlay:T,onComplete:R};(f.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C),this.setAnimationOrigin(g,N)}else y||N0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ls(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(gE),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Hv(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const y=this.path[g];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(P0);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(L0);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(dE),this.nodes.forEach(oE),this.nodes.forEach(lE)):this.nodes.forEach(L0),this.clearAllSnapshots();const h=Ve.now();Ae.delta=es(0,1e3/60,h-Ae.timestamp),Ae.timestamp=h,Ae.isProcessing=!0,Eh.update.process(Ae),Eh.preRender.process(Ae),Eh.render.process(Ae),Ae.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Kd.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(hE),this.sharedNodes.forEach(mE)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Gt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Gt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Le(this.snapshot.measuredBox.x)&&!Le(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=te(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h&&this.instance){const d=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:d,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!zv(this.projectionDelta),d=this.getTransformTemplate(),f=d?d(this.latestValues,""):void 0,g=f!==this.prevTransformTemplateValue;c&&this.instance&&(h||an(this.latestValues)||g)&&(a(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return c&&(d=this.removeTransform(d)),AE(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return te();const h=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(SE))){const{scroll:f}=this.root;f&&(ca(h.x,f.offset.x),ca(h.y,f.offset.y))}return h}removeElementScroll(c){const h=te();if(ci(h,c),this.scroll?.wasRoot)return h;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:g,options:y}=f;f!==this.root&&g&&y.layoutScroll&&(g.wasRoot&&ci(h,c),ca(h.x,g.offset.x),ca(h.y,g.offset.y))}return h}applyTransform(c,h=!1){const d=te();ci(d,c);for(let f=0;f<this.path.length;f++){const g=this.path[f];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&ua(d,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),an(g.latestValues)&&ua(d,g.latestValues)}return an(this.latestValues)&&ua(d,this.latestValues),d}removeTransform(c){const h=te();ci(h,c);for(let d=0;d<this.path.length;d++){const f=this.path[d];if(!f.instance||!an(f.latestValues))continue;ld(f.latestValues)&&f.updateSnapshot();const g=te(),y=f.measurePageBox();ci(g,y),_0(h,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,g)}return an(this.latestValues)&&_0(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ae.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(c||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:y}=this.options;if(!(!this.layout||!(g||y))){if(this.resolvedRelativeTargetAt=Ae.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=te(),this.relativeTargetOrigin=te(),zr(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),ci(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=te(),this.targetWithTransforms=te()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),C_(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ci(this.target,this.layout.layoutBox),Av(this.target,this.targetDelta)):ci(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=te(),this.relativeTargetOrigin=te(),zr(this.relativeTargetOrigin,this.target,b.target),ci(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ld(this.parent.latestValues)||vv(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),h=!!this.resumingFrom||this!==c;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Ae.timestamp&&(d=!1),d)return;const{layout:f,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||g))return;ci(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,b=this.treeScale.y;zT(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=te());const{target:S}=c;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(x0(this.prevProjectionDelta.x,this.projectionDelta.x),x0(this.prevProjectionDelta.y,this.projectionDelta.y)),jr(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==b||!D0(this.projectionDelta.x,this.prevProjectionDelta.x)||!D0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ha(),this.projectionDelta=ha(),this.projectionDeltaWithTransform=ha()}setAnimationOrigin(c,h=!1){const d=this.snapshot,f=d?d.latestValues:{},g={...this.latestValues},y=ha();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const b=te(),S=d?d.source:void 0,w=this.layout?this.layout.source:void 0,T=S!==w,R=this.getStack(),M=!R||R.members.length<=1,N=!!(T&&!M&&this.options.crossfade===!0&&!this.path.some(bE));this.animationProgress=0;let C;this.mixTargetDelta=v=>{const A=v/1e3;O0(y.x,c.x,A),O0(y.y,c.y,A),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(zr(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),yE(this.relativeTarget,this.relativeTargetOrigin,b,A),C&&iE(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=te()),ci(C,this.relativeTarget)),T&&(this.animationValues=g,K_(g,f,this.latestValues,A,N,M)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ls(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Gt.update(()=>{Bl.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ba(0)),this.currentAnimation=q_(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(aE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:d,layout:f,latestValues:g}=c;if(!(!h||!d||!f)){if(this!==c&&this.layout&&f&&Uv(this.options.animationType,this.layout.layoutBox,f.layoutBox)){d=this.target||te();const y=Le(this.layout.layoutBox.x);d.x.min=c.target.x.min,d.x.max=d.x.min+y;const b=Le(this.layout.layoutBox.y);d.y.min=c.target.y.min,d.y.max=d.y.min+b}ci(h,d),ua(h,g),jr(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new sE),this.sharedNodes.get(c).add(h);const f=h.options.initialPromotionConfig;h.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:d}={}){const f=this.getStack();f&&f.promote(this,d),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:d}=c;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const f={};d.z&&jh("z",c,f,this.animationValues);for(let g=0;g<Bh.length;g++)jh(`rotate${Bh[g]}`,c,f,this.animationValues),jh(`skew${Bh[g]}`,c,f,this.animationValues);c.render();for(const g in f)c.setStaticValue(g,f[g]),this.animationValues&&(this.animationValues[g]=f[g]);c.scheduleRender()}applyProjectionStyles(c,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Il(h?.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Il(h?.pointerEvents)||""),this.hasProjected&&!an(this.latestValues)&&(c.transform=d?d({},""):"none",this.hasProjected=!1);return}c.visibility="";const g=f.animationValues||f.latestValues;this.applyTransformsToTarget();let y=nE(this.projectionDeltaWithTransform,this.treeScale,g);d&&(y=d(g,y)),c.transform=y;const{x:b,y:S}=this.projectionDelta;c.transformOrigin=`${b.origin*100}% ${S.origin*100}% 0`,f.animationValues?c.opacity=f===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:c.opacity=f===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const w in qr){if(g[w]===void 0)continue;const{correct:T,applyTo:R,isCSSVariable:M}=qr[w],N=y==="none"?g[w]:T(g[w],f);if(R){const C=R.length;for(let v=0;v<C;v++)c[R[v]]=N}else M?this.options.visualElement.renderState.vars[w]=N:c[w]=N}this.options.layoutId&&(c.pointerEvents=f===this?Il(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(P0),this.root.sharedNodes.clear()}}}function oE(r){r.updateLayout()}function lE(r){const t=r.resumeFrom?.snapshot||r.snapshot;if(r.isLead()&&r.layout&&t&&r.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:s}=r.layout,{animationType:a}=r.options,l=t.source!==r.layout.source;a==="size"?hi(g=>{const y=l?t.measuredBox[g]:t.layoutBox[g],b=Le(y);y.min=e[g].min,y.max=y.min+b}):Uv(a,t.layoutBox,e)&&hi(g=>{const y=l?t.measuredBox[g]:t.layoutBox[g],b=Le(e[g]);y.max=y.min+b,r.relativeTarget&&!r.currentAnimation&&(r.isProjectionDirty=!0,r.relativeTarget[g].max=r.relativeTarget[g].min+b)});const c=ha();jr(c,e,t.layoutBox);const h=ha();l?jr(h,r.applyTransform(s,!0),t.measuredBox):jr(h,e,t.layoutBox);const d=!zv(c);let f=!1;if(!r.resumeFrom){const g=r.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:y,layout:b}=g;if(y&&b){const S=te();zr(S,t.layoutBox,y.layoutBox);const w=te();zr(w,e,b.layoutBox),Fv(S,w)||(f=!0),g.options.layoutRoot&&(r.relativeTarget=w,r.relativeTargetOrigin=S,r.relativeParent=g)}}}r.notifyListeners("didUpdate",{layout:e,snapshot:t,delta:h,layoutDelta:c,hasLayoutChanged:d,hasRelativeLayoutChanged:f})}else if(r.isLead()){const{onExitComplete:e}=r.options;e&&e()}r.options.transition=void 0}function cE(r){r.parent&&(r.isProjecting()||(r.isProjectionDirty=r.parent.isProjectionDirty),r.isSharedProjectionDirty||(r.isSharedProjectionDirty=!!(r.isProjectionDirty||r.parent.isProjectionDirty||r.parent.isSharedProjectionDirty)),r.isTransformDirty||(r.isTransformDirty=r.parent.isTransformDirty))}function uE(r){r.isProjectionDirty=r.isSharedProjectionDirty=r.isTransformDirty=!1}function hE(r){r.clearSnapshot()}function P0(r){r.clearMeasurements()}function L0(r){r.isLayoutDirty=!1}function dE(r){const{visualElement:t}=r.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),r.resetTransform()}function N0(r){r.finishAnimation(),r.targetDelta=r.relativeTarget=r.target=void 0,r.isProjectionDirty=!0}function fE(r){r.resolveTargetDelta()}function pE(r){r.calcProjection()}function gE(r){r.resetSkewAndRotation()}function mE(r){r.removeLeadSnapshot()}function O0(r,t,e){r.translate=Yt(t.translate,0,e),r.scale=Yt(t.scale,1,e),r.origin=t.origin,r.originPoint=t.originPoint}function k0(r,t,e,s){r.min=Yt(t.min,e.min,s),r.max=Yt(t.max,e.max,s)}function yE(r,t,e,s){k0(r.x,t.x,e.x,s),k0(r.y,t.y,e.y,s)}function bE(r){return r.animationValues&&r.animationValues.opacityExit!==void 0}const vE={duration:.45,ease:[.4,0,.1,1]},I0=r=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(r),B0=I0("applewebkit/")&&!I0("chrome/")?Math.round:fi;function j0(r){r.min=B0(r.min),r.max=B0(r.max)}function AE(r){j0(r.x),j0(r.y)}function Uv(r,t,e){return r==="position"||r==="preserve-aspect"&&!E_(R0(t),R0(e),.2)}function SE(r){return r!==r.root&&r.scroll?.wasRoot}const xE=Vv({attachResizeListener:(r,t)=>Xr(r,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),zh={current:void 0},Gv=Vv({measureScroll:r=>({x:r.scrollLeft,y:r.scrollTop}),defaultParent:()=>{if(!zh.current){const r=new xE({});r.mount(window),r.setOptions({layoutScroll:!0}),zh.current=r}return zh.current},resetTransform:(r,t)=>{r.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:r=>window.getComputedStyle(r).position==="fixed"}),wE={pan:{Feature:H_},drag:{Feature:F_,ProjectionNode:Gv,MeasureLayout:Iv}};function z0(r,t,e){const{props:s}=r;r.animationState&&s.whileHover&&r.animationState.setActive("whileHover",e==="Start");const a="onHover"+e,l=s[a];l&&Gt.postRender(()=>l(t,Jr(t)))}class TE extends Is{mount(){const{current:t}=this.node;t&&(this.unmount=Xw(t,(e,s)=>(z0(this.node,s,"Start"),a=>z0(this.node,a,"End"))))}unmount(){}}class _E extends Is{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Kr(Xr(this.node.current,"focus",()=>this.onFocus()),Xr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function F0(r,t,e){const{props:s}=r;if(r.current instanceof HTMLButtonElement&&r.current.disabled)return;r.animationState&&s.whileTap&&r.animationState.setActive("whileTap",e==="Start");const a="onTap"+(e==="End"?"":e),l=s[a];l&&Gt.postRender(()=>l(t,Jr(t)))}class EE extends Is{mount(){const{current:t}=this.node;t&&(this.unmount=Kw(t,(e,s)=>(F0(this.node,s,"Start"),(a,{success:l})=>F0(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const gd=new WeakMap,Fh=new WeakMap,CE=r=>{const t=gd.get(r.target);t&&t(r)},ME=r=>{r.forEach(CE)};function RE({root:r,...t}){const e=r||document;Fh.has(e)||Fh.set(e,{});const s=Fh.get(e),a=JSON.stringify(t);return s[a]||(s[a]=new IntersectionObserver(ME,{root:r,...t})),s[a]}function DE(r,t,e){const s=RE(t);return gd.set(r,e),s.observe(r),()=>{gd.delete(r),s.unobserve(r)}}const PE={some:0,all:1};class LE extends Is{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:s,amount:a="some",once:l}=t,c={root:e?e.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:PE[a]},h=d=>{const{isIntersecting:f}=d;if(this.isInView===f||(this.isInView=f,l&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:g,onViewportLeave:y}=this.node.getProps(),b=f?g:y;b&&b(d)};return DE(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(NE(t,e))&&this.startObserver()}unmount(){}}function NE({viewport:r={}},{viewport:t={}}={}){return e=>r[e]!==t[e]}const OE={inView:{Feature:LE},tap:{Feature:EE},focus:{Feature:_E},hover:{Feature:TE}},kE={layout:{ProjectionNode:Gv,MeasureLayout:Iv}},IE={...A_,...OE,...wE,...kE},H0=IT(IE,WT);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jE=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,s)=>s?s.toUpperCase():e.toLowerCase()),V0=r=>{const t=jE(r);return t.charAt(0).toUpperCase()+t.slice(1)},qv=(...r)=>r.filter((t,e,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===e).join(" ").trim(),zE=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var FE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=Q.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:c,...h},d)=>Q.createElement("svg",{ref:d,...FE,width:t,height:t,stroke:r,strokeWidth:s?Number(e)*24/Number(t):e,className:qv("lucide",a),...!l&&!zE(h)&&{"aria-hidden":"true"},...h},[...c.map(([f,g])=>Q.createElement(f,g)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=(r,t)=>{const e=Q.forwardRef(({className:s,...a},l)=>Q.createElement(HE,{ref:l,iconNode:t,className:qv(`lucide-${BE(V0(r))}`,`lucide-${r}`,s),...a}));return e.displayName=V0(r),e};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],UE=Bs("external-link",VE);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],_l=Bs("file-text",GE);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],XE=Bs("github",qE);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],$E=Bs("house",YE);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],KE=Bs("linkedin",WE);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],ZE=Bs("mail",QE);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],tC=Bs("search",JE);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],iC=Bs("star",eC);var Pr={exports:{}},sC=Pr.exports,U0;function nC(){return U0||(U0=1,(function(r,t){(function(e,s){s(t)})(sC,(function(e){class s{constructor(v,A){this.state={angle:0,area:[],position:{x:0,y:0},hardAngle:0,hardDrawingAngle:0},this.createdDensity=A,this.nowDrawingDensity=this.createdDensity,this.render=v}setDensity(v){this.createdDensity=v,this.nowDrawingDensity=v}setDrawingDensity(v){this.nowDrawingDensity=v}setPosition(v){this.state.position=v}setAngle(v){this.state.angle=v}setArea(v){this.state.area=v}setHardDrawingAngle(v){this.state.hardDrawingAngle=v}setHardAngle(v){this.state.hardAngle=v,this.state.hardDrawingAngle=v}setOrientation(v){this.orientation=v}getDrawingDensity(){return this.nowDrawingDensity}getDensity(){return this.createdDensity}getHardAngle(){return this.state.hardAngle}}class a extends s{constructor(v,A,_){super(v,_),this.image=null,this.isLoad=!1,this.loadingAngle=0,this.image=new Image,this.image.src=A}draw(v){const A=this.render.getContext(),_=this.render.convertToGlobal(this.state.position),D=this.render.getRect().pageWidth,P=this.render.getRect().height;A.save(),A.translate(_.x,_.y),A.beginPath();for(let L of this.state.area)L!==null&&(L=this.render.convertToGlobal(L),A.lineTo(L.x-_.x,L.y-_.y));A.rotate(this.state.angle),A.clip(),this.isLoad?A.drawImage(this.image,0,0,D,P):this.drawLoader(A,{x:0,y:0},D,P),A.restore()}simpleDraw(v){const A=this.render.getRect(),_=this.render.getContext(),D=A.pageWidth,P=A.height,L=v===1?A.left+A.pageWidth:A.left,q=A.top;this.isLoad?_.drawImage(this.image,L,q,D,P):this.drawLoader(_,{x:L,y:q},D,P)}drawLoader(v,A,_,D){v.beginPath(),v.strokeStyle="rgb(200, 200, 200)",v.fillStyle="rgb(255, 255, 255)",v.lineWidth=1,v.rect(A.x+1,A.y+1,_-1,D-1),v.stroke(),v.fill();const P={x:A.x+_/2,y:A.y+D/2};v.beginPath(),v.lineWidth=10,v.arc(P.x,P.y,20,this.loadingAngle,3*Math.PI/2+this.loadingAngle),v.stroke(),v.closePath(),this.loadingAngle+=.07,this.loadingAngle>=2*Math.PI&&(this.loadingAngle=0)}load(){this.isLoad||(this.image.onload=()=>{this.isLoad=!0})}newTemporaryCopy(){return this}getTemporaryCopy(){return this}hideTemporaryCopy(){}}class l{constructor(v,A){this.pages=[],this.currentPageIndex=0,this.currentSpreadIndex=0,this.landscapeSpread=[],this.portraitSpread=[],this.render=A,this.app=v,this.currentPageIndex=0,this.isShowCover=this.app.getSettings().showCover}destroy(){this.pages=[]}createSpread(){this.landscapeSpread=[],this.portraitSpread=[];for(let A=0;A<this.pages.length;A++)this.portraitSpread.push([A]);let v=0;this.isShowCover&&(this.pages[0].setDensity("hard"),this.landscapeSpread.push([v]),v++);for(let A=v;A<this.pages.length;A+=2)A<this.pages.length-1?this.landscapeSpread.push([A,A+1]):(this.landscapeSpread.push([A]),this.pages[A].setDensity("hard"))}getSpread(){return this.render.getOrientation()==="landscape"?this.landscapeSpread:this.portraitSpread}getSpreadIndexByPage(v){const A=this.getSpread();for(let _=0;_<A.length;_++)if(v===A[_][0]||v===A[_][1])return _;return null}getPageCount(){return this.pages.length}getPages(){return this.pages}getPage(v){if(v>=0&&v<this.pages.length)return this.pages[v];throw new Error("Invalid page number")}nextBy(v){const A=this.pages.indexOf(v);return A<this.pages.length-1?this.pages[A+1]:null}prevBy(v){const A=this.pages.indexOf(v);return A>0?this.pages[A-1]:null}getFlippingPage(v){const A=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return v===0?this.pages[A].newTemporaryCopy():this.pages[A-1];{const _=v===0?this.getSpread()[A+1]:this.getSpread()[A-1];return _.length===1||v===0?this.pages[_[0]]:this.pages[_[1]]}}getBottomPage(v){const A=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return v===0?this.pages[A+1]:this.pages[A-1];{const _=v===0?this.getSpread()[A+1]:this.getSpread()[A-1];return _.length===1?this.pages[_[0]]:v===0?this.pages[_[1]]:this.pages[_[0]]}}showNext(){this.currentSpreadIndex<this.getSpread().length&&(this.currentSpreadIndex++,this.showSpread())}showPrev(){this.currentSpreadIndex>0&&(this.currentSpreadIndex--,this.showSpread())}getCurrentPageIndex(){return this.currentPageIndex}show(v=null){if(v===null&&(v=this.currentPageIndex),v<0||v>=this.pages.length)return;const A=this.getSpreadIndexByPage(v);A!==null&&(this.currentSpreadIndex=A,this.showSpread())}getCurrentSpreadIndex(){return this.currentSpreadIndex}setCurrentSpreadIndex(v){if(!(v>=0&&v<this.getSpread().length))throw new Error("Invalid page");this.currentSpreadIndex=v}showSpread(){const v=this.getSpread()[this.currentSpreadIndex];v.length===2?(this.render.setLeftPage(this.pages[v[0]]),this.render.setRightPage(this.pages[v[1]])):this.render.getOrientation()==="landscape"&&v[0]===this.pages.length-1?(this.render.setLeftPage(this.pages[v[0]]),this.render.setRightPage(null)):(this.render.setLeftPage(null),this.render.setRightPage(this.pages[v[0]])),this.currentPageIndex=v[0],this.app.updatePageIndex(this.currentPageIndex)}}class c extends l{constructor(v,A,_){super(v,A),this.imagesHref=_}load(){for(const v of this.imagesHref){const A=new a(this.render,v,"soft");A.load(),this.pages.push(A)}this.createSpread()}}class h{static GetDistanceBetweenTwoPoint(v,A){return v===null||A===null?1/0:Math.sqrt(Math.pow(A.x-v.x,2)+Math.pow(A.y-v.y,2))}static GetSegmentLength(v){return h.GetDistanceBetweenTwoPoint(v[0],v[1])}static GetAngleBetweenTwoLine(v,A){const _=v[0].y-v[1].y,D=A[0].y-A[1].y,P=v[1].x-v[0].x,L=A[1].x-A[0].x;return Math.acos((_*D+P*L)/(Math.sqrt(_*_+P*P)*Math.sqrt(D*D+L*L)))}static PointInRect(v,A){return A===null?null:A.x>=v.left&&A.x<=v.width+v.left&&A.y>=v.top&&A.y<=v.top+v.height?A:null}static GetRotatedPoint(v,A,_){return{x:v.x*Math.cos(_)+v.y*Math.sin(_)+A.x,y:v.y*Math.cos(_)-v.x*Math.sin(_)+A.y}}static LimitPointToCircle(v,A,_){if(h.GetDistanceBetweenTwoPoint(v,_)<=A)return _;const D=v.x,P=v.y,L=_.x,q=_.y;let X=Math.sqrt(Math.pow(A,2)*Math.pow(D-L,2)/(Math.pow(D-L,2)+Math.pow(P-q,2)))+D;_.x<0&&(X*=-1);let tt=(X-D)*(P-q)/(D-L)+P;return D-L+P===0&&(tt=A),{x:X,y:tt}}static GetIntersectBetweenTwoSegment(v,A,_){return h.PointInRect(v,h.GetIntersectBeetwenTwoLine(A,_))}static GetIntersectBeetwenTwoLine(v,A){const _=v[0].y-v[1].y,D=A[0].y-A[1].y,P=v[1].x-v[0].x,L=A[1].x-A[0].x,q=v[0].x*v[1].y-v[1].x*v[0].y,X=A[0].x*A[1].y-A[1].x*A[0].y,tt=_*X-D*q,at=P*X-L*q,it=-(q*L-X*P)/(_*L-D*P),pt=-(_*X-D*q)/(_*L-D*P);if(isFinite(it)&&isFinite(pt))return{x:it,y:pt};if(Math.abs(tt-at)<.1)throw new Error("Segment included");return null}static GetCordsFromTwoPoint(v,A){const _=Math.abs(v.x-A.x),D=Math.abs(v.y-A.y),P=Math.max(_,D),L=[v];function q(X,tt,at,it,pt){return tt>X?X+pt*(at/it):tt<X?X-pt*(at/it):X}for(let X=1;X<=P;X+=1)L.push({x:q(v.x,A.x,_,P,X),y:q(v.y,A.y,D,P,X)});return L}}class d extends s{constructor(v,A,_){super(v,_),this.copiedElement=null,this.temporaryCopy=null,this.isLoad=!1,this.element=A,this.element.classList.add("stf__item"),this.element.classList.add("--"+_)}newTemporaryCopy(){return this.nowDrawingDensity==="hard"?this:(this.temporaryCopy===null&&(this.copiedElement=this.element.cloneNode(!0),this.element.parentElement.appendChild(this.copiedElement),this.temporaryCopy=new d(this.render,this.copiedElement,this.nowDrawingDensity)),this.getTemporaryCopy())}getTemporaryCopy(){return this.temporaryCopy}hideTemporaryCopy(){this.temporaryCopy!==null&&(this.copiedElement.remove(),this.copiedElement=null,this.temporaryCopy=null)}draw(v){const A=v||this.nowDrawingDensity,_=this.render.convertToGlobal(this.state.position),D=this.render.getRect().pageWidth,P=this.render.getRect().height;this.element.classList.remove("--simple");const L=`
            display: block;
            z-index: ${this.element.style.zIndex};
            left: 0;
            top: 0;
            width: ${D}px;
            height: ${P}px;
        `;A==="hard"?this.drawHard(L):this.drawSoft(_,L)}drawHard(v=""){const A=this.render.getRect().left+this.render.getRect().width/2,_=this.state.hardDrawingAngle,D=v+`
                backface-visibility: hidden;
                -webkit-backface-visibility: hidden;
                clip-path: none;
                -webkit-clip-path: none;
            `+(this.orientation===0?`transform-origin: ${this.render.getRect().pageWidth}px 0; 
                   transform: translate3d(0, 0, 0) rotateY(${_}deg);`:`transform-origin: 0 0; 
                   transform: translate3d(${A}px, 0, 0) rotateY(${_}deg);`);this.element.style.cssText=D}drawSoft(v,A=""){let _="polygon( ";for(const P of this.state.area)if(P!==null){let L=this.render.getDirection()===1?{x:-P.x+this.state.position.x,y:P.y-this.state.position.y}:{x:P.x-this.state.position.x,y:P.y-this.state.position.y};L=h.GetRotatedPoint(L,{x:0,y:0},this.state.angle),_+=L.x+"px "+L.y+"px, "}_=_.slice(0,-2),_+=")";const D=A+`transform-origin: 0 0; clip-path: ${_}; -webkit-clip-path: ${_};`+(this.render.isSafari()&&this.state.angle===0?`transform: translate(${v.x}px, ${v.y}px);`:`transform: translate3d(${v.x}px, ${v.y}px, 0) rotate(${this.state.angle}rad);`);this.element.style.cssText=D}simpleDraw(v){const A=this.render.getRect(),_=A.pageWidth,D=A.height,P=v===1?A.left+A.pageWidth:A.left,L=A.top;this.element.classList.add("--simple"),this.element.style.cssText=`
            position: absolute; 
            display: block; 
            height: ${D}px; 
            left: ${P}px; 
            top: ${L}px; 
            width: ${_}px; 
            z-index: ${this.render.getSettings().startZIndex+1};`}getElement(){return this.element}load(){this.isLoad=!0}setOrientation(v){super.setOrientation(v),this.element.classList.remove("--left","--right"),this.element.classList.add(v===1?"--right":"--left")}setDrawingDensity(v){this.element.classList.remove("--soft","--hard"),this.element.classList.add("--"+v),super.setDrawingDensity(v)}}class f extends l{constructor(v,A,_,D){super(v,A),this.element=_,this.pagesElement=D}load(){for(const v of this.pagesElement){const A=new d(this.render,v,v.dataset.density==="hard"?"hard":"soft");A.load(),this.pages.push(A)}this.createSpread()}}class g{constructor(v,A,_,D){this.direction=v,this.corner=A,this.topIntersectPoint=null,this.sideIntersectPoint=null,this.bottomIntersectPoint=null,this.pageWidth=parseInt(_,10),this.pageHeight=parseInt(D,10)}calc(v){try{return this.position=this.calcAngleAndPosition(v),this.calculateIntersectPoint(this.position),!0}catch{return!1}}getFlippingClipArea(){const v=[];let A=!1;return v.push(this.rect.topLeft),v.push(this.topIntersectPoint),this.sideIntersectPoint===null?A=!0:(v.push(this.sideIntersectPoint),this.bottomIntersectPoint===null&&(A=!1)),v.push(this.bottomIntersectPoint),(A||this.corner==="bottom")&&v.push(this.rect.bottomLeft),v}getBottomClipArea(){const v=[];return v.push(this.topIntersectPoint),this.corner==="top"?v.push({x:this.pageWidth,y:0}):(this.topIntersectPoint!==null&&v.push({x:this.pageWidth,y:0}),v.push({x:this.pageWidth,y:this.pageHeight})),this.sideIntersectPoint!==null?h.GetDistanceBetweenTwoPoint(this.sideIntersectPoint,this.topIntersectPoint)>=10&&v.push(this.sideIntersectPoint):this.corner==="top"&&v.push({x:this.pageWidth,y:this.pageHeight}),v.push(this.bottomIntersectPoint),v.push(this.topIntersectPoint),v}getAngle(){return this.direction===0?-this.angle:this.angle}getRect(){return this.rect}getPosition(){return this.position}getActiveCorner(){return this.direction===0?this.rect.topLeft:this.rect.topRight}getDirection(){return this.direction}getFlippingProgress(){return Math.abs((this.position.x-this.pageWidth)/(2*this.pageWidth)*100)}getCorner(){return this.corner}getBottomPagePosition(){return this.direction===1?{x:this.pageWidth,y:0}:{x:0,y:0}}getShadowStartPoint(){return this.corner==="top"?this.topIntersectPoint:this.sideIntersectPoint!==null?this.sideIntersectPoint:this.topIntersectPoint}getShadowAngle(){const v=h.GetAngleBetweenTwoLine(this.getSegmentToShadowLine(),[{x:0,y:0},{x:this.pageWidth,y:0}]);return this.direction===0?v:Math.PI-v}calcAngleAndPosition(v){let A=v;if(this.updateAngleAndGeometry(A),A=this.corner==="top"?this.checkPositionAtCenterLine(A,{x:0,y:0},{x:0,y:this.pageHeight}):this.checkPositionAtCenterLine(A,{x:0,y:this.pageHeight},{x:0,y:0}),Math.abs(A.x-this.pageWidth)<1&&Math.abs(A.y)<1)throw new Error("Point is too small");return A}updateAngleAndGeometry(v){this.angle=this.calculateAngle(v),this.rect=this.getPageRect(v)}calculateAngle(v){const A=this.pageWidth-v.x+1,_=this.corner==="bottom"?this.pageHeight-v.y:v.y;let D=2*Math.acos(A/Math.sqrt(_*_+A*A));_<0&&(D=-D);const P=Math.PI-D;if(!isFinite(D)||P>=0&&P<.003)throw new Error("The G point is too small");return this.corner==="bottom"&&(D=-D),D}getPageRect(v){return this.corner==="top"?this.getRectFromBasePoint([{x:0,y:0},{x:this.pageWidth,y:0},{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}],v):this.getRectFromBasePoint([{x:0,y:-this.pageHeight},{x:this.pageWidth,y:-this.pageHeight},{x:0,y:0},{x:this.pageWidth,y:0}],v)}getRectFromBasePoint(v,A){return{topLeft:this.getRotatedPoint(v[0],A),topRight:this.getRotatedPoint(v[1],A),bottomLeft:this.getRotatedPoint(v[2],A),bottomRight:this.getRotatedPoint(v[3],A)}}getRotatedPoint(v,A){return{x:v.x*Math.cos(this.angle)+v.y*Math.sin(this.angle)+A.x,y:v.y*Math.cos(this.angle)-v.x*Math.sin(this.angle)+A.y}}calculateIntersectPoint(v){const A={left:-1,top:-1,width:this.pageWidth+2,height:this.pageHeight+2};this.corner==="top"?(this.topIntersectPoint=h.GetIntersectBetweenTwoSegment(A,[v,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=h.GetIntersectBetweenTwoSegment(A,[v,this.rect.bottomLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=h.GetIntersectBetweenTwoSegment(A,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}])):(this.topIntersectPoint=h.GetIntersectBetweenTwoSegment(A,[this.rect.topLeft,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=h.GetIntersectBetweenTwoSegment(A,[v,this.rect.topLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=h.GetIntersectBetweenTwoSegment(A,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}]))}checkPositionAtCenterLine(v,A,_){let D=v;const P=h.LimitPointToCircle(A,this.pageWidth,D);D!==P&&(D=P,this.updateAngleAndGeometry(D));const L=Math.sqrt(Math.pow(this.pageWidth,2)+Math.pow(this.pageHeight,2));let q=this.rect.bottomRight,X=this.rect.topLeft;if(this.corner==="bottom"&&(q=this.rect.topRight,X=this.rect.bottomLeft),q.x<=0){const tt=h.LimitPointToCircle(_,L,X);tt!==D&&(D=tt,this.updateAngleAndGeometry(D))}return D}getSegmentToShadowLine(){const v=this.getShadowStartPoint();return[v,v!==this.sideIntersectPoint&&this.sideIntersectPoint!==null?this.sideIntersectPoint:this.bottomIntersectPoint]}}class y{constructor(v,A){this.flippingPage=null,this.bottomPage=null,this.calc=null,this.state="read",this.render=v,this.app=A}fold(v){this.setState("user_fold"),this.calc===null&&this.start(v),this.do(this.render.convertToPage(v))}flip(v){if(this.app.getSettings().disableFlipByClick&&!this.isPointOnCorners(v)||(this.calc!==null&&this.render.finishAnimation(),!this.start(v)))return;const A=this.getBoundsRect();this.setState("flipping");const _=A.height/10,D=this.calc.getCorner()==="bottom"?A.height-_:_,P=this.calc.getCorner()==="bottom"?A.height:0;this.calc.calc({x:A.pageWidth-_,y:D}),this.animateFlippingTo({x:A.pageWidth-_,y:D},{x:-A.pageWidth,y:P},!0)}start(v){this.reset();const A=this.render.convertToBook(v),_=this.getBoundsRect(),D=this.getDirectionByPoint(A),P=A.y>=_.height/2?"bottom":"top";if(!this.checkDirection(D))return!1;try{if(this.flippingPage=this.app.getPageCollection().getFlippingPage(D),this.bottomPage=this.app.getPageCollection().getBottomPage(D),this.render.getOrientation()==="landscape")if(D===1){const L=this.app.getPageCollection().nextBy(this.flippingPage);L!==null&&this.flippingPage.getDensity()!==L.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),L.setDrawingDensity("hard"))}else{const L=this.app.getPageCollection().prevBy(this.flippingPage);L!==null&&this.flippingPage.getDensity()!==L.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),L.setDrawingDensity("hard"))}return this.render.setDirection(D),this.calc=new g(D,P,_.pageWidth.toString(10),_.height.toString(10)),!0}catch{return!1}}do(v){if(this.calc!==null&&this.calc.calc(v)){const A=this.calc.getFlippingProgress();this.bottomPage.setArea(this.calc.getBottomClipArea()),this.bottomPage.setPosition(this.calc.getBottomPagePosition()),this.bottomPage.setAngle(0),this.bottomPage.setHardAngle(0),this.flippingPage.setArea(this.calc.getFlippingClipArea()),this.flippingPage.setPosition(this.calc.getActiveCorner()),this.flippingPage.setAngle(this.calc.getAngle()),this.calc.getDirection()===0?this.flippingPage.setHardAngle(90*(200-2*A)/100):this.flippingPage.setHardAngle(-90*(200-2*A)/100),this.render.setPageRect(this.calc.getRect()),this.render.setBottomPage(this.bottomPage),this.render.setFlippingPage(this.flippingPage),this.render.setShadowData(this.calc.getShadowStartPoint(),this.calc.getShadowAngle(),A,this.calc.getDirection())}}flipToPage(v,A){const _=this.app.getPageCollection().getCurrentSpreadIndex(),D=this.app.getPageCollection().getSpreadIndexByPage(v);try{D>_&&(this.app.getPageCollection().setCurrentSpreadIndex(D-1),this.flipNext(A)),D<_&&(this.app.getPageCollection().setCurrentSpreadIndex(D+1),this.flipPrev(A))}catch{}}flipNext(v){this.flip({x:this.render.getRect().left+2*this.render.getRect().pageWidth-10,y:v==="top"?1:this.render.getRect().height-2})}flipPrev(v){this.flip({x:10,y:v==="top"?1:this.render.getRect().height-2})}stopMove(){if(this.calc===null)return;const v=this.calc.getPosition(),A=this.getBoundsRect(),_=this.calc.getCorner()==="bottom"?A.height:0;v.x<=0?this.animateFlippingTo(v,{x:-A.pageWidth,y:_},!0):this.animateFlippingTo(v,{x:A.pageWidth,y:_},!1)}showCorner(v){if(!this.checkState("read","fold_corner"))return;const A=this.getBoundsRect(),_=A.pageWidth;if(this.isPointOnCorners(v))if(this.calc===null){if(!this.start(v))return;this.setState("fold_corner"),this.calc.calc({x:_-1,y:1});const D=50,P=this.calc.getCorner()==="bottom"?A.height-1:1,L=this.calc.getCorner()==="bottom"?A.height-D:D;this.animateFlippingTo({x:_-1,y:P},{x:_-D,y:L},!1,!1)}else this.do(this.render.convertToPage(v));else this.setState("read"),this.render.finishAnimation(),this.stopMove()}animateFlippingTo(v,A,_,D=!0){const P=h.GetCordsFromTwoPoint(v,A),L=[];for(const X of P)L.push(()=>this.do(X));const q=this.getAnimationDuration(P.length);this.render.startAnimation(L,q,()=>{this.calc&&(_&&(this.calc.getDirection()===1?this.app.turnToPrevPage():this.app.turnToNextPage()),D&&(this.render.setBottomPage(null),this.render.setFlippingPage(null),this.render.clearShadow(),this.setState("read"),this.reset()))})}getCalculation(){return this.calc}getState(){return this.state}setState(v){this.state!==v&&(this.app.updateState(v),this.state=v)}getDirectionByPoint(v){const A=this.getBoundsRect();if(this.render.getOrientation()==="portrait"){if(v.x-A.pageWidth<=A.width/5)return 1}else if(v.x<A.width/2)return 1;return 0}getAnimationDuration(v){const A=this.app.getSettings().flippingTime;return v>=1e3?A:v/1e3*A}checkDirection(v){return v===0?this.app.getCurrentPageIndex()<this.app.getPageCount()-1:this.app.getCurrentPageIndex()>=1}reset(){this.calc=null,this.flippingPage=null,this.bottomPage=null}getBoundsRect(){return this.render.getRect()}checkState(...v){for(const A of v)if(this.state===A)return!0;return!1}isPointOnCorners(v){const A=this.getBoundsRect(),_=A.pageWidth,D=Math.sqrt(Math.pow(_,2)+Math.pow(A.height,2))/5,P=this.render.convertToBook(v);return P.x>0&&P.y>0&&P.x<A.width&&P.y<A.height&&(P.x<D||P.x>A.width-D)&&(P.y<D||P.y>A.height-D)}}class b{constructor(v,A){this.leftPage=null,this.rightPage=null,this.flippingPage=null,this.bottomPage=null,this.direction=null,this.orientation=null,this.shadow=null,this.animation=null,this.pageRect=null,this.boundsRect=null,this.timer=0,this.safari=!1,this.setting=A,this.app=v;const _=new RegExp("Version\\/[\\d\\.]+.*Safari/");this.safari=_.exec(window.navigator.userAgent)!==null}render(v){if(this.animation!==null){const A=Math.round((v-this.animation.startedAt)/this.animation.durationFrame);A<this.animation.frames.length?this.animation.frames[A]():(this.animation.onAnimateEnd(),this.animation=null)}this.timer=v,this.drawFrame()}start(){this.update();const v=A=>{this.render(A),requestAnimationFrame(v)};requestAnimationFrame(v)}startAnimation(v,A,_){this.finishAnimation(),this.animation={frames:v,duration:A,durationFrame:A/v.length,onAnimateEnd:_,startedAt:this.timer}}finishAnimation(){this.animation!==null&&(this.animation.frames[this.animation.frames.length-1](),this.animation.onAnimateEnd!==null&&this.animation.onAnimateEnd()),this.animation=null}update(){this.boundsRect=null;const v=this.calculateBoundsRect();this.orientation!==v&&(this.orientation=v,this.app.updateOrientation(v))}calculateBoundsRect(){let v="landscape";const A=this.getBlockWidth(),_=A/2,D=this.getBlockHeight()/2,P=this.setting.width/this.setting.height;let L=this.setting.width,q=this.setting.height,X=_-L;return this.setting.size==="stretch"?(A<2*this.setting.minWidth&&this.app.getSettings().usePortrait&&(v="portrait"),L=v==="portrait"?this.getBlockWidth():this.getBlockWidth()/2,L>this.setting.maxWidth&&(L=this.setting.maxWidth),q=L/P,q>this.getBlockHeight()&&(q=this.getBlockHeight(),L=q*P),X=v==="portrait"?_-L/2-L:_-L):A<2*L&&this.app.getSettings().usePortrait&&(v="portrait",X=_-L/2-L),this.boundsRect={left:X,top:D-q/2,width:2*L,height:q,pageWidth:L},v}setShadowData(v,A,_,D){if(!this.app.getSettings().drawShadow)return;const P=100*this.getSettings().maxShadowOpacity;this.shadow={pos:v,angle:A,width:3*this.getRect().pageWidth/4*_/100,opacity:(100-_)*P/100/100,direction:D,progress:2*_}}clearShadow(){this.shadow=null}getBlockWidth(){return this.app.getUI().getDistElement().offsetWidth}getBlockHeight(){return this.app.getUI().getDistElement().offsetHeight}getDirection(){return this.direction}getRect(){return this.boundsRect===null&&this.calculateBoundsRect(),this.boundsRect}getSettings(){return this.app.getSettings()}getOrientation(){return this.orientation}setPageRect(v){this.pageRect=v}setDirection(v){this.direction=v}setRightPage(v){v!==null&&v.setOrientation(1),this.rightPage=v}setLeftPage(v){v!==null&&v.setOrientation(0),this.leftPage=v}setBottomPage(v){v!==null&&v.setOrientation(this.direction===1?0:1),this.bottomPage=v}setFlippingPage(v){v!==null&&v.setOrientation(this.direction===0&&this.orientation!=="portrait"?0:1),this.flippingPage=v}convertToBook(v){const A=this.getRect();return{x:v.x-A.left,y:v.y-A.top}}isSafari(){return this.safari}convertToPage(v,A){A||(A=this.direction);const _=this.getRect();return{x:A===0?v.x-_.left-_.width/2:_.width/2-v.x+_.left,y:v.y-_.top}}convertToGlobal(v,A){if(A||(A=this.direction),v==null)return null;const _=this.getRect();return{x:A===0?v.x+_.left+_.width/2:_.width/2-v.x+_.left,y:v.y+_.top}}convertRectToGlobal(v,A){return A||(A=this.direction),{topLeft:this.convertToGlobal(v.topLeft,A),topRight:this.convertToGlobal(v.topRight,A),bottomLeft:this.convertToGlobal(v.bottomLeft,A),bottomRight:this.convertToGlobal(v.bottomRight,A)}}}class S extends b{constructor(v,A,_){super(v,A),this.canvas=_,this.ctx=_.getContext("2d")}getContext(){return this.ctx}reload(){}drawFrame(){this.clear(),this.orientation!=="portrait"&&this.leftPage!=null&&this.leftPage.simpleDraw(0),this.rightPage!=null&&this.rightPage.simpleDraw(1),this.bottomPage!=null&&this.bottomPage.draw(),this.drawBookShadow(),this.flippingPage!=null&&this.flippingPage.draw(),this.shadow!=null&&(this.drawOuterShadow(),this.drawInnerShadow());const v=this.getRect();this.orientation==="portrait"&&(this.ctx.beginPath(),this.ctx.rect(v.left+v.pageWidth,v.top,v.width,v.height),this.ctx.clip())}drawBookShadow(){const v=this.getRect();this.ctx.save(),this.ctx.beginPath();const A=v.width/20;this.ctx.rect(v.left,v.top,v.width,v.height);const _={x:v.left+v.width/2-A/2,y:0};this.ctx.translate(_.x,_.y);const D=this.ctx.createLinearGradient(0,0,A,0);D.addColorStop(0,"rgba(0, 0, 0, 0)"),D.addColorStop(.4,"rgba(0, 0, 0, 0.2)"),D.addColorStop(.49,"rgba(0, 0, 0, 0.1)"),D.addColorStop(.5,"rgba(0, 0, 0, 0.5)"),D.addColorStop(.51,"rgba(0, 0, 0, 0.4)"),D.addColorStop(1,"rgba(0, 0, 0, 0)"),this.ctx.clip(),this.ctx.fillStyle=D,this.ctx.fillRect(0,0,A,2*v.height),this.ctx.restore()}drawOuterShadow(){const v=this.getRect();this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(v.left,v.top,v.width,v.height);const A=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y});this.ctx.translate(A.x,A.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const _=this.ctx.createLinearGradient(0,0,this.shadow.width,0);this.shadow.direction===0?(this.ctx.translate(0,-100),_.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),_.addColorStop(1,"rgba(0, 0, 0, 0)")):(this.ctx.translate(-this.shadow.width,-100),_.addColorStop(0,"rgba(0, 0, 0, 0)"),_.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")")),this.ctx.clip(),this.ctx.fillStyle=_,this.ctx.fillRect(0,0,this.shadow.width,2*v.height),this.ctx.restore()}drawInnerShadow(){const v=this.getRect();this.ctx.save(),this.ctx.beginPath();const A=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),_=this.convertRectToGlobal(this.pageRect);this.ctx.moveTo(_.topLeft.x,_.topLeft.y),this.ctx.lineTo(_.topRight.x,_.topRight.y),this.ctx.lineTo(_.bottomRight.x,_.bottomRight.y),this.ctx.lineTo(_.bottomLeft.x,_.bottomLeft.y),this.ctx.translate(A.x,A.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const D=3*this.shadow.width/4,P=this.ctx.createLinearGradient(0,0,D,0);this.shadow.direction===0?(this.ctx.translate(-D,-100),P.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")"),P.addColorStop(.9,"rgba(0, 0, 0, 0.05)"),P.addColorStop(.7,"rgba(0, 0, 0, "+this.shadow.opacity+")"),P.addColorStop(0,"rgba(0, 0, 0, 0)")):(this.ctx.translate(0,-100),P.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),P.addColorStop(.1,"rgba(0, 0, 0, 0.05)"),P.addColorStop(.3,"rgba(0, 0, 0, "+this.shadow.opacity+")"),P.addColorStop(1,"rgba(0, 0, 0, 0)")),this.ctx.clip(),this.ctx.fillStyle=P,this.ctx.fillRect(0,0,D,2*v.height),this.ctx.restore()}clear(){this.ctx.fillStyle="white",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)}}class w{constructor(v,A,_){this.touchPoint=null,this.swipeTimeout=250,this.onResize=()=>{this.update()},this.onMouseDown=P=>{if(this.checkTarget(P.target)){const L=this.getMousePos(P.clientX,P.clientY);this.app.startUserTouch(L),P.preventDefault()}},this.onTouchStart=P=>{if(this.checkTarget(P.target)&&P.changedTouches.length>0){const L=P.changedTouches[0],q=this.getMousePos(L.clientX,L.clientY);this.touchPoint={point:q,time:Date.now()},setTimeout(()=>{this.touchPoint!==null&&this.app.startUserTouch(q)},this.swipeTimeout),this.app.getSettings().mobileScrollSupport||P.preventDefault()}},this.onMouseUp=P=>{const L=this.getMousePos(P.clientX,P.clientY);this.app.userStop(L)},this.onMouseMove=P=>{const L=this.getMousePos(P.clientX,P.clientY);this.app.userMove(L,!1)},this.onTouchMove=P=>{if(P.changedTouches.length>0){const L=P.changedTouches[0],q=this.getMousePos(L.clientX,L.clientY);this.app.getSettings().mobileScrollSupport?(this.touchPoint!==null&&(Math.abs(this.touchPoint.point.x-q.x)>10||this.app.getState()!=="read")&&P.cancelable&&this.app.userMove(q,!0),this.app.getState()!=="read"&&P.preventDefault()):this.app.userMove(q,!0)}},this.onTouchEnd=P=>{if(P.changedTouches.length>0){const L=P.changedTouches[0],q=this.getMousePos(L.clientX,L.clientY);let X=!1;if(this.touchPoint!==null){const tt=q.x-this.touchPoint.point.x,at=Math.abs(q.y-this.touchPoint.point.y);Math.abs(tt)>this.swipeDistance&&at<2*this.swipeDistance&&Date.now()-this.touchPoint.time<this.swipeTimeout&&(tt>0?this.app.flipPrev(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"):this.app.flipNext(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"),X=!0),this.touchPoint=null}this.app.userStop(q,X)}},this.parentElement=v,v.classList.add("stf__parent"),v.insertAdjacentHTML("afterbegin",'<div class="stf__wrapper"></div>'),this.wrapper=v.querySelector(".stf__wrapper"),this.app=A;const D=this.app.getSettings().usePortrait?1:2;v.style.minWidth=_.minWidth*D+"px",v.style.minHeight=_.minHeight+"px",_.size==="fixed"&&(v.style.minWidth=_.width*D+"px",v.style.minHeight=_.height+"px"),_.autoSize&&(v.style.width="100%",v.style.maxWidth=2*_.maxWidth+"px"),v.style.display="block",window.addEventListener("resize",this.onResize,!1),this.swipeDistance=_.swipeDistance}destroy(){this.app.getSettings().useMouseEvents&&this.removeHandlers(),this.distElement.remove(),this.wrapper.remove()}getDistElement(){return this.distElement}getWrapper(){return this.wrapper}setOrientationStyle(v){this.wrapper.classList.remove("--portrait","--landscape"),v==="portrait"?(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/this.app.getSettings().width*100+"%"),this.wrapper.classList.add("--portrait")):(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/(2*this.app.getSettings().width)*100+"%"),this.wrapper.classList.add("--landscape")),this.update()}removeHandlers(){window.removeEventListener("resize",this.onResize),this.distElement.removeEventListener("mousedown",this.onMouseDown),this.distElement.removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("touchend",this.onTouchEnd)}setHandlers(){window.addEventListener("resize",this.onResize,!1),this.app.getSettings().useMouseEvents&&(this.distElement.addEventListener("mousedown",this.onMouseDown),this.distElement.addEventListener("touchstart",this.onTouchStart),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!this.app.getSettings().mobileScrollSupport}),window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("touchend",this.onTouchEnd))}getMousePos(v,A){const _=this.distElement.getBoundingClientRect();return{x:v-_.left,y:A-_.top}}checkTarget(v){return!this.app.getSettings().clickEventForward||!["a","button"].includes(v.tagName.toLowerCase())}}class T extends w{constructor(v,A,_,D){super(v,A,_),this.wrapper.insertAdjacentHTML("afterbegin",'<div class="stf__block"></div>'),this.distElement=v.querySelector(".stf__block"),this.items=D;for(const P of D)this.distElement.appendChild(P);this.setHandlers()}clear(){for(const v of this.items)this.parentElement.appendChild(v)}updateItems(v){this.removeHandlers(),this.distElement.innerHTML="";for(const A of v)this.distElement.appendChild(A);this.items=v,this.setHandlers()}update(){this.app.getRender().update()}}class R extends w{constructor(v,A,_){super(v,A,_),this.wrapper.innerHTML='<canvas class="stf__canvas"></canvas>',this.canvas=v.querySelectorAll("canvas")[0],this.distElement=this.canvas,this.resizeCanvas(),this.setHandlers()}resizeCanvas(){const v=getComputedStyle(this.canvas),A=parseInt(v.getPropertyValue("width"),10),_=parseInt(v.getPropertyValue("height"),10);this.canvas.width=A,this.canvas.height=_}getCanvas(){return this.canvas}update(){this.resizeCanvas(),this.app.getRender().update()}}class M extends b{constructor(v,A,_){super(v,A),this.outerShadow=null,this.innerShadow=null,this.hardShadow=null,this.hardInnerShadow=null,this.element=_,this.createShadows()}createShadows(){this.element.insertAdjacentHTML("beforeend",`<div class="stf__outerShadow"></div>
             <div class="stf__innerShadow"></div>
             <div class="stf__hardShadow"></div>
             <div class="stf__hardInnerShadow"></div>`),this.outerShadow=this.element.querySelector(".stf__outerShadow"),this.innerShadow=this.element.querySelector(".stf__innerShadow"),this.hardShadow=this.element.querySelector(".stf__hardShadow"),this.hardInnerShadow=this.element.querySelector(".stf__hardInnerShadow")}clearShadow(){super.clearShadow(),this.outerShadow.style.cssText="display: none",this.innerShadow.style.cssText="display: none",this.hardShadow.style.cssText="display: none",this.hardInnerShadow.style.cssText="display: none"}reload(){this.element.querySelector(".stf__outerShadow")||this.createShadows()}drawHardInnerShadow(){const v=this.getRect(),A=this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress;let _=(100-A)*(2.5*v.pageWidth)/100+20;_>v.pageWidth&&(_=v.pageWidth);let D=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+5).toString(10)};
            width: ${_}px;
            height: ${v.height}px;
            background: linear-gradient(to right,
                rgba(0, 0, 0, ${this.shadow.opacity*A/100}) 5%,
                rgba(0, 0, 0, 0) 100%);
            left: ${v.left+v.width/2}px;
            transform-origin: 0 0;
        `;D+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0);":"transform: translate3d(0, 0, 0) rotateY(180deg);",this.hardInnerShadow.style.cssText=D}drawHardOuterShadow(){const v=this.getRect();let A=(100-(this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress))*(2.5*v.pageWidth)/100+20;A>v.pageWidth&&(A=v.pageWidth);let _=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+4).toString(10)};
            width: ${A}px;
            height: ${v.height}px;
            background: linear-gradient(to left, rgba(0, 0, 0, ${this.shadow.opacity}) 5%, rgba(0, 0, 0, 0) 100%);
            left: ${v.left+v.width/2}px;
            transform-origin: 0 0;
        `;_+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0) rotateY(180deg);":"transform: translate3d(0, 0, 0);",this.hardShadow.style.cssText=_}drawInnerShadow(){const v=this.getRect(),A=3*this.shadow.width/4,_=this.getDirection()===0?A:0,D=this.getDirection()===0?"to left":"to right",P=this.convertToGlobal(this.shadow.pos),L=this.shadow.angle+3*Math.PI/2,q=[this.pageRect.topLeft,this.pageRect.topRight,this.pageRect.bottomRight,this.pageRect.bottomLeft];let X="polygon( ";for(const at of q){let it=this.getDirection()===1?{x:-at.x+this.shadow.pos.x,y:at.y-this.shadow.pos.y}:{x:at.x-this.shadow.pos.x,y:at.y-this.shadow.pos.y};it=h.GetRotatedPoint(it,{x:_,y:100},L),X+=it.x+"px "+it.y+"px, "}X=X.slice(0,-2),X+=")";const tt=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${A}px;
            height: ${2*v.height}px;
            background: linear-gradient(${D},
                rgba(0, 0, 0, ${this.shadow.opacity}) 5%,
                rgba(0, 0, 0, 0.05) 15%,
                rgba(0, 0, 0, ${this.shadow.opacity}) 35%,
                rgba(0, 0, 0, 0) 100%);
            transform-origin: ${_}px 100px;
            transform: translate3d(${P.x-_}px, ${P.y-100}px, 0) rotate(${L}rad);
            clip-path: ${X};
            -webkit-clip-path: ${X};
        `;this.innerShadow.style.cssText=tt}drawOuterShadow(){const v=this.getRect(),A=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),_=this.shadow.angle+3*Math.PI/2,D=this.getDirection()===1?this.shadow.width:0,P=this.getDirection()===0?"to right":"to left",L=[{x:0,y:0},{x:v.pageWidth,y:0},{x:v.pageWidth,y:v.height},{x:0,y:v.height}];let q="polygon( ";for(const tt of L)if(tt!==null){let at=this.getDirection()===1?{x:-tt.x+this.shadow.pos.x,y:tt.y-this.shadow.pos.y}:{x:tt.x-this.shadow.pos.x,y:tt.y-this.shadow.pos.y};at=h.GetRotatedPoint(at,{x:D,y:100},_),q+=at.x+"px "+at.y+"px, "}q=q.slice(0,-2),q+=")";const X=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${this.shadow.width}px;
            height: ${2*v.height}px;
            background: linear-gradient(${P}, rgba(0, 0, 0, ${this.shadow.opacity}), rgba(0, 0, 0, 0));
            transform-origin: ${D}px 100px;
            transform: translate3d(${A.x-D}px, ${A.y-100}px, 0) rotate(${_}rad);
            clip-path: ${q};
            -webkit-clip-path: ${q};
        `;this.outerShadow.style.cssText=X}drawLeftPage(){this.orientation!=="portrait"&&this.leftPage!==null&&(this.direction===1&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.leftPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.leftPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.leftPage.draw(this.flippingPage.getDrawingDensity())):this.leftPage.simpleDraw(0))}drawRightPage(){this.rightPage!==null&&(this.direction===0&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.rightPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.rightPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.rightPage.draw(this.flippingPage.getDrawingDensity())):this.rightPage.simpleDraw(1))}drawBottomPage(){if(this.bottomPage===null)return;const v=this.flippingPage!=null?this.flippingPage.getDrawingDensity():null;this.orientation==="portrait"&&this.direction===1||(this.bottomPage.getElement().style.zIndex=(this.getSettings().startZIndex+3).toString(10),this.bottomPage.draw(v))}drawFrame(){this.clear(),this.drawLeftPage(),this.drawRightPage(),this.drawBottomPage(),this.flippingPage!=null&&(this.flippingPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.flippingPage.draw()),this.shadow!=null&&this.flippingPage!==null&&(this.flippingPage.getDrawingDensity()==="soft"?(this.drawOuterShadow(),this.drawInnerShadow()):(this.drawHardOuterShadow(),this.drawHardInnerShadow()))}clear(){for(const v of this.app.getPageCollection().getPages())v!==this.leftPage&&v!==this.rightPage&&v!==this.flippingPage&&v!==this.bottomPage&&(v.getElement().style.cssText="display: none"),v.getTemporaryCopy()!==this.flippingPage&&v.hideTemporaryCopy()}update(){super.update(),this.rightPage!==null&&this.rightPage.setOrientation(1),this.leftPage!==null&&this.leftPage.setOrientation(0)}}class N{constructor(){this._default={startPage:0,size:"fixed",width:0,height:0,minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,drawShadow:!0,flippingTime:1e3,usePortrait:!0,startZIndex:0,autoSize:!0,maxShadowOpacity:1,showCover:!1,mobileScrollSupport:!0,swipeDistance:30,clickEventForward:!0,useMouseEvents:!0,showPageCorners:!0,disableFlipByClick:!1}}getSettings(v){const A=this._default;if(Object.assign(A,v),A.size!=="stretch"&&A.size!=="fixed")throw new Error('Invalid size type. Available only "fixed" and "stretch" value');if(A.width<=0||A.height<=0)throw new Error("Invalid width or height");if(A.flippingTime<=0)throw new Error("Invalid flipping time");return A.size==="stretch"?(A.minWidth<=0&&(A.minWidth=100),A.maxWidth<A.minWidth&&(A.maxWidth=2e3),A.minHeight<=0&&(A.minHeight=100),A.maxHeight<A.minHeight&&(A.maxHeight=2e3)):(A.minWidth=A.width,A.maxWidth=A.width,A.minHeight=A.height,A.maxHeight=A.height),A}}(function(C,v){v===void 0&&(v={});var A=v.insertAt;if(typeof document<"u"){var _=document.head||document.getElementsByTagName("head")[0],D=document.createElement("style");D.type="text/css",A==="top"&&_.firstChild?_.insertBefore(D,_.firstChild):_.appendChild(D),D.styleSheet?D.styleSheet.cssText=C:D.appendChild(document.createTextNode(C))}})(`.stf__parent {
  position: relative;
  display: block;
  box-sizing: border-box;
  transform: translateZ(0);

  -ms-touch-action: pan-y;
  touch-action: pan-y;
}

.sft__wrapper {
  position: relative;
  width: 100%;
  box-sizing: border-box;
}

.stf__parent canvas {
  position: absolute;
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
}

.stf__block {
  position: absolute;
  width: 100%;
  height: 100%;
  box-sizing: border-box;
  perspective: 2000px;
}

.stf__item {
  display: none;
  position: absolute;
  transform-style: preserve-3d;
}

.stf__outerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__innerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardInnerShadow {
  position: absolute;
  left: 0;
  top: 0;
}`),e.PageFlip=class extends class{constructor(){this.events=new Map}on(C,v){return this.events.has(C)?this.events.get(C).push(v):this.events.set(C,[v]),this}off(C){this.events.delete(C)}trigger(C,v,A=null){if(this.events.has(C))for(const _ of this.events.get(C))_({data:A,object:v})}}{constructor(C,v){super(),this.isUserTouch=!1,this.isUserMove=!1,this.setting=null,this.pages=null,this.setting=new N().getSettings(v),this.block=C}destroy(){this.ui.destroy(),this.block.remove()}update(){this.render.update(),this.pages.show()}loadFromImages(C){this.ui=new R(this.block,this,this.setting);const v=this.ui.getCanvas();this.render=new S(this,this.setting,v),this.flipController=new y(this.render,this),this.pages=new c(this,this.render,C),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}loadFromHTML(C){this.ui=new T(this.block,this,this.setting,C),this.render=new M(this,this.setting,this.ui.getDistElement()),this.flipController=new y(this.render,this),this.pages=new f(this,this.render,this.ui.getDistElement(),C),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}updateFromImages(C){const v=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new c(this,this.render,C),this.pages.load(),this.pages.show(v),this.trigger("update",this,{page:v,mode:this.render.getOrientation()})}updateFromHtml(C){const v=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new f(this,this.render,this.ui.getDistElement(),C),this.pages.load(),this.ui.updateItems(C),this.render.reload(),this.pages.show(v),this.trigger("update",this,{page:v,mode:this.render.getOrientation()})}clear(){this.pages.destroy(),this.ui.clear()}turnToPrevPage(){this.pages.showPrev()}turnToNextPage(){this.pages.showNext()}turnToPage(C){this.pages.show(C)}flipNext(C="top"){this.flipController.flipNext(C)}flipPrev(C="top"){this.flipController.flipPrev(C)}flip(C,v="top"){this.flipController.flipToPage(C,v)}updateState(C){this.trigger("changeState",this,C)}updatePageIndex(C){this.trigger("flip",this,C)}updateOrientation(C){this.ui.setOrientationStyle(C),this.update(),this.trigger("changeOrientation",this,C)}getPageCount(){return this.pages.getPageCount()}getCurrentPageIndex(){return this.pages.getCurrentPageIndex()}getPage(C){return this.pages.getPage(C)}getRender(){return this.render}getFlipController(){return this.flipController}getOrientation(){return this.render.getOrientation()}getBoundsRect(){return this.render.getRect()}getSettings(){return this.setting}getUI(){return this.ui}getState(){return this.flipController.getState()}getPageCollection(){return this.pages}startUserTouch(C){this.mousePosition=C,this.isUserTouch=!0,this.isUserMove=!1}userMove(C,v){this.isUserTouch||v||!this.setting.showPageCorners?this.isUserTouch&&h.GetDistanceBetweenTwoPoint(this.mousePosition,C)>5&&(this.isUserMove=!0,this.flipController.fold(C)):this.flipController.showCorner(C)}userStop(C,v=!1){this.isUserTouch&&(this.isUserTouch=!1,v||(this.isUserMove?this.flipController.stopMove():this.flipController.flip(C)))}},Object.defineProperty(e,"__esModule",{value:!0})}))})(Pr,Pr.exports)),Pr.exports}var aC=nC();const rC=Ps.forwardRef((r,t)=>{const e=Q.useRef(null),s=Q.useRef([]),a=Q.useRef(),[l,c]=Q.useState([]);Q.useImperativeHandle(t,()=>({pageFlip:()=>a.current}));const h=Q.useCallback(()=>{a.current&&a.current.clear()},[]),d=Q.useCallback(()=>{const f=a.current;f&&(f.off("flip"),f.off("changeOrientation"),f.off("changeState"),f.off("init"),f.off("update"))},[]);return Q.useEffect(()=>{if(s.current=[],r.children){const f=Ps.Children.map(r.children,g=>Ps.cloneElement(g,{ref:y=>{y&&s.current.push(y)}}));(!r.renderOnlyPageLengthChange||l.length!==f.length)&&(f.length<l.length&&h(),c(f))}},[r.children]),Q.useEffect(()=>{const f=()=>{const g=a.current;g&&(r.onFlip&&g.on("flip",y=>r.onFlip(y)),r.onChangeOrientation&&g.on("changeOrientation",y=>r.onChangeOrientation(y)),r.onChangeState&&g.on("changeState",y=>r.onChangeState(y)),r.onInit&&g.on("init",y=>r.onInit(y)),r.onUpdate&&g.on("update",y=>r.onUpdate(y)))};l.length>0&&s.current.length>0&&(d(),e.current&&!a.current&&(a.current=new aC.PageFlip(e.current,r)),a.current.getFlipController()?a.current.updateFromHtml(s.current):a.current.loadFromHTML(s.current),f())},[l]),Ps.createElement("div",{ref:e,className:r.className,style:r.style},l)}),oC=Ps.memo(rC),De=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),md=[.001,0,0,.001,0,0],Hh=1.35,Ze={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Rs={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Xv="pdfjs_internal_editor_",bt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101,COMMENT:102},Mt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},lC={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Ee={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},jl={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},ae={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},na={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},tc={ERRORS:0,WARNINGS:1,INFOS:5},Xl={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},El={moveTo:0,lineTo:1,curveTo:2,closePath:3},cC={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let ec=tc.WARNINGS;function uC(r){Number.isInteger(r)&&(ec=r)}function hC(){return ec}function ic(r){ec>=tc.INFOS&&console.log(`Info: ${r}`)}function vt(r){ec>=tc.WARNINGS&&console.log(`Warning: ${r}`)}function jt(r){throw new Error(r)}function le(r,t){r||jt(t)}function dC(r){switch(r?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Yv(r,t=null,e=null){if(!r)return null;if(e&&typeof r=="string"&&(e.addDefaultProtocol&&r.startsWith("www.")&&r.match(/\./g)?.length>=2&&(r=`http://${r}`),e.tryConvertEncoding))try{r=yC(r)}catch{}const s=t?URL.parse(r,t):URL.parse(r);return dC(s)?s:null}function $v(r,t,e=!1){const s=URL.parse(r);return s?(s.hash=t,s.href):e&&Yv(r,"http://example.com")?r.split("#",1)[0]+`${t?`#${t}`:""}`:""}function Tt(r,t,e,s=!1){return Object.defineProperty(r,t,{value:e,enumerable:!s,configurable:!0,writable:!1}),e}const mn=(function(){function t(e,s){this.message=e,this.name=s}return t.prototype=new Error,t.constructor=t,t})();class G0 extends mn{constructor(t,e){super(t,"PasswordException"),this.code=e}}class Vh extends mn{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class yd extends mn{constructor(t){super(t,"InvalidPDFException")}}class Yl extends mn{constructor(t,e,s){super(t,"ResponseException"),this.status=e,this.missing=s}}class fC extends mn{constructor(t){super(t,"FormatError")}}class Os extends mn{constructor(t){super(t,"AbortException")}}function Wv(r){(typeof r!="object"||r?.length===void 0)&&jt("Invalid argument for bytesToString");const t=r.length,e=8192;if(t<e)return String.fromCharCode.apply(null,r);const s=[];for(let a=0;a<t;a+=e){const l=Math.min(a+e,t),c=r.subarray(a,l);s.push(String.fromCharCode.apply(null,c))}return s.join("")}function to(r){typeof r!="string"&&jt("Invalid argument for stringToBytes");const t=r.length,e=new Uint8Array(t);for(let s=0;s<t;++s)e[s]=r.charCodeAt(s)&255;return e}function pC(r){return String.fromCharCode(r>>24&255,r>>16&255,r>>8&255,r&255)}function gC(){const r=new Uint8Array(4);return r[0]=1,new Uint32Array(r.buffer,0,1)[0]===1}function mC(){try{return new Function(""),!0}catch{return!1}}class xe{static get isLittleEndian(){return Tt(this,"isLittleEndian",gC())}static get isEvalSupported(){return Tt(this,"isEvalSupported",mC())}static get isOffscreenCanvasSupported(){return Tt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Tt(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:t,userAgent:e}=navigator;return Tt(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}static get isCSSRoundSupported(){return Tt(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const Uh=Array.from(Array(256).keys(),r=>r.toString(16).padStart(2,"0"));class lt{static makeHexColor(t,e,s){return`#${Uh[t]}${Uh[e]}${Uh[s]}`}static scaleMinMax(t,e){let s;t[0]?(t[0]<0&&(s=e[0],e[0]=e[2],e[2]=s),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(s=e[1],e[1]=e[3],e[3]=s),e[1]*=t[3],e[3]*=t[3]):(s=e[0],e[0]=e[1],e[1]=s,s=e[2],e[2]=e[3],e[3]=s,t[1]<0&&(s=e[1],e[1]=e[3],e[3]=s),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(s=e[0],e[0]=e[2],e[2]=s),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e,s=0){const a=t[s],l=t[s+1];t[s]=a*e[0]+l*e[2]+e[4],t[s+1]=a*e[1]+l*e[3]+e[5]}static applyTransformToBezier(t,e,s=0){const a=e[0],l=e[1],c=e[2],h=e[3],d=e[4],f=e[5];for(let g=0;g<6;g+=2){const y=t[s+g],b=t[s+g+1];t[s+g]=y*a+b*c+d,t[s+g+1]=y*l+b*h+f}}static applyInverseTransform(t,e){const s=t[0],a=t[1],l=e[0]*e[3]-e[1]*e[2];t[0]=(s*e[3]-a*e[2]+e[2]*e[5]-e[4]*e[3])/l,t[1]=(-s*e[1]+a*e[0]+e[4]*e[1]-e[5]*e[0])/l}static axialAlignedBoundingBox(t,e,s){const a=e[0],l=e[1],c=e[2],h=e[3],d=e[4],f=e[5],g=t[0],y=t[1],b=t[2],S=t[3];let w=a*g+d,T=w,R=a*b+d,M=R,N=h*y+f,C=N,v=h*S+f,A=v;if(l!==0||c!==0){const _=l*g,D=l*b,P=c*y,L=c*S;w+=P,M+=P,R+=L,T+=L,N+=_,A+=_,v+=D,C+=D}s[0]=Math.min(s[0],w,R,T,M),s[1]=Math.min(s[1],N,v,C,A),s[2]=Math.max(s[2],w,R,T,M),s[3]=Math.max(s[3],N,v,C,A)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const s=t[0],a=t[1],l=t[2],c=t[3],h=s**2+a**2,d=s*l+a*c,f=l**2+c**2,g=(h+f)/2,y=Math.sqrt(g**2-(h*f-d**2));e[0]=Math.sqrt(g+y||1),e[1]=Math.sqrt(g-y||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const s=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),a=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(s>a)return null;const l=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),c=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return l>c?null:[s,l,a,c]}static pointBoundingBox(t,e,s){s[0]=Math.min(s[0],t),s[1]=Math.min(s[1],e),s[2]=Math.max(s[2],t),s[3]=Math.max(s[3],e)}static rectBoundingBox(t,e,s,a,l){l[0]=Math.min(l[0],t,s),l[1]=Math.min(l[1],e,a),l[2]=Math.max(l[2],t,s),l[3]=Math.max(l[3],e,a)}static#t(t,e,s,a,l,c,h,d,f,g){if(f<=0||f>=1)return;const y=1-f,b=f*f,S=b*f,w=y*(y*(y*t+3*f*e)+3*b*s)+S*a,T=y*(y*(y*l+3*f*c)+3*b*h)+S*d;g[0]=Math.min(g[0],w),g[1]=Math.min(g[1],T),g[2]=Math.max(g[2],w),g[3]=Math.max(g[3],T)}static#e(t,e,s,a,l,c,h,d,f,g,y,b){if(Math.abs(f)<1e-12){Math.abs(g)>=1e-12&&this.#t(t,e,s,a,l,c,h,d,-y/g,b);return}const S=g**2-4*y*f;if(S<0)return;const w=Math.sqrt(S),T=2*f;this.#t(t,e,s,a,l,c,h,d,(-g+w)/T,b),this.#t(t,e,s,a,l,c,h,d,(-g-w)/T,b)}static bezierBoundingBox(t,e,s,a,l,c,h,d,f){f[0]=Math.min(f[0],t,h),f[1]=Math.min(f[1],e,d),f[2]=Math.max(f[2],t,h),f[3]=Math.max(f[3],e,d),this.#e(t,s,l,h,e,a,c,d,3*(-t+3*(s-l)+h),6*(t-2*s+l),3*(s-t),f),this.#e(t,s,l,h,e,a,c,d,3*(-e+3*(a-c)+d),6*(e-2*a+c),3*(a-e),f)}}function yC(r){return decodeURIComponent(escape(r))}let Gh=null,q0=null;function bC(r){return Gh||(Gh=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,q0=new Map([["","t"]])),r.replaceAll(Gh,(t,e,s)=>e?e.normalize("NFKC"):q0.get(s))}function Kv(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const r=new Uint8Array(32);return crypto.getRandomValues(r),Wv(r)}const cf="pdfjs_internal_id_";function vC(r,t,e){if(!Array.isArray(e)||e.length<2)return!1;const[s,a,...l]=e;if(!r(s)&&!Number.isInteger(s)||!t(a))return!1;const c=l.length;let h=!0;switch(a.name){case"XYZ":if(c<2||c>3)return!1;break;case"Fit":case"FitB":return c===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(c>1)return!1;break;case"FitR":if(c!==4)return!1;h=!1;break;default:return!1}for(const d of l)if(!(typeof d=="number"||h&&d===null))return!1;return!0}function Pe(r,t,e){return Math.min(Math.max(r,t),e)}function Qv(r){return Uint8Array.prototype.toBase64?r.toBase64():btoa(Wv(r))}function AC(r){return Uint8Array.fromBase64?Uint8Array.fromBase64(r):to(atob(r))}typeof Promise.try!="function"&&(Promise.try=function(r,...t){return new Promise(e=>{e(r(...t))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(r){return r.reduce((t,e)=>t+e,0)});const Zi="http://www.w3.org/2000/svg";class Aa{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function eo(r,t="text"){if(Lr(r,document.baseURI)){const e=await fetch(r);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,s)=>{const a=new XMLHttpRequest;a.open("GET",r,!0),a.responseType=t,a.onreadystatechange=()=>{if(a.readyState===XMLHttpRequest.DONE){if(a.status===200||a.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(a.response);return}e(a.responseText);return}s(new Error(a.statusText))}},a.send(null)})}class io{constructor({viewBox:t,userUnit:e,scale:s,rotation:a,offsetX:l=0,offsetY:c=0,dontFlip:h=!1}){this.viewBox=t,this.userUnit=e,this.scale=s,this.rotation=a,this.offsetX=l,this.offsetY=c,s*=e;const d=(t[2]+t[0])/2,f=(t[3]+t[1])/2;let g,y,b,S;switch(a%=360,a<0&&(a+=360),a){case 180:g=-1,y=0,b=0,S=1;break;case 90:g=0,y=1,b=1,S=0;break;case 270:g=0,y=-1,b=-1,S=0;break;case 0:g=1,y=0,b=0,S=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}h&&(b=-b,S=-S);let w,T,R,M;g===0?(w=Math.abs(f-t[1])*s+l,T=Math.abs(d-t[0])*s+c,R=(t[3]-t[1])*s,M=(t[2]-t[0])*s):(w=Math.abs(d-t[0])*s+l,T=Math.abs(f-t[1])*s+c,R=(t[2]-t[0])*s,M=(t[3]-t[1])*s),this.transform=[g*s,y*s,b*s,S*s,w-g*s*d-b*s*f,T-y*s*d-S*s*f],this.width=R,this.height=M}get rawDims(){const t=this.viewBox;return Tt(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:s=this.offsetX,offsetY:a=this.offsetY,dontFlip:l=!1}={}){return new io({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:s,offsetY:a,dontFlip:l})}convertToViewportPoint(t,e){const s=[t,e];return lt.applyTransform(s,this.transform),s}convertToViewportRectangle(t){const e=[t[0],t[1]];lt.applyTransform(e,this.transform);const s=[t[2],t[3]];return lt.applyTransform(s,this.transform),[e[0],e[1],s[0],s[1]]}convertToPdfPoint(t,e){const s=[t,e];return lt.applyInverseTransform(s,this.transform),s}}class uf extends mn{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function sc(r){const t=r.length;let e=0;for(;e<t&&r[e].trim()==="";)e++;return r.substring(e,e+5).toLowerCase()==="data:"}function hf(r){return typeof r=="string"&&/\.pdf$/i.test(r)}function SC(r){return[r]=r.split(/[#?]/,1),r.substring(r.lastIndexOf("/")+1)}function xC(r,t="document.pdf"){if(typeof r!="string")return t;if(sc(r))return vt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const s=(h=>{try{return new URL(h)}catch{try{return new URL(decodeURIComponent(h))}catch{try{return new URL(h,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(h),"https://foo.bar")}catch{return null}}}}})(r);if(!s)return t;const a=h=>{try{let d=decodeURIComponent(h);return d.includes("/")?(d=d.split("/").at(-1),d.test(/^\.pdf$/i)?d:h):d}catch{return h}},l=/\.pdf$/i,c=s.pathname.split("/").at(-1);if(l.test(c))return a(c);if(s.searchParams.size>0){const h=Array.from(s.searchParams.values()).reverse();for(const f of h)if(l.test(f))return a(f);const d=Array.from(s.searchParams.keys()).reverse();for(const f of d)if(l.test(f))return a(f)}if(s.hash){const d=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(s.hash);if(d)return a(d[0])}return t}class X0{started=Object.create(null);times=[];time(t){t in this.started&&vt(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||vt(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:s}of this.times)e=Math.max(s.length,e);for(const{name:s,start:a,end:l}of this.times)t.push(`${s.padEnd(e)} ${l-a}ms
`);return t.join("")}}function Lr(r,t){const e=t?URL.parse(r,t):URL.parse(r);return e?.protocol==="http:"||e?.protocol==="https:"}function pi(r){r.preventDefault()}function oe(r){r.preventDefault(),r.stopPropagation()}function wC(r){console.log("Deprecated API usage: "+r)}class bd{static#t;static toDateObject(t){if(t instanceof Date)return t;if(!t||typeof t!="string")return null;this.#t||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const e=this.#t.exec(t);if(!e)return null;const s=parseInt(e[1],10);let a=parseInt(e[2],10);a=a>=1&&a<=12?a-1:0;let l=parseInt(e[3],10);l=l>=1&&l<=31?l:1;let c=parseInt(e[4],10);c=c>=0&&c<=23?c:0;let h=parseInt(e[5],10);h=h>=0&&h<=59?h:0;let d=parseInt(e[6],10);d=d>=0&&d<=59?d:0;const f=e[7]||"Z";let g=parseInt(e[8],10);g=g>=0&&g<=23?g:0;let y=parseInt(e[9],10)||0;return y=y>=0&&y<=59?y:0,f==="-"?(c+=g,h+=y):f==="+"&&(c-=g,h-=y),new Date(Date.UTC(s,a,l,c,h,d))}}function TC(r,{scale:t=1,rotation:e=0}){const{width:s,height:a}=r.attributes.style,l=[0,0,parseInt(s),parseInt(a)];return new io({viewBox:l,userUnit:1,scale:t,rotation:e})}function nc(r){if(r.startsWith("#")){const t=parseInt(r.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return r.startsWith("rgb(")?r.slice(4,-1).split(",").map(t=>parseInt(t)):r.startsWith("rgba(")?r.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(vt(`Not a valid color format: "${r}"`),[0,0,0])}function _C(r){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const e of r.keys()){t.style.color=e;const s=window.getComputedStyle(t).color;r.set(e,nc(s))}t.remove()}function Xt(r){const{a:t,b:e,c:s,d:a,e:l,f:c}=r.getTransform();return[t,e,s,a,l,c]}function Ri(r){const{a:t,b:e,c:s,d:a,e:l,f:c}=r.getTransform().invertSelf();return[t,e,s,a,l,c]}function pn(r,t,e=!1,s=!0){if(t instanceof io){const{pageWidth:a,pageHeight:l}=t.rawDims,{style:c}=r,h=xe.isCSSRoundSupported,d=`var(--total-scale-factor) * ${a}px`,f=`var(--total-scale-factor) * ${l}px`,g=h?`round(down, ${d}, var(--scale-round-x))`:`calc(${d})`,y=h?`round(down, ${f}, var(--scale-round-y))`:`calc(${f})`;!e||t.rotation%180===0?(c.width=g,c.height=y):(c.width=y,c.height=g)}s&&r.setAttribute("data-main-rotation",t.rotation)}class Ii{constructor(){const{pixelRatio:t}=Ii;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,s,a,l=-1){let c=1/0,h=1/0,d=1/0;s=Ii.capPixels(s,l),s>0&&(c=Math.sqrt(s/(t*e))),a!==-1&&(h=a/t,d=a/e);const f=Math.min(c,h,d);return this.sx>f||this.sy>f?(this.sx=f,this.sy=f,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,e){if(e>=0){const s=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+e/100));return t>0?Math.min(t,s):s}return t}}const vd=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class Fr{#t=null;#e=null;#i;#s=null;#a=null;#n=null;#r=null;static#o=null;constructor(t){this.#i=t,Fr.#o||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const t=this.#t=document.createElement("div");t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=this.#i._uiManager._signal;t.addEventListener("contextmenu",pi,{signal:e}),t.addEventListener("pointerdown",Fr.#u,{signal:e});const s=this.#s=document.createElement("div");s.className="buttons",t.append(s);const a=this.#i.toolbarPosition;if(a){const{style:l}=t,c=this.#i._uiManager.direction==="ltr"?1-a[0]:a[0];l.insetInlineEnd=`${100*c}%`,l.top=`calc(${100*a[1]}% + var(--editor-toolbar-vert-offset))`}return t}get div(){return this.#t}static#u(t){t.stopPropagation()}#c(t){this.#i._focusEventsAllowed=!1,oe(t)}#d(t){this.#i._focusEventsAllowed=!0,oe(t)}#l(t){const e=this.#i._uiManager._signal;t.addEventListener("focusin",this.#c.bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",this.#d.bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",pi,{signal:e})}hide(){this.#t.classList.add("hidden"),this.#e?.hideDropdown()}show(){this.#t.classList.remove("hidden"),this.#a?.shown(),this.#n?.shown()}addDeleteButton(){const{editorType:t,_uiManager:e}=this.#i,s=document.createElement("button");s.className="delete",s.tabIndex=0,s.setAttribute("data-l10n-id",Fr.#o[t]),this.#l(s),s.addEventListener("click",a=>{e.delete()},{signal:e._signal}),this.#s.append(s)}get#p(){const t=document.createElement("div");return t.className="divider",t}async addAltText(t){const e=await t.render();this.#l(e),this.#s.append(e,this.#p),this.#a=t}addComment(t){if(this.#n)return;const e=t.render();e&&(this.#l(e),this.#s.prepend(e,this.#p),this.#n=t,t.toolbar=this)}addColorPicker(t){if(this.#e)return;this.#e=t;const e=t.renderButton();this.#l(e),this.#s.append(e,this.#p)}async addEditSignatureButton(t){const e=this.#r=await t.renderEditButton(this.#i);this.#l(e),this.#s.append(e,this.#p)}async addButton(t,e){switch(t){case"colorPicker":this.addColorPicker(e);break;case"altText":await this.addAltText(e);break;case"editSignature":await this.addEditSignatureButton(e);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(e);break}}updateEditSignatureButton(t){this.#r&&(this.#r.title=t)}remove(){this.#t.remove(),this.#e?.destroy(),this.#e=null}}class EC{#t=null;#e=null;#i;constructor(t){this.#i=t}#s(){const t=this.#e=document.createElement("div");t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",pi,{signal:this.#i._signal});const e=this.#t=document.createElement("div");return e.className="buttons",t.append(e),this.#n(),t}#a(t,e){let s=0,a=0;for(const l of t){const c=l.y+l.height;if(c<s)continue;const h=l.x+(e?l.width:0);if(c>s){a=h,s=c;continue}e?h>a&&(a=h):h<a&&(a=h)}return[e?1-a:a,s]}show(t,e,s){const[a,l]=this.#a(e,s),{style:c}=this.#e||=this.#s();t.append(this.#e),c.insetInlineEnd=`${100*a}%`,c.top=`calc(${100*l}% + var(--editor-toolbar-vert-offset))`}hide(){this.#e.remove()}#n(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const s=this.#i._signal;t.addEventListener("contextmenu",pi,{signal:s}),t.addEventListener("click",()=>{this.#i.highlightSelection("floating_button")},{signal:s}),this.#t.append(t)}}function Zv(r,t,e){for(const s of e)t.addEventListener(s,r[s].bind(r))}class CC{#t=0;get id(){return`${Xv}${this.#t++}`}}class df{#t=Kv();#e=0;#i=null;static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',s=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),a=new Image;a.src=t;const l=a.decode().then(()=>(s.drawImage(a,0,0,1,1,0,0,1,3),new Uint32Array(s.getImageData(0,0,1,1).data.buffer)[0]===0));return Tt(this,"_isSVGFittingCanvas",l)}async#s(t,e){this.#i||=new Map;let s=this.#i.get(t);if(s===null)return null;if(s?.bitmap)return s.refCounter+=1,s;try{s||={bitmap:null,id:`image_${this.#t}_${this.#e++}`,refCounter:0,isSvg:!1};let a;if(typeof e=="string"?(s.url=e,a=await eo(e,"blob")):e instanceof File?a=s.file=e:e instanceof Blob&&(a=e),a.type==="image/svg+xml"){const l=df._isSVGFittingCanvas,c=new FileReader,h=new Image,d=new Promise((f,g)=>{h.onload=()=>{s.bitmap=h,s.isSvg=!0,f()},c.onload=async()=>{const y=s.svgUrl=c.result;h.src=await l?`${y}#svgView(preserveAspectRatio(none))`:y},h.onerror=c.onerror=g});c.readAsDataURL(a),await d}else s.bitmap=await createImageBitmap(a);s.refCounter=1}catch(a){vt(a),s=null}return this.#i.set(t,s),s&&this.#i.set(s.id,s),s}async getFromFile(t){const{lastModified:e,name:s,size:a,type:l}=t;return this.#s(`${e}_${s}_${a}_${l}`,t)}async getFromUrl(t){return this.#s(t,t)}async getFromBlob(t,e){const s=await e;return this.#s(t,s)}async getFromId(t){this.#i||=new Map;const e=this.#i.get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:s}=e;return delete e.blobPromise,this.getFromBlob(e.id,s)}return this.getFromUrl(e.url)}getFromCanvas(t,e){this.#i||=new Map;let s=this.#i.get(t);if(s?.bitmap)return s.refCounter+=1,s;const a=new OffscreenCanvas(e.width,e.height);return a.getContext("2d").drawImage(e,0,0),s={bitmap:a.transferToImageBitmap(),id:`image_${this.#t}_${this.#e++}`,refCounter:1,isSvg:!1},this.#i.set(t,s),this.#i.set(s.id,s),s}getSvgUrl(t){const e=this.#i.get(t);return e?.isSvg?e.svgUrl:null}deleteId(t){this.#i||=new Map;const e=this.#i.get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:s}=e;if(!e.url&&!e.file){const a=new OffscreenCanvas(s.width,s.height);a.getContext("bitmaprenderer").transferFromImageBitmap(s),e.blobPromise=a.convertToBlob()}s.close?.(),e.bitmap=null}isValidId(t){return t.startsWith(`image_${this.#t}_`)}}class MC{#t=[];#e=!1;#i;#s=-1;constructor(t=128){this.#i=t}add({cmd:t,undo:e,post:s,mustExec:a,type:l=NaN,overwriteIfSameType:c=!1,keepUndo:h=!1}){if(a&&t(),this.#e)return;const d={cmd:t,undo:e,post:s,type:l};if(this.#s===-1){this.#t.length>0&&(this.#t.length=0),this.#s=0,this.#t.push(d);return}if(c&&this.#t[this.#s].type===l){h&&(d.undo=this.#t[this.#s].undo),this.#t[this.#s]=d;return}const f=this.#s+1;f===this.#i?this.#t.splice(0,1):(this.#s=f,f<this.#t.length&&this.#t.splice(f)),this.#t.push(d)}undo(){if(this.#s===-1)return;this.#e=!0;const{undo:t,post:e}=this.#t[this.#s];t(),e?.(),this.#e=!1,this.#s-=1}redo(){if(this.#s<this.#t.length-1){this.#s+=1,this.#e=!0;const{cmd:t,post:e}=this.#t[this.#s];t(),e?.(),this.#e=!1}}hasSomethingToUndo(){return this.#s!==-1}hasSomethingToRedo(){return this.#s<this.#t.length-1}cleanType(t){if(this.#s!==-1){for(let e=this.#s;e>=0;e--)if(this.#t[e].type!==t){this.#t.splice(e+1,this.#s-e),this.#s=e;return}this.#t.length=0,this.#s=-1}}destroy(){this.#t=null}}class so{constructor(t){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=xe.platform;for(const[s,a,l={}]of t)for(const c of s){const h=c.startsWith("mac+");e&&h?(this.callbacks.set(c.slice(4),{callback:a,options:l}),this.allKeys.add(c.split("+").at(-1))):!e&&!h&&(this.callbacks.set(c,{callback:a,options:l}),this.allKeys.add(c.split("+").at(-1)))}}#t(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e}exec(t,e){if(!this.allKeys.has(e.key))return;const s=this.callbacks.get(this.#t(e));if(!s)return;const{callback:a,options:{bubbles:l=!1,args:c=[],checker:h=null}}=s;h&&!h(t,e)||(a.bind(t,...c,e)(),l||oe(e))}}class ff{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return _C(t),Tt(this,"_colors",t)}convert(t){const e=nc(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[s,a]of this._colors)if(a.every((l,c)=>l===e[c]))return ff._colorsMapping.get(s);return e}getHexCode(t){const e=this._colors.get(t);return e?lt.makeHexColor(...e):t}}class ks{#t=new AbortController;#e=null;#i=new Map;#s=new Map;#a=null;#n=null;#r=null;#o=new MC;#u=null;#c=null;#d=null;#l=0;#p=new Set;#m=null;#f=null;#h=new Set;_editorUndoBar=null;#g=!1;#v=!1;#y=!1;#S=null;#x=null;#b=null;#T=null;#R=!1;#w=null;#D=new CC;#M=!1;#C=!1;#E=null;#L=null;#B=null;#N=null;#H=null;#_=bt.NONE;#A=new Set;#j=null;#z=null;#V=null;#q=null;#X={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#U=[0,0];#O=null;#k=null;#G=null;#K=null;#I=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const t=ks.prototype,e=c=>c.#k.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&c.hasSomethingToControl(),s=(c,{target:h})=>{if(h instanceof HTMLInputElement){const{type:d}=h;return d!=="text"&&d!=="number"}return!0},a=this.TRANSLATE_SMALL,l=this.TRANSLATE_BIG;return Tt(this,"_keyboardManager",new so([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:s}],[["ctrl+z","mac+meta+z"],t.undo,{checker:s}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:s}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:s}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(c,{target:h})=>!(h instanceof HTMLButtonElement)&&c.#k.contains(h)&&!c.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(c,{target:h})=>!(h instanceof HTMLButtonElement)&&c.#k.contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-a,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-l,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[a,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[l,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-a],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-l],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,a],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,l],checker:e}]]))}constructor(t,e,s,a,l,c,h,d,f,g,y,b,S,w,T,R){const M=this._signal=this.#t.signal;this.#k=t,this.#G=e,this.#K=s,this.#a=a,this.#u=l,this.#z=c,this._eventBus=h,h._on("editingaction",this.onEditingAction.bind(this),{signal:M}),h._on("pagechanging",this.onPageChanging.bind(this),{signal:M}),h._on("scalechanging",this.onScaleChanging.bind(this),{signal:M}),h._on("rotationchanging",this.onRotationChanging.bind(this),{signal:M}),h._on("setpreference",this.onSetPreference.bind(this),{signal:M}),h._on("switchannotationeditorparams",N=>this.updateParams(N.type,N.value),{signal:M}),this.#at(),this.#ct(),this.#Z(),this.#n=d.annotationStorage,this.#S=d.filterFactory,this.#V=f,this.#T=g||null,this.#g=y,this.#v=b,this.#y=S,this.#H=w||null,this.viewParameters={realScale:Aa.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=T||null,this._supportsPinchToZoom=R!==!1}destroy(){this.#I?.resolve(),this.#I=null,this.#t?.abort(),this.#t=null,this._signal=null;for(const t of this.#s.values())t.destroy();this.#s.clear(),this.#i.clear(),this.#h.clear(),this.#N?.clear(),this.#e=null,this.#A.clear(),this.#o.destroy(),this.#a?.destroy(),this.#u?.destroy(),this.#z?.destroy(),this.#w?.hide(),this.#w=null,this.#B?.destroy(),this.#B=null,this.#x&&(clearTimeout(this.#x),this.#x=null),this.#O&&(clearTimeout(this.#O),this.#O=null),this._editorUndoBar?.destroy()}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return this.#H}get useNewAltTextFlow(){return this.#v}get useNewAltTextWhenAddingImage(){return this.#y}get hcmFilter(){return Tt(this,"hcmFilter",this.#V?this.#S.addHCMFilter(this.#V.foreground,this.#V.background):"none")}get direction(){return Tt(this,"direction",getComputedStyle(this.#k).direction)}get _highlightColors(){return Tt(this,"_highlightColors",this.#T?new Map(this.#T.split(",").map(t=>(t=t.split("=").map(e=>e.trim()),t[1]=t[1].toUpperCase(),t))):null)}get highlightColors(){const{_highlightColors:t}=this;if(!t)return Tt(this,"highlightColors",null);const e=new Map,s=!!this.#V;for(const[a,l]of t){const c=a.endsWith("_HCM");if(s&&c){e.set(a.replace("_HCM",""),l);continue}!s&&!c&&e.set(a,l)}return Tt(this,"highlightColors",e)}get highlightColorNames(){return Tt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}getNonHCMColor(t){if(!this._highlightColors)return t;const e=this.highlightColorNames.get(t);return this._highlightColors.get(e)||t}getNonHCMColorName(t){return this.highlightColorNames.get(t)||t}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#d=t}setMainHighlightColorPicker(t){this.#B=t}editAltText(t,e=!1){this.#a?.editAltText(this,t,e)}hasCommentManager(){return!!this.#u}editComment(t,e){this.#u?.open(this,t,e)}getSignature(t){this.#z?.getSignature({uiManager:this,editor:t})}get signatureManager(){return this.#z}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":this.#y=e;break}}onPageChanging({pageNumber:t}){this.#l=t-1}focusMainContainer(){this.#k.focus()}findParent(t,e){for(const s of this.#s.values()){const{x:a,y:l,width:c,height:h}=s.div.getBoundingClientRect();if(t>=a&&t<=a+c&&e>=l&&e<=l+h)return s}return null}disableUserSelect(t=!1){this.#G.classList.toggle("noUserSelect",t)}addShouldRescale(t){this.#h.add(t)}removeShouldRescale(t){this.#h.delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*Aa.PDF_TO_CSS_UNITS;for(const e of this.#h)e.onScaleChanging();this.#d?.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}#$({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t}#Q(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const s of this.#s.values())if(s.hasTextLayer(t))return s;return null}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:s,anchorOffset:a,focusNode:l,focusOffset:c}=e,h=e.toString(),f=this.#$(e).closest(".textLayer"),g=this.getSelectionBoxes(f);if(!g)return;e.empty();const y=this.#Q(f),b=this.#_===bt.NONE,S=()=>{y?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:g,anchorNode:s,anchorOffset:a,focusNode:l,focusOffset:c,text:h}),b&&this.showAllEditors("highlight",!0,!0)};if(b){this.switchToMode(bt.HIGHLIGHT,S);return}S()}#st(){const t=document.getSelection();if(!t||t.isCollapsed)return;const s=this.#$(t).closest(".textLayer"),a=this.getSelectionBoxes(s);a&&(this.#w||=new EC(this),this.#w.show(s,a,this.direction==="ltr"))}addToAnnotationStorage(t){!t.isEmpty()&&this.#n&&!this.#n.has(t.id)&&this.#n.setValue(t.id,t)}a11yAlert(t,e=null){const s=this.#K;s&&(s.setAttribute("data-l10n-id",t),e?s.setAttribute("data-l10n-args",JSON.stringify(e)):s.removeAttribute("data-l10n-args"))}#nt(){const t=document.getSelection();if(!t||t.isCollapsed){this.#j&&(this.#w?.hide(),this.#j=null,this.#P({hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===this.#j)return;const a=this.#$(t).closest(".textLayer");if(!a){this.#j&&(this.#w?.hide(),this.#j=null,this.#P({hasSelectedText:!1}));return}if(this.#w?.hide(),this.#j=e,this.#P({hasSelectedText:!0}),!(this.#_!==bt.HIGHLIGHT&&this.#_!==bt.NONE)&&(this.#_===bt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#R=this.isShiftKeyDown,!this.isShiftKeyDown)){const l=this.#_===bt.HIGHLIGHT?this.#Q(a):null;l?.toggleDrawing();const c=new AbortController,h=this.combinedSignal(c),d=f=>{f.type==="pointerup"&&f.button!==0||(c.abort(),l?.toggleDrawing(!0),f.type==="pointerup"&&this.#W("main_toolbar"))};window.addEventListener("pointerup",d,{signal:h}),window.addEventListener("blur",d,{signal:h})}}#W(t=""){this.#_===bt.HIGHLIGHT?this.highlightSelection(t):this.#g&&this.#st()}#at(){document.addEventListener("selectionchange",this.#nt.bind(this),{signal:this._signal})}#rt(){if(this.#b)return;this.#b=new AbortController;const t=this.combinedSignal(this.#b);window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})}#ot(){this.#b?.abort(),this.#b=null}blur(){if(this.isShiftKeyDown=!1,this.#R&&(this.#R=!1,this.#W("main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of this.#A)if(e.div.contains(t)){this.#L=[e,t],e._focusEventsAllowed=!1;break}}focus(){if(!this.#L)return;const[t,e]=this.#L;this.#L=null,e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}#Z(){if(this.#E)return;this.#E=new AbortController;const t=this.combinedSignal(this.#E);window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})}#lt(){this.#E?.abort(),this.#E=null}#J(){if(this.#c)return;this.#c=new AbortController;const t=this.combinedSignal(this.#c);document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})}#tt(){this.#c?.abort(),this.#c=null}#ct(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})}addEditListeners(){this.#Z(),this.#J()}removeEditListeners(){this.#lt(),this.#tt()}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const s of this.#f)if(s.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const s of this.#f)if(s.isHandlingMimeForPasting(e.type)){s.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){if(t.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const e=[];for(const s of this.#A){const a=s.serialize(!0);a&&e.push(a)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const l of e.items)for(const c of this.#f)if(c.isHandlingMimeForPasting(l.type)){c.paste(l,this.currentLayer);return}let s=e.getData("application/pdfjs");if(!s)return;try{s=JSON.parse(s)}catch(l){vt(`paste: "${l.message}".`);return}if(!Array.isArray(s))return;this.unselectAll();const a=this.currentLayer;try{const l=[];for(const d of s){const f=await a.deserialize(d);if(!f)return;l.push(f)}const c=()=>{for(const d of l)this.#et(d);this.#it(l)},h=()=>{for(const d of l)d.remove()};this.addCommands({cmd:c,undo:h,mustExec:!0})}catch(l){vt(`paste: "${l.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),this.#_!==bt.NONE&&!this.isEditorHandlingKeyboard&&ks._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,this.#R&&(this.#R=!1,this.#W("main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}#P(t){Object.entries(t).some(([s,a])=>this.#X[s]!==a)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#X,t)}),this.#_===bt.HIGHLIGHT&&t.hasSelectedEditor===!1&&this.#F([[Mt.HIGHLIGHT_FREE,!0]]))}#F(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}setEditingState(t){t?(this.#rt(),this.#J(),this.#P({isEditing:this.#_!==bt.NONE,isEmpty:this.#Y(),hasSomethingToUndo:this.#o.hasSomethingToUndo(),hasSomethingToRedo:this.#o.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#ot(),this.#tt(),this.#P({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!this.#f){this.#f=t;for(const e of this.#f)this.#F(e.defaultPropertiesToUpdate)}}getId(){return this.#D.id}get currentLayer(){return this.#s.get(this.#l)}getLayer(t){return this.#s.get(t)}get currentPageIndex(){return this.#l}addLayer(t){this.#s.set(t.pageIndex,t),this.#M?t.enable():t.disable()}removeLayer(t){this.#s.delete(t.pageIndex)}async updateMode(t,e=null,s=!1,a=!1,l=!1){if(this.#_!==t&&!(this.#I&&(await this.#I.promise,!this.#I))){if(this.#I=Promise.withResolvers(),this.#d?.commitOrRemove(),this.#_=t,t===bt.NONE){this.setEditingState(!1),this.#ht(),this._editorUndoBar?.hide(),this.#I.resolve();return}t===bt.SIGNATURE&&await this.#z?.loadSignatures(),this.setEditingState(!0),await this.#ut(),this.unselectAll();for(const c of this.#s.values())c.updateMode(t);if(!e){s&&this.addNewEditorFromKeyboard(),this.#I.resolve();return}for(const c of this.#i.values())c.annotationElementId===e||c.id===e?(this.setSelected(c),l?c.editComment():a&&c.enterInEditMode()):c.unselect();this.#I.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==this.#_&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...t})}updateParams(t,e){if(this.#f){switch(t){case Mt.CREATE:this.currentLayer.addNewEditor(e);return;case Mt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#q||=new Map).set(t,e),this.showAllEditors("highlight",e);break}if(this.hasSelection)for(const s of this.#A)s.updateParams(t,e);else for(const s of this.#f)s.updateDefaultParams(t,e)}}showAllEditors(t,e,s=!1){for(const l of this.#i.values())l.editorType===t&&l.show(e);(this.#q?.get(Mt.HIGHLIGHT_SHOW_ALL)??!0)!==e&&this.#F([[Mt.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(this.#C!==t){this.#C=t;for(const e of this.#s.values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}async#ut(){if(!this.#M){this.#M=!0;const t=[];for(const e of this.#s.values())t.push(e.enable());await Promise.all(t);for(const e of this.#i.values())e.enable()}}#ht(){if(this.unselectAll(),this.#M){this.#M=!1;for(const t of this.#s.values())t.disable();for(const t of this.#i.values())t.disable()}}getEditors(t){const e=[];for(const s of this.#i.values())s.pageIndex===t&&e.push(s);return e}getEditor(t){return this.#i.get(t)}addEditor(t){this.#i.set(t.id,t)}removeEditor(t){t.div.contains(document.activeElement)&&(this.#x&&clearTimeout(this.#x),this.#x=setTimeout(()=>{this.focusMainContainer(),this.#x=null},0)),this.#i.delete(t.id),t.annotationElementId&&this.#N?.delete(t.annotationElementId),this.unselect(t),(!t.annotationElementId||!this.#p.has(t.annotationElementId))&&this.#n?.remove(t.id)}addDeletedAnnotationElement(t){this.#p.add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return this.#p.has(t)}removeDeletedAnnotationElement(t){this.#p.delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}#et(t){const e=this.#s.get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}setActiveEditor(t){this.#e!==t&&(this.#e=t,t&&this.#F(t.propertiesToUpdate))}get#dt(){let t=null;for(t of this.#A);return t}updateUI(t){this.#dt===t&&this.#F(t.propertiesToUpdate)}updateUIForDefaultProperties(t){this.#F(t.defaultPropertiesToUpdate)}toggleSelected(t){if(this.#A.has(t)){this.#A.delete(t),t.unselect(),this.#P({hasSelectedEditor:this.hasSelection});return}this.#A.add(t),t.select(),this.#F(t.propertiesToUpdate),this.#P({hasSelectedEditor:!0})}setSelected(t){this.updateToolbar({mode:t.mode,editId:t.id}),this.#d?.commitOrRemove();for(const e of this.#A)e!==t&&e.unselect();this.#A.clear(),this.#A.add(t),t.select(),this.#F(t.propertiesToUpdate),this.#P({hasSelectedEditor:!0})}isSelected(t){return this.#A.has(t)}get firstSelectedEditor(){return this.#A.values().next().value}unselect(t){t.unselect(),this.#A.delete(t),this.#P({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#A.size!==0}get isEnterHandled(){return this.#A.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#o.undo(),this.#P({hasSomethingToUndo:this.#o.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#Y()}),this._editorUndoBar?.hide()}redo(){this.#o.redo(),this.#P({hasSomethingToUndo:!0,hasSomethingToRedo:this.#o.hasSomethingToRedo(),isEmpty:this.#Y()})}addCommands(t){this.#o.add(t),this.#P({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#Y()})}cleanUndoStack(t){this.#o.cleanType(t)}#Y(){if(this.#i.size===0)return!0;if(this.#i.size===1)for(const t of this.#i.values())return t.isEmpty();return!1}delete(){this.commitOrRemove();const t=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const e=t?[t]:[...this.#A],s=()=>{this._editorUndoBar?.show(a,e.length===1?e[0].editorType:e.length);for(const l of e)l.remove()},a=()=>{for(const l of e)this.#et(l)};this.addCommands({cmd:s,undo:a,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#it(t){for(const e of this.#A)e.unselect();this.#A.clear();for(const e of t)e.isEmpty()||(this.#A.add(e),e.select());this.#P({hasSelectedEditor:this.hasSelection})}selectAll(){for(const t of this.#A)t.commit();this.#it(this.#i.values())}unselectAll(){if(!(this.#e&&(this.#e.commitOrRemove(),this.#_!==bt.NONE))&&!this.#d?.commitOrRemove()&&this.hasSelection){for(const t of this.#A)t.unselect();this.#A.clear(),this.#P({hasSelectedEditor:!1})}}translateSelectedEditors(t,e,s=!1){if(s||this.commitOrRemove(),!this.hasSelection)return;this.#U[0]+=t,this.#U[1]+=e;const[a,l]=this.#U,c=[...this.#A],h=1e3;this.#O&&clearTimeout(this.#O),this.#O=setTimeout(()=>{this.#O=null,this.#U[0]=this.#U[1]=0,this.addCommands({cmd:()=>{for(const d of c)this.#i.has(d.id)&&(d.translateInPage(a,l),d.translationDone())},undo:()=>{for(const d of c)this.#i.has(d.id)&&(d.translateInPage(-a,-l),d.translationDone())},mustExec:!1})},h);for(const d of c)d.translateInPage(t,e),d.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#m=new Map;for(const t of this.#A)this.#m.set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#m)return!1;this.disableUserSelect(!1);const t=this.#m;this.#m=null;let e=!1;for(const[{x:a,y:l,pageIndex:c},h]of t)h.newX=a,h.newY=l,h.newPageIndex=c,e||=a!==h.savedX||l!==h.savedY||c!==h.savedPageIndex;if(!e)return!1;const s=(a,l,c,h)=>{if(this.#i.has(a.id)){const d=this.#s.get(h);d?a._setParentAndPosition(d,l,c):(a.pageIndex=h,a.x=l,a.y=c)}};return this.addCommands({cmd:()=>{for(const[a,{newX:l,newY:c,newPageIndex:h}]of t)s(a,l,c,h)},undo:()=>{for(const[a,{savedX:l,savedY:c,savedPageIndex:h}]of t)s(a,l,c,h)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(this.#m)for(const s of this.#m.keys())s.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#A.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return this.#e===t}getActive(){return this.#e}getMode(){return this.#_}get imageManager(){return Tt(this,"imageManager",new df)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let f=0,g=e.rangeCount;f<g;f++)if(!t.contains(e.getRangeAt(f).commonAncestorContainer))return null;const{x:s,y:a,width:l,height:c}=t.getBoundingClientRect();let h;switch(t.getAttribute("data-main-rotation")){case"90":h=(f,g,y,b)=>({x:(g-a)/c,y:1-(f+y-s)/l,width:b/c,height:y/l});break;case"180":h=(f,g,y,b)=>({x:1-(f+y-s)/l,y:1-(g+b-a)/c,width:y/l,height:b/c});break;case"270":h=(f,g,y,b)=>({x:1-(g+b-a)/c,y:(f-s)/l,width:b/c,height:y/l});break;default:h=(f,g,y,b)=>({x:(f-s)/l,y:(g-a)/c,width:y/l,height:b/c});break}const d=[];for(let f=0,g=e.rangeCount;f<g;f++){const y=e.getRangeAt(f);if(!y.collapsed)for(const{x:b,y:S,width:w,height:T}of y.getClientRects())w===0||T===0||d.push(h(b,S,w,T))}return d.length===0?null:d}addChangedExistingAnnotation({annotationElementId:t,id:e}){(this.#r||=new Map).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){this.#r?.delete(t)}renderAnnotationElement(t){const e=this.#r?.get(t.data.id);if(!e)return;const s=this.#n.getRawValue(e);s&&(this.#_===bt.NONE&&!s.hasBeenModified||s.renderAnnotationElement(t))}setMissingCanvas(t,e,s){const a=this.#N?.get(t);a&&(a.setCanvas(e,s),this.#N.delete(t))}addMissingCanvas(t,e){(this.#N||=new Map).set(t,e)}}class Li{#t=null;#e=!1;#i=null;#s=null;#a=null;#n=null;#r=!1;#o=null;#u=null;#c=null;#d=null;#l=!1;static#p=null;static _l10n=null;constructor(t){this.#u=t,this.#l=t._uiManager.useNewAltTextFlow,Li.#p||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(t){Li._l10n??=t}async render(){const t=this.#i=document.createElement("button");t.className="altText",t.tabIndex="0";const e=this.#s=document.createElement("span");t.append(e),this.#l?(t.classList.add("new"),t.setAttribute("data-l10n-id",Li.#p.missing),e.setAttribute("data-l10n-id",Li.#p["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const s=this.#u._uiManager._signal;t.addEventListener("contextmenu",pi,{signal:s}),t.addEventListener("pointerdown",l=>l.stopPropagation(),{signal:s});const a=l=>{l.preventDefault(),this.#u._uiManager.editAltText(this.#u),this.#l&&this.#u._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#m}})};return t.addEventListener("click",a,{capture:!0,signal:s}),t.addEventListener("keydown",l=>{l.target===t&&l.key==="Enter"&&(this.#r=!0,a(l))},{signal:s}),await this.#f(),t}get#m(){return this.#t&&"added"||this.#t===null&&this.guessedText&&"review"||"missing"}finish(){this.#i&&(this.#i.focus({focusVisible:this.#r}),this.#r=!1)}isEmpty(){return this.#l?this.#t===null:!this.#t&&!this.#e}hasData(){return this.#l?this.#t!==null||!!this.#c:this.isEmpty()}get guessedText(){return this.#c}async setGuessedText(t){this.#t===null&&(this.#c=t,this.#d=await Li._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t}),this.#f())}toggleAltTextBadge(t=!1){if(!this.#l||this.#t){this.#o?.remove(),this.#o=null;return}if(!this.#o){const e=this.#o=document.createElement("div");e.className="noAltTextBadge",this.#u.div.append(e)}this.#o.classList.toggle("hidden",!t)}serialize(t){let e=this.#t;return!t&&this.#c===e&&(e=this.#d),{altText:e,decorative:this.#e,guessedText:this.#c,textWithDisclaimer:this.#d}}get data(){return{altText:this.#t,decorative:this.#e}}set data({altText:t,decorative:e,guessedText:s,textWithDisclaimer:a,cancel:l=!1}){s&&(this.#c=s,this.#d=a),!(this.#t===t&&this.#e===e)&&(l||(this.#t=t,this.#e=e),this.#f())}toggle(t=!1){this.#i&&(!t&&this.#n&&(clearTimeout(this.#n),this.#n=null),this.#i.disabled=!t)}shown(){this.#u._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#m}})}destroy(){this.#i?.remove(),this.#i=null,this.#s=null,this.#a=null,this.#o?.remove(),this.#o=null}async#f(){const t=this.#i;if(!t)return;if(this.#l){if(t.classList.toggle("done",!!this.#t),t.setAttribute("data-l10n-id",Li.#p[this.#m]),this.#s?.setAttribute("data-l10n-id",Li.#p[`${this.#m}-label`]),!this.#t){this.#a?.remove();return}}else{if(!this.#t&&!this.#e){t.classList.remove("done"),this.#a?.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=this.#a;if(!e){this.#a=e=document.createElement("span"),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${this.#u.id}`;const a=100,l=this.#u._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(this.#n),this.#n=null},{once:!0}),t.addEventListener("mouseenter",()=>{this.#n=setTimeout(()=>{this.#n=null,this.#a.classList.add("show"),this.#u._reportTelemetry({action:"alt_text_tooltip"})},a)},{signal:l}),t.addEventListener("mouseleave",()=>{this.#n&&(clearTimeout(this.#n),this.#n=null),this.#a?.classList.remove("show")},{signal:l})}this.#e?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=this.#t),e.parentNode||t.append(e),this.#u.getElementForAltText()?.setAttribute("aria-describedby",e.id)}}class Cl{#t=null;#e=!1;#i=null;#s=null;#a=null;#n=null;#r=!1;constructor(t){this.#i=t,this.toolbar=null}render(){if(!this.#i._uiManager.hasCommentManager())return null;const t=this.#t=document.createElement("button");t.className="comment",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button");const e=this.#i._uiManager._signal;t.addEventListener("contextmenu",pi,{signal:e}),t.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:e});const s=a=>{a.preventDefault(),this.edit()};return t.addEventListener("click",s,{capture:!0,signal:e}),t.addEventListener("keydown",a=>{a.target===t&&a.key==="Enter"&&(this.#e=!0,s(a))},{signal:e}),t}edit(){const{bottom:t,left:e,right:s}=this.#i.getClientDimensions(),a={top:t};this.#i._uiManager.direction==="ltr"?a.right=s:a.left=e,this.#i._uiManager.editComment(this.#i,a)}finish(){this.#t&&(this.#t.focus({focusVisible:this.#e}),this.#e=!1)}isDeleted(){return this.#r||this.#a===""}hasBeenEdited(){return this.isDeleted()||this.#a!==this.#s}serialize(){return this.data}get data(){return{text:this.#a,date:this.#n,deleted:this.#r}}set data(t){if(t===null){this.#a="",this.#r=!0;return}this.#a=t,this.#n=new Date,this.#r=!1}setInitialText(t){this.#s=t,this.data=t}toggle(t=!1){this.#t&&(this.#t.disabled=!t)}shown(){}destroy(){this.#t?.remove(),this.#t=null,this.#a="",this.#n=null,this.#i=null,this.#e=!1,this.#r=!1}}class ac{#t;#e=!1;#i=null;#s;#a;#n;#r;#o=null;#u;#c=null;#d;#l=null;constructor({container:t,isPinchingDisabled:e=null,isPinchingStopped:s=null,onPinchStart:a=null,onPinching:l=null,onPinchEnd:c=null,signal:h}){this.#t=t,this.#i=s,this.#s=e,this.#a=a,this.#n=l,this.#r=c,this.#d=new AbortController,this.#u=AbortSignal.any([h,this.#d.signal]),t.addEventListener("touchstart",this.#p.bind(this),{passive:!1,signal:this.#u})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Ii.pixelRatio}#p(t){if(this.#s?.())return;if(t.touches.length===1){if(this.#o)return;const a=this.#o=new AbortController,l=AbortSignal.any([this.#u,a.signal]),c=this.#t,h={capture:!0,signal:l,passive:!1},d=f=>{f.pointerType==="touch"&&(this.#o?.abort(),this.#o=null)};c.addEventListener("pointerdown",f=>{f.pointerType==="touch"&&(oe(f),d(f))},h),c.addEventListener("pointerup",d,h),c.addEventListener("pointercancel",d,h);return}if(!this.#l){this.#l=new AbortController;const a=AbortSignal.any([this.#u,this.#l.signal]),l=this.#t,c={signal:a,capture:!1,passive:!1};l.addEventListener("touchmove",this.#m.bind(this),c);const h=this.#f.bind(this);l.addEventListener("touchend",h,c),l.addEventListener("touchcancel",h,c),c.capture=!0,l.addEventListener("pointerdown",oe,c),l.addEventListener("pointermove",oe,c),l.addEventListener("pointercancel",oe,c),l.addEventListener("pointerup",oe,c),this.#a?.()}if(oe(t),t.touches.length!==2||this.#i?.()){this.#c=null;return}let[e,s]=t.touches;e.identifier>s.identifier&&([e,s]=[s,e]),this.#c={touch0X:e.screenX,touch0Y:e.screenY,touch1X:s.screenX,touch1Y:s.screenY}}#m(t){if(!this.#c||t.touches.length!==2)return;oe(t);let[e,s]=t.touches;e.identifier>s.identifier&&([e,s]=[s,e]);const{screenX:a,screenY:l}=e,{screenX:c,screenY:h}=s,d=this.#c,{touch0X:f,touch0Y:g,touch1X:y,touch1Y:b}=d,S=y-f,w=b-g,T=c-a,R=h-l,M=Math.hypot(T,R)||1,N=Math.hypot(S,w)||1;if(!this.#e&&Math.abs(N-M)<=ac.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(d.touch0X=a,d.touch0Y=l,d.touch1X=c,d.touch1Y=h,!this.#e){this.#e=!0;return}const C=[(a+c)/2,(l+h)/2];this.#n?.(C,N,M)}#f(t){t.touches.length>=2||(this.#l&&(this.#l.abort(),this.#l=null,this.#r?.()),this.#c&&(oe(t),this.#c=null,this.#e=!1))}destroy(){this.#d?.abort(),this.#d=null,this.#o?.abort(),this.#o=null}}class ut{#t=null;#e=null;#i=null;#s=null;#a=!1;#n=null;#r="";#o=!1;#u=null;#c=null;#d=null;#l=null;#p="";#m=!1;#f=null;#h=!1;#g=!1;#v=!1;#y=null;#S=0;#x=0;#b=null;#T=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#R=!1;#w=ut._zIndex++;static _borderLineWidth=-1;static _colorManager=new ff;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const t=ut.prototype._resizeWithKeyboard,e=ks.TRANSLATE_SMALL,s=ks.TRANSLATE_BIG;return Tt(this,"_resizerKeyboardManager",new so([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-s,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[s,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-s]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,s]}],[["Escape","mac+Escape"],ut.prototype._stopResizingWithKeyboard]]))}constructor(t){this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null,this.annotationElementId=t.annotationElementId||null;const{rotation:e,rawDims:{pageWidth:s,pageHeight:a,pageX:l,pageY:c}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[s,a],this.pageTranslation=[l,c];const[h,d]=this.parentDimensions;this.x=t.x/h,this.y=t.y/d,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Tt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new RC({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(ut._l10n??=t,ut._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),ut._borderLineWidth!==-1)return;const s=getComputedStyle(document.documentElement);ut._borderLineWidth=parseFloat(s.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){jt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#R}set _isDraggable(t){this.#R=t,this.div?.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#w}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):this.#G(),this.parent=t}focusin(t){this._focusEventsAllowed&&(this.#m?this.#m=!1:this.parent.setSelected(this))}focusout(t){!this._focusEventsAllowed||!this.isAttachedToDOM||t.relatedTarget?.closest(`#${this.id}`)||(t.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,s,a){const[l,c]=this.parentDimensions;[s,a]=this.screenToPageTranslation(s,a),this.x=(t+s)/l,this.y=(e+a)/c,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[s,a]=this.parentDimensions;this.setAt(t*s,e*a,this.width*s,this.height*a),this._onTranslated()}#D([t,e],s,a){[s,a]=this.screenToPageTranslation(s,a),this.x+=s/t,this.y+=a/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(t,e){this.#D(this.parentDimensions,t,e)}translateInPage(t,e){this.#f||=[this.x,this.y,this.width,this.height],this.#D(this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){this.#f||=[this.x,this.y,this.width,this.height];const{div:s,parentDimensions:[a,l]}=this;if(this.x+=t/a,this.y+=e/l,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:y,y:b}=this.div.getBoundingClientRect();this.parent.findNewParent(this,y,b)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:c,y:h}=this;const[d,f]=this.getBaseTranslation();c+=d,h+=f;const{style:g}=s;g.left=`${(100*c).toFixed(2)}%`,g.top=`${(100*h).toFixed(2)}%`,this._onTranslating(c,h),s.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!this.#f&&(this.#f[0]!==this.x||this.#f[1]!==this.y)}get _hasBeenResized(){return!!this.#f&&(this.#f[2]!==this.width||this.#f[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:s}=ut,a=s/t,l=s/e;switch(this.rotation){case 90:return[-a,l];case 180:return[a,l];case 270:return[a,-l];default:return[-a,-l]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:e},pageDimensions:[s,a]}=this;let{x:l,y:c,width:h,height:d}=this;if(h*=s,d*=a,l*=s,c*=a,this._mustFixPosition)switch(t){case 0:l=Pe(l,0,s-h),c=Pe(c,0,a-d);break;case 90:l=Pe(l,0,s-d),c=Pe(c,h,a);break;case 180:l=Pe(l,h,s),c=Pe(c,d,a);break;case 270:l=Pe(l,d,s),c=Pe(c,0,a-h);break}this.x=l/=s,this.y=c/=a;const[f,g]=this.getBaseTranslation();l+=f,c+=g,e.left=`${(100*l).toFixed(2)}%`,e.top=`${(100*c).toFixed(2)}%`,this.moveInDOM()}static#M(t,e,s){switch(s){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}}screenToPageTranslation(t,e){return ut.#M(t,e,this.parentRotation)}pageTranslationToScreen(t,e){return ut.#M(t,e,360-this.parentRotation)}#C(t){switch(t){case 90:{const[e,s]=this.pageDimensions;return[0,-e/s,s/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,s]=this.pageDimensions;return[0,e/s,-s/e,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,s]}=this;return[e*t,s*t]}setDims(t,e){const[s,a]=this.parentDimensions,{style:l}=this.div;l.width=`${(100*t/s).toFixed(2)}%`,this.#o||(l.height=`${(100*e/a).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:s}=t,a=s.endsWith("%"),l=!this.#o&&e.endsWith("%");if(a&&l)return;const[c,h]=this.parentDimensions;a||(t.width=`${(100*parseFloat(s)/c).toFixed(2)}%`),!this.#o&&!l&&(t.height=`${(100*parseFloat(e)/h).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#E(){if(this.#u)return;this.#u=document.createElement("div"),this.#u.classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const s of t){const a=document.createElement("div");this.#u.append(a),a.classList.add("resizer",s),a.setAttribute("data-resizer-name",s),a.addEventListener("pointerdown",this.#L.bind(this,s),{signal:e}),a.addEventListener("contextmenu",pi,{signal:e}),a.tabIndex=-1}this.div.prepend(this.#u)}#L(t,e){e.preventDefault();const{isMac:s}=xe.platform;if(e.button!==0||e.ctrlKey&&s)return;this.#i?.toggle(!1);const a=this._isDraggable;this._isDraggable=!1,this.#c=[e.screenX,e.screenY];const l=new AbortController,c=this._uiManager.combinedSignal(l);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#H.bind(this,t),{passive:!0,capture:!0,signal:c}),window.addEventListener("touchmove",oe,{passive:!1,signal:c}),window.addEventListener("contextmenu",pi,{signal:c}),this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const h=this.parent.div.style.cursor,d=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const f=()=>{l.abort(),this.parent.togglePointerEvents(!0),this.#i?.toggle(!0),this._isDraggable=a,this.parent.div.style.cursor=h,this.div.style.cursor=d,this.#N()};window.addEventListener("pointerup",f,{signal:c}),window.addEventListener("blur",f,{signal:c})}#B(t,e,s,a){this.width=s,this.height=a,this.x=t,this.y=e;const[l,c]=this.parentDimensions;this.setDims(l*s,c*a),this.fixAndSetPosition(),this._onResized()}_onResized(){}#N(){if(!this.#d)return;const{savedX:t,savedY:e,savedWidth:s,savedHeight:a}=this.#d;this.#d=null;const l=this.x,c=this.y,h=this.width,d=this.height;l===t&&c===e&&h===s&&d===a||this.addCommands({cmd:this.#B.bind(this,l,c,h,d),undo:this.#B.bind(this,t,e,s,a),mustExec:!0})}static _round(t){return Math.round(t*1e4)/1e4}#H(t,e){const[s,a]=this.parentDimensions,l=this.x,c=this.y,h=this.width,d=this.height,f=ut.MIN_SIZE/s,g=ut.MIN_SIZE/a,y=this.#C(this.rotation),b=(j,U)=>[y[0]*j+y[2]*U,y[1]*j+y[3]*U],S=this.#C(360-this.rotation),w=(j,U)=>[S[0]*j+S[2]*U,S[1]*j+S[3]*U];let T,R,M=!1,N=!1;switch(t){case"topLeft":M=!0,T=(j,U)=>[0,0],R=(j,U)=>[j,U];break;case"topMiddle":T=(j,U)=>[j/2,0],R=(j,U)=>[j/2,U];break;case"topRight":M=!0,T=(j,U)=>[j,0],R=(j,U)=>[0,U];break;case"middleRight":N=!0,T=(j,U)=>[j,U/2],R=(j,U)=>[0,U/2];break;case"bottomRight":M=!0,T=(j,U)=>[j,U],R=(j,U)=>[0,0];break;case"bottomMiddle":T=(j,U)=>[j/2,U],R=(j,U)=>[j/2,0];break;case"bottomLeft":M=!0,T=(j,U)=>[0,U],R=(j,U)=>[j,0];break;case"middleLeft":N=!0,T=(j,U)=>[0,U/2],R=(j,U)=>[j,U/2];break}const C=T(h,d),v=R(h,d);let A=b(...v);const _=ut._round(l+A[0]),D=ut._round(c+A[1]);let P=1,L=1,q,X;if(e.fromKeyboard)({deltaX:q,deltaY:X}=e);else{const{screenX:j,screenY:U}=e,[et,yt]=this.#c;[q,X]=this.screenToPageTranslation(j-et,U-yt),this.#c[0]=j,this.#c[1]=U}if([q,X]=w(q/s,X/a),M){const j=Math.hypot(h,d);P=L=Math.max(Math.min(Math.hypot(v[0]-C[0]-q,v[1]-C[1]-X)/j,1/h,1/d),f/h,g/d)}else N?P=Pe(Math.abs(v[0]-C[0]-q),f,1)/h:L=Pe(Math.abs(v[1]-C[1]-X),g,1)/d;const tt=ut._round(h*P),at=ut._round(d*L);A=b(...R(tt,at));const it=_-A[0],pt=D-A[1];this.#f||=[this.x,this.y,this.width,this.height],this.width=tt,this.height=at,this.x=it,this.y=pt,this.setDims(s*tt,a*at),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#i?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#g)return this._editToolbar;this._editToolbar=new Fr(this),this.div.append(this._editToolbar.render()),this._editToolbar.addButton("comment",this.addCommentButton());const{toolbarButtons:t}=this;if(t)for(const[e,s]of t)await this._editToolbar.addButton(e,s);return this._editToolbar.addButton("delete"),this._editToolbar}removeEditToolbar(){this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,this.#i?.destroy())}addContainer(t){const e=this._editToolbar?.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#i||(Li.initialize(ut._l10n),this.#i=new Li(this),this.#t&&(this.#i.data=this.#t,this.#t=null)),this.#i}get altTextData(){return this.#i?.data}set altTextData(t){this.#i&&(this.#i.data=t)}get guessedAltText(){return this.#i?.guessedText}async setGuessedAltText(t){await this.#i?.setGuessedText(t)}serializeAltText(t){return this.#i?.serialize(t)}hasAltText(){return!!this.#i&&!this.#i.isEmpty()}hasAltTextData(){return this.#i?.hasData()??!1}addCommentButton(){return this.#s?this.#s:this.#s=new Cl(this)}get commentColor(){return null}get comment(){const t=this.#s;return{text:t.data.text,date:t.data.date,deleted:t.isDeleted(),color:this.commentColor}}set comment(t){this.#s||(this.#s=new Cl(this)),this.#s.data=t}setCommentData(t){this.#s||(this.#s=new Cl(this)),this.#s.setInitialText(t)}get hasEditedComment(){return this.#s?.hasBeenEdited()}async editComment(){this.#s||(this.#s=new Cl(this)),this.#s.edit()}addComment(t){this.hasEditedComment&&(t.popup={contents:this.comment.text,deleted:this.comment.deleted})}render(){const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=this.#a?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),this.#q();const[e,s]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth=`${(100*s/e).toFixed(2)}%`,t.style.maxHeight=`${(100*e/s).toFixed(2)}%`);const[a,l]=this.getInitialTranslation();return this.translate(a,l),Zv(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#T||=new ac({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#_.bind(this),onPinching:this.#A.bind(this),onPinchEnd:this.#j.bind(this),signal:this._uiManager._signal})),this._uiManager._editorUndoBar?.hide(),t}#_(){this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#i?.toggle(!1),this.parent.togglePointerEvents(!1)}#A(t,e,s){let l=.7*(s/e)+1-.7;if(l===1)return;const c=this.#C(this.rotation),h=(_,D)=>[c[0]*_+c[2]*D,c[1]*_+c[3]*D],[d,f]=this.parentDimensions,g=this.x,y=this.y,b=this.width,S=this.height,w=ut.MIN_SIZE/d,T=ut.MIN_SIZE/f;l=Math.max(Math.min(l,1/b,1/S),w/b,T/S);const R=ut._round(b*l),M=ut._round(S*l);if(R===b&&M===S)return;this.#f||=[g,y,b,S];const N=h(b/2,S/2),C=ut._round(g+N[0]),v=ut._round(y+N[1]),A=h(R/2,M/2);this.x=C-A[0],this.y=v-A[1],this.width=R,this.height=M,this.setDims(d*R,f*M),this.fixAndSetPosition(),this._onResizing()}#j(){this.#i?.toggle(!0),this.parent.togglePointerEvents(!0),this.#N()}pointerdown(t){const{isMac:e}=xe.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(this.#m=!0,this._isDraggable){this.#V(t);return}this.#z(t)}#z(t){const{isMac:e}=xe.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)}#V(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let s=!1;const a=new AbortController,l=this._uiManager.combinedSignal(a),c={capture:!0,passive:!1,signal:l},h=f=>{a.abort(),this.#n=null,this.#m=!1,this._uiManager.endDragSession()||this.#z(f),s&&this._onStopDragging()};e&&(this.#S=t.clientX,this.#x=t.clientY,this.#n=t.pointerId,this.#r=t.pointerType,window.addEventListener("pointermove",f=>{s||(s=!0,this._onStartDragging());const{clientX:g,clientY:y,pointerId:b}=f;if(b!==this.#n){oe(f);return}const[S,w]=this.screenToPageTranslation(g-this.#S,y-this.#x);this.#S=g,this.#x=y,this._uiManager.dragSelectedEditors(S,w)},c),window.addEventListener("touchmove",oe,c),window.addEventListener("pointerdown",f=>{f.pointerType===this.#r&&(this.#T||f.isPrimary)&&h(f),oe(f)},c));const d=f=>{if(!this.#n||this.#n===f.pointerId){h(f);return}oe(f)};window.addEventListener("pointerup",d,{signal:l}),window.addEventListener("blur",d,{signal:l})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#y&&clearTimeout(this.#y),this.#y=setTimeout(()=>{this.#y=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(t,e,s){t.changeParent(this),this.x=e,this.y=s,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,s=this.rotation){const a=this.parentScale,[l,c]=this.pageDimensions,[h,d]=this.pageTranslation,f=t/a,g=e/a,y=this.x*l,b=this.y*c,S=this.width*l,w=this.height*c;switch(s){case 0:return[y+f+h,c-b-g-w+d,y+f+S+h,c-b-g+d];case 90:return[y+g+h,c-b+f+d,y+g+w+h,c-b+f+S+d];case 180:return[y-f-S+h,c-b+g+d,y-f+h,c-b+g+w+d];case 270:return[y-g-w+h,c-b-f-S+d,y-g+h,c-b-f+d];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[s,a,l,c]=t,h=l-s,d=c-a;switch(this.rotation){case 0:return[s,e-c,h,d];case 90:return[s,e-a,d,h];case 180:return[l,e-a,h,d];case 270:return[l,e-c,d,h];default:throw new Error("Invalid rotation")}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#g=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#g=!1,!0):!1}isInEditMode(){return this.#g}shouldGetKeyboardEvents(){return this.#v}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:s,right:a}=this.getClientDimensions(),{innerHeight:l,innerWidth:c}=window;return e<c&&a>0&&t<l&&s>0}#q(){if(this.#l||!this.div)return;this.#l=new AbortController;const t=this._uiManager.combinedSignal(this.#l);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})}rebuild(){this.#q()}rotate(t){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(t=!1,e=null){jt("An editor must be serializable")}static async deserialize(t,e,s){const a=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:s,annotationElementId:t.annotationElementId});a.rotation=t.rotation,a.#t=t.accessibilityData,a._isCopy=t.isCopy||!1;const[l,c]=a.pageDimensions,[h,d,f,g]=a.getRectInCurrentCoords(t.rect,c);return a.x=h/l,a.y=d/c,a.width=f/l,a.height=g/c,a}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#l?.abort(),this.#l=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#y&&(clearTimeout(this.#y),this.#y=null),this.#G(),this.removeEditToolbar(),this.#b){for(const t of this.#b.values())clearTimeout(t);this.#b=null}this.parent=null,this.#T?.destroy(),this.#T=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#E(),this.#u.classList.remove("hidden"))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const e=this.#u.children;if(!this.#e){this.#e=Array.from(e);const c=this.#X.bind(this),h=this.#U.bind(this),d=this._uiManager._signal;for(const f of this.#e){const g=f.getAttribute("data-resizer-name");f.setAttribute("role","spinbutton"),f.addEventListener("keydown",c,{signal:d}),f.addEventListener("blur",h,{signal:d}),f.addEventListener("focus",this.#O.bind(this,g),{signal:d}),f.setAttribute("data-l10n-id",ut._l10nResizer[g])}}const s=this.#e[0];let a=0;for(const c of e){if(c===s)break;a++}const l=(360-this.rotation+this.parentRotation)%360/90*(this.#e.length/4);if(l!==a){if(l<a)for(let h=0;h<a-l;h++)this.#u.append(this.#u.firstChild);else if(l>a)for(let h=0;h<l-a;h++)this.#u.firstChild.before(this.#u.lastChild);let c=0;for(const h of e){const f=this.#e[c++].getAttribute("data-resizer-name");h.setAttribute("data-l10n-id",ut._l10nResizer[f])}}this.#k(0),this.#v=!0,this.#u.firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}#X(t){ut._resizerKeyboardManager.exec(this,t)}#U(t){this.#v&&t.relatedTarget?.parentNode!==this.#u&&this.#G()}#O(t){this.#p=this.#v?t:""}#k(t){if(this.#e)for(const e of this.#e)e.tabIndex=t}_resizeWithKeyboard(t,e){this.#v&&this.#H(this.#p,{deltaX:t,deltaY:e,fromKeyboard:!0})}#G(){this.#v=!1,this.#k(-1),this.#N()}_stopResizingWithKeyboard(){this.#G(),this.div.focus()}select(){if(!(this.isSelected&&this._editToolbar)){if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#i?.toggleAltTextBadge(!1)}}unselect(){this.isSelected&&(this.isSelected=!1,this.#u?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#i?.toggleAltTextBadge(!0))}updateParams(t,e){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#h}set isEditing(t){this.#h=t,this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){this.#o=!0;const s=t/e,{style:a}=this.div;a.aspectRatio=s,a.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){this.#b||=new Map;const{action:s}=t;let a=this.#b.get(s);a&&clearTimeout(a),a=setTimeout(()=>{this._reportTelemetry(t),this.#b.delete(s),this.#b.size===0&&(this.#b=null)},ut._telemetryTimeout),this.#b.set(s,a);return}t.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),this.#a=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#a=!0}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const s=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),s.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;e?.nodeName==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}}class RC extends ut{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const Y0=3285377520,ui=4294901760,Di=65535;class Jv{constructor(t){this.h1=t?t&4294967295:Y0,this.h2=t?t&4294967295:Y0}update(t){let e,s;if(typeof t=="string"){e=new Uint8Array(t.length*2),s=0;for(let T=0,R=t.length;T<R;T++){const M=t.charCodeAt(T);M<=255?e[s++]=M:(e[s++]=M>>>8,e[s++]=M&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),s=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const a=s>>2,l=s-a*4,c=new Uint32Array(e.buffer,0,a);let h=0,d=0,f=this.h1,g=this.h2;const y=3432918353,b=461845907,S=y&Di,w=b&Di;for(let T=0;T<a;T++)T&1?(h=c[T],h=h*y&ui|h*S&Di,h=h<<15|h>>>17,h=h*b&ui|h*w&Di,f^=h,f=f<<13|f>>>19,f=f*5+3864292196):(d=c[T],d=d*y&ui|d*S&Di,d=d<<15|d>>>17,d=d*b&ui|d*w&Di,g^=d,g=g<<13|g>>>19,g=g*5+3864292196);switch(h=0,l){case 3:h^=e[a*4+2]<<16;case 2:h^=e[a*4+1]<<8;case 1:h^=e[a*4],h=h*y&ui|h*S&Di,h=h<<15|h>>>17,h=h*b&ui|h*w&Di,a&1?f^=h:g^=h}this.h1=f,this.h2=g}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&ui|t*36045&Di,e=e*4283543511&ui|((e<<16|t>>>16)*2950163797&ui)>>>16,t^=e>>>1,t=t*444984403&ui|t*60499&Di,e=e*3301882366&ui|((e<<16|t>>>16)*3120437893&ui)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const Ad=Object.freeze({map:null,hash:"",transfer:void 0});class pf{#t=!1;#e=null;#i=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const s=this.#i.get(t);return s===void 0?e:Object.assign(e,s)}getRawValue(t){return this.#i.get(t)}remove(t){if(this.#i.delete(t),this.#i.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of this.#i.values())if(e instanceof ut)return;this.onAnnotationEditor(null)}}setValue(t,e){const s=this.#i.get(t);let a=!1;if(s!==void 0)for(const[l,c]of Object.entries(e))s[l]!==c&&(a=!0,s[l]=c);else a=!0,this.#i.set(t,e);a&&this.#s(),e instanceof ut&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return this.#i.has(t)}get size(){return this.#i.size}#s(){this.#t||(this.#t=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#t&&(this.#t=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new tA(this)}get serializable(){if(this.#i.size===0)return Ad;const t=new Map,e=new Jv,s=[],a=Object.create(null);let l=!1;for(const[c,h]of this.#i){const d=h instanceof ut?h.serialize(!1,a):h;d&&(t.set(c,d),e.update(`${c}:${JSON.stringify(d)}`),l||=!!d.bitmap)}if(l)for(const c of t.values())c.bitmap&&s.push(c.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:s}:Ad}get editorStats(){let t=null;const e=new Map;for(const s of this.#i.values()){if(!(s instanceof ut))continue;const a=s.telemetryFinalData;if(!a)continue;const{type:l}=a;e.has(l)||e.set(l,Object.getPrototypeOf(s).constructor),t||=Object.create(null);const c=t[l]||=new Map;for(const[h,d]of Object.entries(a)){if(h==="type")continue;let f=c.get(h);f||(f=new Map,c.set(h,f));const g=f.get(d)??0;f.set(d,g+1)}}for(const[s,a]of e)t[s]=a.computeTelemetryFinalData(t[s]);return t}resetModifiedIds(){this.#e=null}get modifiedIds(){if(this.#e)return this.#e;const t=[];for(const e of this.#i.values())!(e instanceof ut)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return this.#e={ids:new Set(t),hash:t.join(",")}}[Symbol.iterator](){return this.#i.entries()}}class tA extends pf{#t;constructor(t){super();const{map:e,hash:s,transfer:a}=t.serializable,l=structuredClone(e,a?{transfer:a}:null);this.#t={map:l,hash:s,transfer:a}}get print(){jt("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#t}get modifiedIds(){return Tt(this,"modifiedIds",{ids:new Set,hash:""})}}class DC{#t=new Set;constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),this.#t.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,disableFontFace:e,_inspectFont:s}){if(!(!t||this.#t.has(t.loadedName))){if(le(!e,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:a,src:l,style:c}=t,h=new FontFace(a,l,c);this.addNativeFontFace(h);try{await h.load(),this.#t.add(a),s?.(t)}catch{vt(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(h)}return}jt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const s=t.createNativeFontFace();if(s){this.addNativeFontFace(s);try{await s.loaded}catch(a){throw vt(`Failed to load font '${s.family}': '${a}'.`),t.disableFontFace=!0,a}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(s=>{const a=this._queueLoadingCallback(s);this._prepareFontLoadEvent(t,a)})}}get isFontLoadingAPISupported(){const t=!!this._document?.fonts;return Tt(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){return Tt(this,"isSyncFontLoadingSupported",De||xe.platform.isFirefox)}_queueLoadingCallback(t){function e(){for(le(!a.done,"completeRequest() cannot be called twice."),a.done=!0;s.length>0&&s[0].done;){const l=s.shift();setTimeout(l.callback,0)}}const{loadingRequests:s}=this,a={done:!1,complete:e,callback:t};return s.push(a),a}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Tt(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function s(v,A){return v.charCodeAt(A)<<24|v.charCodeAt(A+1)<<16|v.charCodeAt(A+2)<<8|v.charCodeAt(A+3)&255}function a(v,A,_,D){const P=v.substring(0,A),L=v.substring(A+_);return P+D+L}let l,c;const h=this._document.createElement("canvas");h.width=1,h.height=1;const d=h.getContext("2d");let f=0;function g(v,A){if(++f>30){vt("Load test font never loaded."),A();return}if(d.font="30px "+v,d.fillText(".",0,20),d.getImageData(0,0,1,1).data[3]>0){A();return}setTimeout(g.bind(null,v,A))}const y=`lt${Date.now()}${this.loadTestFontId++}`;let b=this._loadTestFont;b=a(b,976,y.length,y);const w=16,T=1482184792;let R=s(b,w);for(l=0,c=y.length-3;l<c;l+=4)R=R-T+s(y,l)|0;l<y.length&&(R=R-T+s(y+"XXX",l)|0),b=a(b,w,4,pC(R));const M=`url(data:font/opentype;base64,${btoa(b)});`,N=`@font-face {font-family:"${y}";src:${M}}`;this.insertRule(N);const C=this._document.createElement("div");C.style.visibility="hidden",C.style.width=C.style.height="10px",C.style.position="absolute",C.style.top=C.style.left="0px";for(const v of[t.loadedName,y]){const A=this._document.createElement("span");A.textContent="Hi",A.style.fontFamily=v,C.append(A)}this._document.body.append(C),g(y,()=>{C.remove(),e.complete()})}}class PC{constructor(t,e=null){this.compiledGlyphs=Object.create(null);for(const s in t)this[s]=t[s];this._inspectFont=e}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}return this._inspectFont?.(this),t}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${Qv(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${t}}`}return this._inspectFont?.(this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];const s=this.loadedName+"_path_"+e;let a;try{a=t.get(s)}catch(c){vt(`getPathGenerator - ignoring character: "${c}".`)}const l=new Path2D(a||"");return this.fontExtraProperties||t.delete(s),this.compiledGlyphs[e]=l}}function LC(r){if(r instanceof URL)return r.href;if(typeof r=="string"){if(De)return r;const t=URL.parse(r,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function NC(r){if(De&&typeof Buffer<"u"&&r instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength)return r;if(typeof r=="string")return to(r);if(r instanceof ArrayBuffer||ArrayBuffer.isView(r)||typeof r=="object"&&!isNaN(r?.length))return new Uint8Array(r);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Ml(r){if(typeof r!="string")return null;if(r.endsWith("/"))return r;throw new Error(`Invalid factory url: "${r}" must include trailing slash.`)}const Sd=r=>typeof r=="object"&&Number.isInteger(r?.num)&&r.num>=0&&Number.isInteger(r?.gen)&&r.gen>=0,OC=r=>typeof r=="object"&&typeof r?.name=="string",kC=vC.bind(null,Sd,OC);class IC{#t=new Map;#e=Promise.resolve();postMessage(t,e){const s={data:structuredClone(t,e?{transfer:e}:null)};this.#e.then(()=>{for(const[a]of this.#t)a.call(this,s)})}addEventListener(t,e,s=null){let a=null;if(s?.signal instanceof AbortSignal){const{signal:l}=s;if(l.aborted){vt("LoopbackPort - cannot use an `aborted` signal.");return}const c=()=>this.removeEventListener(t,e);a=()=>l.removeEventListener("abort",c),l.addEventListener("abort",c)}this.#t.set(e,a)}removeEventListener(t,e){this.#t.get(e)?.(),this.#t.delete(e)}terminate(){for(const[,t]of this.#t)t?.();this.#t.clear()}}const Rl={DATA:1,ERROR:2},ne={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function $0(){}function Fe(r){if(r instanceof Os||r instanceof yd||r instanceof G0||r instanceof Yl||r instanceof Vh)return r;switch(r instanceof Error||typeof r=="object"&&r!==null||jt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),r.name){case"AbortException":return new Os(r.message);case"InvalidPDFException":return new yd(r.message);case"PasswordException":return new G0(r.message,r.code);case"ResponseException":return new Yl(r.message,r.status,r.missing);case"UnknownErrorException":return new Vh(r.message,r.details)}return new Vh(r.message,r.toString())}class Nr{#t=new AbortController;constructor(t,e,s){this.sourceName=t,this.targetName=e,this.comObj=s,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),s.addEventListener("message",this.#e.bind(this),{signal:this.#t.signal})}#e({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){this.#s(t);return}if(t.callback){const s=t.callbackId,a=this.callbackCapabilities[s];if(!a)throw new Error(`Cannot resolve callback ${s}`);if(delete this.callbackCapabilities[s],t.callback===Rl.DATA)a.resolve(t.data);else if(t.callback===Rl.ERROR)a.reject(Fe(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const s=this.sourceName,a=t.sourceName,l=this.comObj;Promise.try(e,t.data).then(function(c){l.postMessage({sourceName:s,targetName:a,callback:Rl.DATA,callbackId:t.callbackId,data:c})},function(c){l.postMessage({sourceName:s,targetName:a,callback:Rl.ERROR,callbackId:t.callbackId,reason:Fe(c)})});return}if(t.streamId){this.#i(t);return}e(t.data)}on(t,e){const s=this.actionHandler;if(s[t])throw new Error(`There is already an actionName called "${t}"`);s[t]=e}send(t,e,s){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},s)}sendWithPromise(t,e,s){const a=this.callbackId++,l=Promise.withResolvers();this.callbackCapabilities[a]=l;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:a,data:e},s)}catch(c){l.reject(c)}return l.promise}sendWithStream(t,e,s,a){const l=this.streamId++,c=this.sourceName,h=this.targetName,d=this.comObj;return new ReadableStream({start:f=>{const g=Promise.withResolvers();return this.streamControllers[l]={controller:f,startCall:g,pullCall:null,cancelCall:null,isClosed:!1},d.postMessage({sourceName:c,targetName:h,action:t,streamId:l,data:e,desiredSize:f.desiredSize},a),g.promise},pull:f=>{const g=Promise.withResolvers();return this.streamControllers[l].pullCall=g,d.postMessage({sourceName:c,targetName:h,stream:ne.PULL,streamId:l,desiredSize:f.desiredSize}),g.promise},cancel:f=>{le(f instanceof Error,"cancel must have a valid reason");const g=Promise.withResolvers();return this.streamControllers[l].cancelCall=g,this.streamControllers[l].isClosed=!0,d.postMessage({sourceName:c,targetName:h,stream:ne.CANCEL,streamId:l,reason:Fe(f)}),g.promise}},s)}#i(t){const e=t.streamId,s=this.sourceName,a=t.sourceName,l=this.comObj,c=this,h=this.actionHandler[t.action],d={enqueue(f,g=1,y){if(this.isCancelled)return;const b=this.desiredSize;this.desiredSize-=g,b>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),l.postMessage({sourceName:s,targetName:a,stream:ne.ENQUEUE,streamId:e,chunk:f},y)},close(){this.isCancelled||(this.isCancelled=!0,l.postMessage({sourceName:s,targetName:a,stream:ne.CLOSE,streamId:e}),delete c.streamSinks[e])},error(f){le(f instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,l.postMessage({sourceName:s,targetName:a,stream:ne.ERROR,streamId:e,reason:Fe(f)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};d.sinkCapability.resolve(),d.ready=d.sinkCapability.promise,this.streamSinks[e]=d,Promise.try(h,t.data,d).then(function(){l.postMessage({sourceName:s,targetName:a,stream:ne.START_COMPLETE,streamId:e,success:!0})},function(f){l.postMessage({sourceName:s,targetName:a,stream:ne.START_COMPLETE,streamId:e,reason:Fe(f)})})}#s(t){const e=t.streamId,s=this.sourceName,a=t.sourceName,l=this.comObj,c=this.streamControllers[e],h=this.streamSinks[e];switch(t.stream){case ne.START_COMPLETE:t.success?c.startCall.resolve():c.startCall.reject(Fe(t.reason));break;case ne.PULL_COMPLETE:t.success?c.pullCall.resolve():c.pullCall.reject(Fe(t.reason));break;case ne.PULL:if(!h){l.postMessage({sourceName:s,targetName:a,stream:ne.PULL_COMPLETE,streamId:e,success:!0});break}h.desiredSize<=0&&t.desiredSize>0&&h.sinkCapability.resolve(),h.desiredSize=t.desiredSize,Promise.try(h.onPull||$0).then(function(){l.postMessage({sourceName:s,targetName:a,stream:ne.PULL_COMPLETE,streamId:e,success:!0})},function(f){l.postMessage({sourceName:s,targetName:a,stream:ne.PULL_COMPLETE,streamId:e,reason:Fe(f)})});break;case ne.ENQUEUE:if(le(c,"enqueue should have stream controller"),c.isClosed)break;c.controller.enqueue(t.chunk);break;case ne.CLOSE:if(le(c,"close should have stream controller"),c.isClosed)break;c.isClosed=!0,c.controller.close(),this.#a(c,e);break;case ne.ERROR:le(c,"error should have stream controller"),c.controller.error(Fe(t.reason)),this.#a(c,e);break;case ne.CANCEL_COMPLETE:t.success?c.cancelCall.resolve():c.cancelCall.reject(Fe(t.reason)),this.#a(c,e);break;case ne.CANCEL:if(!h)break;const d=Fe(t.reason);Promise.try(h.onCancel||$0,d).then(function(){l.postMessage({sourceName:s,targetName:a,stream:ne.CANCEL_COMPLETE,streamId:e,success:!0})},function(f){l.postMessage({sourceName:s,targetName:a,stream:ne.CANCEL_COMPLETE,streamId:e,reason:Fe(f)})}),h.sinkCapability.reject(d),h.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}async#a(t,e){await Promise.allSettled([t.startCall?.promise,t.pullCall?.promise,t.cancelCall?.promise]),delete this.streamControllers[e]}destroy(){this.#t?.abort(),this.#t=null}}class eA{#t=!1;constructor({enableHWA:t=!1}){this.#t=t}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const s=this._createCanvas(t,e);return{canvas:s,context:s.getContext("2d",{willReadFrequently:!this.#t})}}reset(t,e,s){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||s<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=s}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){jt("Abstract method `_createCanvas` called.")}}class BC extends eA{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const s=this._document.createElement("canvas");return s.width=t,s.height=e,s}}class iA{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(s=>({cMapData:s,isCompressed:this.isCompressed})).catch(s=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){jt("Abstract method `_fetch` called.")}}class W0 extends iA{async _fetch(t){const e=await eo(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):to(e)}}class sA{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,s,a,l){return"none"}destroy(t=!1){}}class jC extends sA{#t;#e;#i;#s;#a;#n;#r=0;constructor({docId:t,ownerDocument:e=globalThis.document}){super(),this.#s=t,this.#a=e}get#o(){return this.#e||=new Map}get#u(){return this.#n||=new Map}get#c(){if(!this.#i){const t=this.#a.createElement("div"),{style:e}=t;e.visibility="hidden",e.contain="strict",e.width=e.height=0,e.position="absolute",e.top=e.left=0,e.zIndex=-1;const s=this.#a.createElementNS(Zi,"svg");s.setAttribute("width",0),s.setAttribute("height",0),this.#i=this.#a.createElementNS(Zi,"defs"),t.append(s),s.append(this.#i),this.#a.body.append(t)}return this.#i}#d(t){if(t.length===1){const d=t[0],f=new Array(256);for(let y=0;y<256;y++)f[y]=d[y]/255;const g=f.join(",");return[g,g,g]}const[e,s,a]=t,l=new Array(256),c=new Array(256),h=new Array(256);for(let d=0;d<256;d++)l[d]=e[d]/255,c[d]=s[d]/255,h[d]=a[d]/255;return[l.join(","),c.join(","),h.join(",")]}#l(t){if(this.#t===void 0){this.#t="";const e=this.#a.URL;e!==this.#a.baseURI&&(sc(e)?vt('#createUrl: ignore "data:"-URL for performance reasons.'):this.#t=$v(e,""))}return`url(${this.#t}#${t})`}addFilter(t){if(!t)return"none";let e=this.#o.get(t);if(e)return e;const[s,a,l]=this.#d(t),c=t.length===1?s:`${s}${a}${l}`;if(e=this.#o.get(c),e)return this.#o.set(t,e),e;const h=`g_${this.#s}_transfer_map_${this.#r++}`,d=this.#l(h);this.#o.set(t,d),this.#o.set(c,d);const f=this.#f(h);return this.#g(s,a,l,f),d}addHCMFilter(t,e){const s=`${t}-${e}`,a="base";let l=this.#u.get(a);if(l?.key===s||(l?(l.filter?.remove(),l.key=s,l.url="none",l.filter=null):(l={key:s,url:"none",filter:null},this.#u.set(a,l)),!t||!e))return l.url;const c=this.#y(t);t=lt.makeHexColor(...c);const h=this.#y(e);if(e=lt.makeHexColor(...h),this.#c.style.color="",t==="#000000"&&e==="#ffffff"||t===e)return l.url;const d=new Array(256);for(let S=0;S<=255;S++){const w=S/255;d[S]=w<=.03928?w/12.92:((w+.055)/1.055)**2.4}const f=d.join(","),g=`g_${this.#s}_hcm_filter`,y=l.filter=this.#f(g);this.#g(f,f,f,y),this.#m(y);const b=(S,w)=>{const T=c[S]/255,R=h[S]/255,M=new Array(w+1);for(let N=0;N<=w;N++)M[N]=T+N/w*(R-T);return M.join(",")};return this.#g(b(0,5),b(1,5),b(2,5),y),l.url=this.#l(g),l.url}addAlphaFilter(t){let e=this.#o.get(t);if(e)return e;const[s]=this.#d([t]),a=`alpha_${s}`;if(e=this.#o.get(a),e)return this.#o.set(t,e),e;const l=`g_${this.#s}_alpha_map_${this.#r++}`,c=this.#l(l);this.#o.set(t,c),this.#o.set(a,c);const h=this.#f(l);return this.#v(s,h),c}addLuminosityFilter(t){let e=this.#o.get(t||"luminosity");if(e)return e;let s,a;if(t?([s]=this.#d([t]),a=`luminosity_${s}`):a="luminosity",e=this.#o.get(a),e)return this.#o.set(t,e),e;const l=`g_${this.#s}_luminosity_map_${this.#r++}`,c=this.#l(l);this.#o.set(t,c),this.#o.set(a,c);const h=this.#f(l);return this.#p(h),t&&this.#v(s,h),c}addHighlightHCMFilter(t,e,s,a,l){const c=`${e}-${s}-${a}-${l}`;let h=this.#u.get(t);if(h?.key===c||(h?(h.filter?.remove(),h.key=c,h.url="none",h.filter=null):(h={key:c,url:"none",filter:null},this.#u.set(t,h)),!e||!s))return h.url;const[d,f]=[e,s].map(this.#y.bind(this));let g=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),y=Math.round(.2126*f[0]+.7152*f[1]+.0722*f[2]),[b,S]=[a,l].map(this.#y.bind(this));y<g&&([g,y,b,S]=[y,g,S,b]),this.#c.style.color="";const w=(M,N,C)=>{const v=new Array(256),A=(y-g)/C,_=M/255,D=(N-M)/(255*C);let P=0;for(let L=0;L<=C;L++){const q=Math.round(g+L*A),X=_+L*D;for(let tt=P;tt<=q;tt++)v[tt]=X;P=q+1}for(let L=P;L<256;L++)v[L]=v[P-1];return v.join(",")},T=`g_${this.#s}_hcm_${t}_filter`,R=h.filter=this.#f(T);return this.#m(R),this.#g(w(b[0],S[0],5),w(b[1],S[1],5),w(b[2],S[2],5),R),h.url=this.#l(T),h.url}destroy(t=!1){t&&this.#n?.size||(this.#i?.parentNode.parentNode.remove(),this.#i=null,this.#e?.clear(),this.#e=null,this.#n?.clear(),this.#n=null,this.#r=0)}#p(t){const e=this.#a.createElementNS(Zi,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(e)}#m(t){const e=this.#a.createElementNS(Zi,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(e)}#f(t){const e=this.#a.createElementNS(Zi,"filter");return e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("id",t),this.#c.append(e),e}#h(t,e,s){const a=this.#a.createElementNS(Zi,e);a.setAttribute("type","discrete"),a.setAttribute("tableValues",s),t.append(a)}#g(t,e,s,a){const l=this.#a.createElementNS(Zi,"feComponentTransfer");a.append(l),this.#h(l,"feFuncR",t),this.#h(l,"feFuncG",e),this.#h(l,"feFuncB",s)}#v(t,e){const s=this.#a.createElementNS(Zi,"feComponentTransfer");e.append(s),this.#h(s,"feFuncA",t)}#y(t){return this.#c.style.color=t,nc(getComputedStyle(this.#c).getPropertyValue("color"))}}class nA{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(s=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){jt("Abstract method `_fetch` called.")}}class K0 extends nA{async _fetch(t){const e=await eo(t,"arraybuffer");return new Uint8Array(e)}}class aA{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(s=>{throw new Error(`Unable to load wasm data at: ${e}`)})}async _fetch(t){jt("Abstract method `_fetch` called.")}}class Q0 extends aA{async _fetch(t){const e=await eo(t,"arraybuffer");return new Uint8Array(e)}}De&&vt("Please use the `legacy` build in Node.js environments.");async function gf(r){const e=await process.getBuiltinModule("fs").promises.readFile(r);return new Uint8Array(e)}class zC extends sA{}class FC extends eA{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}}class HC extends iA{async _fetch(t){return gf(t)}}class VC extends nA{async _fetch(t){return gf(t)}}class UC extends aA{async _fetch(t){return gf(t)}}const Se={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function xd(r,t){if(!t)return;const e=t[2]-t[0],s=t[3]-t[1],a=new Path2D;a.rect(t[0],t[1],e,s),r.clip(a)}class mf{isModifyingCurrentTransform(){return!1}getPattern(){jt("Abstract method `getPattern` called.")}}class GC extends mf{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const s of this._colorStops)e.addColorStop(s[0],s[1]);return e}getPattern(t,e,s,a){let l;if(a===Se.STROKE||a===Se.FILL){const c=e.current.getClippedPathBoundingBox(a,Xt(t))||[0,0,0,0],h=Math.ceil(c[2]-c[0])||1,d=Math.ceil(c[3]-c[1])||1,f=e.cachedCanvases.getCanvas("pattern",h,d),g=f.context;g.clearRect(0,0,g.canvas.width,g.canvas.height),g.beginPath(),g.rect(0,0,g.canvas.width,g.canvas.height),g.translate(-c[0],-c[1]),s=lt.transform(s,[1,0,0,1,c[0],c[1]]),g.transform(...e.baseTransform),this.matrix&&g.transform(...this.matrix),xd(g,this._bbox),g.fillStyle=this._createGradient(g),g.fill(),l=t.createPattern(f.canvas,"no-repeat");const y=new DOMMatrix(s);l.setTransform(y)}else xd(t,this._bbox),l=this._createGradient(t);return l}}function qh(r,t,e,s,a,l,c,h){const d=t.coords,f=t.colors,g=r.data,y=r.width*4;let b;d[e+1]>d[s+1]&&(b=e,e=s,s=b,b=l,l=c,c=b),d[s+1]>d[a+1]&&(b=s,s=a,a=b,b=c,c=h,h=b),d[e+1]>d[s+1]&&(b=e,e=s,s=b,b=l,l=c,c=b);const S=(d[e]+t.offsetX)*t.scaleX,w=(d[e+1]+t.offsetY)*t.scaleY,T=(d[s]+t.offsetX)*t.scaleX,R=(d[s+1]+t.offsetY)*t.scaleY,M=(d[a]+t.offsetX)*t.scaleX,N=(d[a+1]+t.offsetY)*t.scaleY;if(w>=N)return;const C=f[l],v=f[l+1],A=f[l+2],_=f[c],D=f[c+1],P=f[c+2],L=f[h],q=f[h+1],X=f[h+2],tt=Math.round(w),at=Math.round(N);let it,pt,j,U,et,yt,I,W;for(let J=tt;J<=at;J++){if(J<R){const Ct=J<w?0:(w-J)/(w-R);it=S-(S-T)*Ct,pt=C-(C-_)*Ct,j=v-(v-D)*Ct,U=A-(A-P)*Ct}else{let Ct;J>N?Ct=1:R===N?Ct=0:Ct=(R-J)/(R-N),it=T-(T-M)*Ct,pt=_-(_-L)*Ct,j=D-(D-q)*Ct,U=P-(P-X)*Ct}let Z;J<w?Z=0:J>N?Z=1:Z=(w-J)/(w-N),et=S-(S-M)*Z,yt=C-(C-L)*Z,I=v-(v-q)*Z,W=A-(A-X)*Z;const rt=Math.round(Math.min(it,et)),At=Math.round(Math.max(it,et));let ct=y*J+rt*4;for(let Ct=rt;Ct<=At;Ct++)Z=(it-Ct)/(it-et),Z<0?Z=0:Z>1&&(Z=1),g[ct++]=pt-(pt-yt)*Z|0,g[ct++]=j-(j-I)*Z|0,g[ct++]=U-(U-W)*Z|0,g[ct++]=255}}function qC(r,t,e){const s=t.coords,a=t.colors;let l,c;switch(t.type){case"lattice":const h=t.verticesPerRow,d=Math.floor(s.length/h)-1,f=h-1;for(l=0;l<d;l++){let g=l*h;for(let y=0;y<f;y++,g++)qh(r,e,s[g],s[g+1],s[g+h],a[g],a[g+1],a[g+h]),qh(r,e,s[g+h+1],s[g+1],s[g+h],a[g+h+1],a[g+1],a[g+h])}break;case"triangles":for(l=0,c=s.length;l<c;l+=3)qh(r,e,s[l],s[l+1],s[l+2],a[l],a[l+1],a[l+2]);break;default:throw new Error("illegal figure")}}class XC extends mf{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,s){const h=Math.floor(this._bounds[0]),d=Math.floor(this._bounds[1]),f=Math.ceil(this._bounds[2])-h,g=Math.ceil(this._bounds[3])-d,y=Math.min(Math.ceil(Math.abs(f*t[0]*1.1)),3e3),b=Math.min(Math.ceil(Math.abs(g*t[1]*1.1)),3e3),S=f/y,w=g/b,T={coords:this._coords,colors:this._colors,offsetX:-h,offsetY:-d,scaleX:1/S,scaleY:1/w},R=y+4,M=b+4,N=s.getCanvas("mesh",R,M),C=N.context,v=C.createImageData(y,b);if(e){const _=v.data;for(let D=0,P=_.length;D<P;D+=4)_[D]=e[0],_[D+1]=e[1],_[D+2]=e[2],_[D+3]=255}for(const _ of this._figures)qC(v,_,T);return C.putImageData(v,2,2),{canvas:N.canvas,offsetX:h-2*S,offsetY:d-2*w,scaleX:S,scaleY:w}}isModifyingCurrentTransform(){return!0}getPattern(t,e,s,a){xd(t,this._bbox);const l=new Float32Array(2);if(a===Se.SHADING)lt.singularValueDecompose2dScale(Xt(t),l);else if(this.matrix){lt.singularValueDecompose2dScale(this.matrix,l);const[h,d]=l;lt.singularValueDecompose2dScale(e.baseTransform,l),l[0]*=h,l[1]*=d}else lt.singularValueDecompose2dScale(e.baseTransform,l);const c=this._createMeshCanvas(l,a===Se.SHADING?null:this._background,e.cachedCanvases);return a!==Se.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(c.offsetX,c.offsetY),t.scale(c.scaleX,c.scaleY),t.createPattern(c.canvas,"no-repeat")}}class YC extends mf{getPattern(){return"hotpink"}}function $C(r){switch(r[0]){case"RadialAxial":return new GC(r);case"Mesh":return new XC(r);case"Dummy":return new YC}throw new Error(`Unknown IR type: ${r[0]}`)}const Z0={COLORED:1,UNCOLORED:2};class yf{static MAX_PATTERN_SIZE=3e3;constructor(t,e,s,a){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=e,this.canvasGraphicsFactory=s,this.baseTransform=a}createPatternCanvas(t){const{bbox:e,operatorList:s,paintType:a,tilingType:l,color:c,canvasGraphicsFactory:h}=this;let{xstep:d,ystep:f}=this;d=Math.abs(d),f=Math.abs(f),ic("TilingType: "+l);const g=e[0],y=e[1],b=e[2],S=e[3],w=b-g,T=S-y,R=new Float32Array(2);lt.singularValueDecompose2dScale(this.matrix,R);const[M,N]=R;lt.singularValueDecompose2dScale(this.baseTransform,R);const C=M*R[0],v=N*R[1];let A=w,_=T,D=!1,P=!1;const L=Math.ceil(d*C),q=Math.ceil(f*v),X=Math.ceil(w*C),tt=Math.ceil(T*v);L>=X?A=d:D=!0,q>=tt?_=f:P=!0;const at=this.getSizeAndScale(A,this.ctx.canvas.width,C),it=this.getSizeAndScale(_,this.ctx.canvas.height,v),pt=t.cachedCanvases.getCanvas("pattern",at.size,it.size),j=pt.context,U=h.createCanvasGraphics(j);if(U.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(U,a,c),j.translate(-at.scale*g,-it.scale*y),U.transform(at.scale,0,0,it.scale,0,0),j.save(),this.clipBbox(U,g,y,b,S),U.baseTransform=Xt(U.ctx),U.executeOperatorList(s),U.endDrawing(),j.restore(),D||P){const et=pt.canvas;D&&(A=d),P&&(_=f);const yt=this.getSizeAndScale(A,this.ctx.canvas.width,C),I=this.getSizeAndScale(_,this.ctx.canvas.height,v),W=yt.size,J=I.size,Z=t.cachedCanvases.getCanvas("pattern-workaround",W,J),rt=Z.context,At=D?Math.floor(w/d):0,ct=P?Math.floor(T/f):0;for(let Ct=0;Ct<=At;Ct++)for(let Lt=0;Lt<=ct;Lt++)rt.drawImage(et,W*Ct,J*Lt,W,J,0,0,W,J);return{canvas:Z.canvas,scaleX:yt.scale,scaleY:I.scale,offsetX:g,offsetY:y}}return{canvas:pt.canvas,scaleX:at.scale,scaleY:it.scale,offsetX:g,offsetY:y}}getSizeAndScale(t,e,s){const a=Math.max(yf.MAX_PATTERN_SIZE,e);let l=Math.ceil(t*s);return l>=a?l=a:s=l/t,{scale:s,size:l}}clipBbox(t,e,s,a,l){const c=a-e,h=l-s;t.ctx.rect(e,s,c,h),lt.axialAlignedBoundingBox([e,s,a,l],Xt(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,s){const a=t.ctx,l=t.current;switch(e){case Z0.COLORED:const{fillStyle:c,strokeStyle:h}=this.ctx;a.fillStyle=l.fillColor=c,a.strokeStyle=l.strokeColor=h;break;case Z0.UNCOLORED:a.fillStyle=a.strokeStyle=s,l.fillColor=l.strokeColor=s;break;default:throw new fC(`Unsupported paint type: ${e}`)}}isModifyingCurrentTransform(){return!1}getPattern(t,e,s,a){let l=s;a!==Se.SHADING&&(l=lt.transform(l,e.baseTransform),this.matrix&&(l=lt.transform(l,this.matrix)));const c=this.createPatternCanvas(e);let h=new DOMMatrix(l);h=h.translate(c.offsetX,c.offsetY),h=h.scale(1/c.scaleX,1/c.scaleY);const d=t.createPattern(c.canvas,"repeat");return d.setTransform(h),d}}function WC({src:r,srcPos:t=0,dest:e,width:s,height:a,nonBlackColor:l=4294967295,inverseDecode:c=!1}){const h=xe.isLittleEndian?4278190080:255,[d,f]=c?[l,h]:[h,l],g=s>>3,y=s&7,b=r.length;e=new Uint32Array(e.buffer);let S=0;for(let w=0;w<a;w++){for(const R=t+g;t<R;t++){const M=t<b?r[t]:255;e[S++]=M&128?f:d,e[S++]=M&64?f:d,e[S++]=M&32?f:d,e[S++]=M&16?f:d,e[S++]=M&8?f:d,e[S++]=M&4?f:d,e[S++]=M&2?f:d,e[S++]=M&1?f:d}if(y===0)continue;const T=t<b?r[t++]:255;for(let R=0;R<y;R++)e[S++]=T&1<<7-R?f:d}return{srcPos:t,destPos:S}}const J0=16,tb=100,KC=15,eb=10,He=16,Xh=new DOMMatrix,Je=new Float32Array(2),da=new Float32Array([1/0,1/0,-1/0,-1/0]);function QC(r,t){if(r._removeMirroring)throw new Error("Context is already forwarding operations.");r.__originalSave=r.save,r.__originalRestore=r.restore,r.__originalRotate=r.rotate,r.__originalScale=r.scale,r.__originalTranslate=r.translate,r.__originalTransform=r.transform,r.__originalSetTransform=r.setTransform,r.__originalResetTransform=r.resetTransform,r.__originalClip=r.clip,r.__originalMoveTo=r.moveTo,r.__originalLineTo=r.lineTo,r.__originalBezierCurveTo=r.bezierCurveTo,r.__originalRect=r.rect,r.__originalClosePath=r.closePath,r.__originalBeginPath=r.beginPath,r._removeMirroring=()=>{r.save=r.__originalSave,r.restore=r.__originalRestore,r.rotate=r.__originalRotate,r.scale=r.__originalScale,r.translate=r.__originalTranslate,r.transform=r.__originalTransform,r.setTransform=r.__originalSetTransform,r.resetTransform=r.__originalResetTransform,r.clip=r.__originalClip,r.moveTo=r.__originalMoveTo,r.lineTo=r.__originalLineTo,r.bezierCurveTo=r.__originalBezierCurveTo,r.rect=r.__originalRect,r.closePath=r.__originalClosePath,r.beginPath=r.__originalBeginPath,delete r._removeMirroring},r.save=function(){t.save(),this.__originalSave()},r.restore=function(){t.restore(),this.__originalRestore()},r.translate=function(e,s){t.translate(e,s),this.__originalTranslate(e,s)},r.scale=function(e,s){t.scale(e,s),this.__originalScale(e,s)},r.transform=function(e,s,a,l,c,h){t.transform(e,s,a,l,c,h),this.__originalTransform(e,s,a,l,c,h)},r.setTransform=function(e,s,a,l,c,h){t.setTransform(e,s,a,l,c,h),this.__originalSetTransform(e,s,a,l,c,h)},r.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},r.rotate=function(e){t.rotate(e),this.__originalRotate(e)},r.clip=function(e){t.clip(e),this.__originalClip(e)},r.moveTo=function(e,s){t.moveTo(e,s),this.__originalMoveTo(e,s)},r.lineTo=function(e,s){t.lineTo(e,s),this.__originalLineTo(e,s)},r.bezierCurveTo=function(e,s,a,l,c,h){t.bezierCurveTo(e,s,a,l,c,h),this.__originalBezierCurveTo(e,s,a,l,c,h)},r.rect=function(e,s,a,l){t.rect(e,s,a,l),this.__originalRect(e,s,a,l)},r.closePath=function(){t.closePath(),this.__originalClosePath()},r.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class ZC{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,s){let a;return this.cache[t]!==void 0?(a=this.cache[t],this.canvasFactory.reset(a,e,s)):(a=this.canvasFactory.create(e,s),this.cache[t]=a),a}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function Dl(r,t,e,s,a,l,c,h,d,f){const[g,y,b,S,w,T]=Xt(r);if(y===0&&b===0){const N=c*g+w,C=Math.round(N),v=h*S+T,A=Math.round(v),_=(c+d)*g+w,D=Math.abs(Math.round(_)-C)||1,P=(h+f)*S+T,L=Math.abs(Math.round(P)-A)||1;return r.setTransform(Math.sign(g),0,0,Math.sign(S),C,A),r.drawImage(t,e,s,a,l,0,0,D,L),r.setTransform(g,y,b,S,w,T),[D,L]}if(g===0&&S===0){const N=h*b+w,C=Math.round(N),v=c*y+T,A=Math.round(v),_=(h+f)*b+w,D=Math.abs(Math.round(_)-C)||1,P=(c+d)*y+T,L=Math.abs(Math.round(P)-A)||1;return r.setTransform(0,Math.sign(y),Math.sign(b),0,C,A),r.drawImage(t,e,s,a,l,0,0,L,D),r.setTransform(g,y,b,S,w,T),[L,D]}r.drawImage(t,e,s,a,l,c,h,d,f);const R=Math.hypot(g,y),M=Math.hypot(b,S);return[R*d,M*f]}class ib{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=md;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=Ee.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(t,e){this.clipBox=new Float32Array([0,0,t,e]),this.minMax=da.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(t=Se.FILL,e=null){const s=this.minMax.slice();if(t===Se.STROKE){e||jt("Stroke bounding box must include transform."),lt.singularValueDecompose2dScale(e,Je);const a=Je[0]*this.lineWidth/2,l=Je[1]*this.lineWidth/2;s[0]-=a,s[1]-=l,s[2]+=a,s[3]+=l}return s}updateClipFromPath(){const t=lt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(da,0)}getClippedPathBoundingBox(t=Se.FILL,e=null){return lt.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function sb(r,t){if(t instanceof ImageData){r.putImageData(t,0,0);return}const e=t.height,s=t.width,a=e%He,l=(e-a)/He,c=a===0?l:l+1,h=r.createImageData(s,He);let d=0,f;const g=t.data,y=h.data;let b,S,w,T;if(t.kind===jl.GRAYSCALE_1BPP){const R=g.byteLength,M=new Uint32Array(y.buffer,0,y.byteLength>>2),N=M.length,C=s+7>>3,v=4294967295,A=xe.isLittleEndian?4278190080:255;for(b=0;b<c;b++){for(w=b<l?He:a,f=0,S=0;S<w;S++){const _=R-d;let D=0;const P=_>C?s:_*8-7,L=P&-8;let q=0,X=0;for(;D<L;D+=8)X=g[d++],M[f++]=X&128?v:A,M[f++]=X&64?v:A,M[f++]=X&32?v:A,M[f++]=X&16?v:A,M[f++]=X&8?v:A,M[f++]=X&4?v:A,M[f++]=X&2?v:A,M[f++]=X&1?v:A;for(;D<P;D++)q===0&&(X=g[d++],q=128),M[f++]=X&q?v:A,q>>=1}for(;f<N;)M[f++]=0;r.putImageData(h,0,b*He)}}else if(t.kind===jl.RGBA_32BPP){for(S=0,T=s*He*4,b=0;b<l;b++)y.set(g.subarray(d,d+T)),d+=T,r.putImageData(h,0,S),S+=He;b<c&&(T=s*a*4,y.set(g.subarray(d,d+T)),r.putImageData(h,0,S))}else if(t.kind===jl.RGB_24BPP)for(w=He,T=s*w,b=0;b<c;b++){for(b>=l&&(w=a,T=s*w),f=0,S=T;S--;)y[f++]=g[d++],y[f++]=g[d++],y[f++]=g[d++],y[f++]=255;r.putImageData(h,0,b*He)}else throw new Error(`bad image kind: ${t.kind}`)}function nb(r,t){if(t.bitmap){r.drawImage(t.bitmap,0,0);return}const e=t.height,s=t.width,a=e%He,l=(e-a)/He,c=a===0?l:l+1,h=r.createImageData(s,He);let d=0;const f=t.data,g=h.data;for(let y=0;y<c;y++){const b=y<l?He:a;({srcPos:d}=WC({src:f,srcPos:d,dest:g,width:s,height:b,nonBlackColor:0})),r.putImageData(h,0,y*He)}}function Er(r,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const s of e)r[s]!==void 0&&(t[s]=r[s]);r.setLineDash!==void 0&&(t.setLineDash(r.getLineDash()),t.lineDashOffset=r.lineDashOffset)}function Pl(r){r.strokeStyle=r.fillStyle="#000000",r.fillRule="nonzero",r.globalAlpha=1,r.lineWidth=1,r.lineCap="butt",r.lineJoin="miter",r.miterLimit=10,r.globalCompositeOperation="source-over",r.font="10px sans-serif",r.setLineDash!==void 0&&(r.setLineDash([]),r.lineDashOffset=0);const{filter:t}=r;t!=="none"&&t!==""&&(r.filter="none")}function ab(r,t){if(t)return!0;lt.singularValueDecompose2dScale(r,Je);const e=Math.fround(Ii.pixelRatio*Aa.PDF_TO_CSS_UNITS);return Je[0]<=e&&Je[1]<=e}const JC=["butt","round","square"],tM=["miter","round","bevel"],eM={},rb={};class ga{constructor(t,e,s,a,l,{optionalContentConfig:c,markedContentStack:h=null},d,f){this.ctx=t,this.current=new ib(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=s,this.canvasFactory=a,this.filterFactory=l,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=h||[],this.optionalContentConfig=c,this.cachedCanvases=new ZC(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=d,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=f,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:s=!1,background:a=null}){const l=this.ctx.canvas.width,c=this.ctx.canvas.height,h=this.ctx.fillStyle;if(this.ctx.fillStyle=a||"#ffffff",this.ctx.fillRect(0,0,l,c),this.ctx.fillStyle=h,s){const d=this.cachedCanvases.getCanvas("transparent",l,c);this.compositeCtx=this.ctx,this.transparentCanvas=d.canvas,this.ctx=d.context,this.ctx.save(),this.ctx.transform(...Xt(this.compositeCtx))}this.ctx.save(),Pl(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=Xt(this.ctx)}executeOperatorList(t,e,s,a){const l=t.argsArray,c=t.fnArray;let h=e||0;const d=l.length;if(d===h)return h;const f=d-h>eb&&typeof s=="function",g=f?Date.now()+KC:0;let y=0;const b=this.commonObjs,S=this.objs;let w;for(;;){if(a!==void 0&&h===a.nextBreakPoint)return a.breakIt(h,s),h;if(w=c[h],w!==Xl.dependency)this[w].apply(this,l[h]);else for(const T of l[h]){const R=T.startsWith("g_")?b:S;if(!R.has(T))return R.get(T,s),h}if(h++,h===d)return h;if(f&&++y>eb){if(Date.now()>g)return s(),h;y=0}}}#t(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#t(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),this.#e()}#e(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}}_scaleImage(t,e){const s=t.width??t.displayWidth,a=t.height??t.displayHeight;let l=Math.max(Math.hypot(e[0],e[1]),1),c=Math.max(Math.hypot(e[2],e[3]),1),h=s,d=a,f="prescale1",g,y;for(;l>2&&h>1||c>2&&d>1;){let b=h,S=d;l>2&&h>1&&(b=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h/2),l/=h/b),c>2&&d>1&&(S=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d)/2,c/=d/S),g=this.cachedCanvases.getCanvas(f,b,S),y=g.context,y.clearRect(0,0,b,S),y.drawImage(t,0,0,h,d,0,0,b,S),t=g.canvas,h=b,d=S,f=f==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:h,paintHeight:d}}_createMaskCanvas(t){const e=this.ctx,{width:s,height:a}=t,l=this.current.fillColor,c=this.current.patternFill,h=Xt(e);let d,f,g,y;if((t.bitmap||t.data)&&t.count>1){const L=t.bitmap||t.data.buffer;f=JSON.stringify(c?h:[h.slice(0,4),l]),d=this._cachedBitmapsMap.get(L),d||(d=new Map,this._cachedBitmapsMap.set(L,d));const q=d.get(f);if(q&&!c){const X=Math.round(Math.min(h[0],h[2])+h[4]),tt=Math.round(Math.min(h[1],h[3])+h[5]);return{canvas:q,offsetX:X,offsetY:tt}}g=q}g||(y=this.cachedCanvases.getCanvas("maskCanvas",s,a),nb(y.context,t));let b=lt.transform(h,[1/s,0,0,-1/a,0,0]);b=lt.transform(b,[1,0,0,1,0,-a]);const S=da.slice();lt.axialAlignedBoundingBox([0,0,s,a],b,S);const[w,T,R,M]=S,N=Math.round(R-w)||1,C=Math.round(M-T)||1,v=this.cachedCanvases.getCanvas("fillCanvas",N,C),A=v.context,_=w,D=T;A.translate(-_,-D),A.transform(...b),g||(g=this._scaleImage(y.canvas,Ri(A)),g=g.img,d&&c&&d.set(f,g)),A.imageSmoothingEnabled=ab(Xt(A),t.interpolate),Dl(A,g,0,0,g.width,g.height,0,0,s,a),A.globalCompositeOperation="source-in";const P=lt.transform(Ri(A),[1,0,0,1,-_,-D]);return A.fillStyle=c?l.getPattern(e,this,P,Se.FILL):l,A.fillRect(0,0,s,a),d&&!c&&(this.cachedCanvases.delete("fillCanvas"),d.set(f,v.canvas)),{canvas:v.canvas,offsetX:Math.round(_),offsetY:Math.round(D)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=JC[t]}setLineJoin(t){this.ctx.lineJoin=tM[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const s=this.ctx;s.setLineDash!==void 0&&(s.setLineDash(t),s.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,s]of t)switch(e){case"LW":this.setLineWidth(s);break;case"LC":this.setLineCap(s);break;case"LJ":this.setLineJoin(s);break;case"ML":this.setMiterLimit(s);break;case"D":this.setDash(s[0],s[1]);break;case"RI":this.setRenderingIntent(s);break;case"FL":this.setFlatness(s);break;case"Font":this.setFont(s[0],s[1]);break;case"CA":this.current.strokeAlpha=s;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=s;break;case"BM":this.ctx.globalCompositeOperation=s;break;case"SMask":this.current.activeSMask=s?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(s);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,s="smaskGroupAt"+this.groupLevel,a=this.cachedCanvases.getCanvas(s,t,e);this.suspendedCtx=this.ctx;const l=this.ctx=a.context;l.setTransform(this.suspendedCtx.getTransform()),Er(this.suspendedCtx,l),QC(l,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Er(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,s=this.suspendedCtx;this.composeSMask(s,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,s,a){const l=a[0],c=a[1],h=a[2]-l,d=a[3]-c;h===0||d===0||(this.genericComposeSMask(e.context,s,h,d,e.subtype,e.backdrop,e.transferMap,l,c,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(s.canvas,0,0),t.restore())}genericComposeSMask(t,e,s,a,l,c,h,d,f,g,y){let b=t.canvas,S=d-g,w=f-y;if(c)if(S<0||w<0||S+s>b.width||w+a>b.height){const R=this.cachedCanvases.getCanvas("maskExtension",s,a),M=R.context;M.drawImage(b,-S,-w),M.globalCompositeOperation="destination-atop",M.fillStyle=c,M.fillRect(0,0,s,a),M.globalCompositeOperation="source-over",b=R.canvas,S=w=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const R=new Path2D;R.rect(S,w,s,a),t.clip(R),t.globalCompositeOperation="destination-atop",t.fillStyle=c,t.fillRect(S,w,s,a),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),l==="Alpha"&&h?e.filter=this.filterFactory.addAlphaFilter(h):l==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(h));const T=new Path2D;T.rect(d,f,s,a),e.clip(T),e.globalCompositeOperation="destination-in",e.drawImage(b,S,w,s,a,d,f,s,a),e.restore()}save(){this.inSMaskMode&&Er(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){if(this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Er(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(t,e,s,a,l,c){this.ctx.transform(t,e,s,a,l,c),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,s){let[a]=e;if(!s){a||=e[0]=new Path2D,this[t](a);return}if(!(a instanceof Path2D)){const l=e[0]=new Path2D;for(let c=0,h=a.length;c<h;)switch(a[c++]){case El.moveTo:l.moveTo(a[c++],a[c++]);break;case El.lineTo:l.lineTo(a[c++],a[c++]);break;case El.curveTo:l.bezierCurveTo(a[c++],a[c++],a[c++],a[c++],a[c++],a[c++]);break;case El.closePath:l.closePath();break;default:vt(`Unrecognized drawing path operator: ${a[c-1]}`);break}a=l}lt.axialAlignedBoundingBox(s,Xt(this.ctx),this.current.minMax),this[t](a)}closePath(){this.ctx.closePath()}stroke(t,e=!0){const s=this.ctx,a=this.current.strokeColor;if(s.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof a=="object"&&a?.getPattern){const l=a.isModifyingCurrentTransform()?s.getTransform():null;if(s.save(),s.strokeStyle=a.getPattern(s,this,Ri(s),Se.STROKE),l){const c=new Path2D;c.addPath(t,s.getTransform().invertSelf().multiplySelf(l)),t=c}this.rescaleAndStroke(t,!1),s.restore()}else this.rescaleAndStroke(t,!0);e&&this.consumePath(t,this.current.getClippedPathBoundingBox(Se.STROKE,Xt(this.ctx))),s.globalAlpha=this.current.fillAlpha}closeStroke(t){this.stroke(t)}fill(t,e=!0){const s=this.ctx,a=this.current.fillColor,l=this.current.patternFill;let c=!1;if(l){const d=a.isModifyingCurrentTransform()?s.getTransform():null;if(s.save(),s.fillStyle=a.getPattern(s,this,Ri(s),Se.FILL),d){const f=new Path2D;f.addPath(t,s.getTransform().invertSelf().multiplySelf(d)),t=f}c=!0}const h=this.current.getClippedPathBoundingBox();this.contentVisible&&h!==null&&(this.pendingEOFill?(s.fill(t,"evenodd"),this.pendingEOFill=!1):s.fill(t)),c&&s.restore(),e&&this.consumePath(t,h)}eoFill(t){this.pendingEOFill=!0,this.fill(t)}fillStroke(t){this.fill(t,!1),this.stroke(t,!1),this.consumePath(t)}eoFillStroke(t){this.pendingEOFill=!0,this.fillStroke(t)}closeFillStroke(t){this.fillStroke(t)}closeEOFillStroke(t){this.pendingEOFill=!0,this.fillStroke(t)}endPath(t){this.consumePath(t)}rawFillPath(t){this.ctx.fill(t)}clip(){this.pendingClip=eM}eoClip(){this.pendingClip=rb}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0)return;const s=new Path2D,a=e.getTransform().invertSelf();for(const{transform:l,x:c,y:h,fontSize:d,path:f}of t)f&&s.addPath(f,new DOMMatrix(l).preMultiplySelf(a).translate(c,h).scale(d,-d));e.clip(s),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){const s=this.commonObjs.get(t),a=this.current;if(!s)throw new Error(`Can't find font for ${t}`);if(a.fontMatrix=s.fontMatrix||md,(a.fontMatrix[0]===0||a.fontMatrix[3]===0)&&vt("Invalid font matrix for font "+t),e<0?(e=-e,a.fontDirection=-1):a.fontDirection=1,this.current.font=s,this.current.fontSize=e,s.isType3Font)return;const l=s.loadedName||"sans-serif",c=s.systemFontInfo?.css||`"${l}", ${s.fallbackName}`;let h="normal";s.black?h="900":s.bold&&(h="bold");const d=s.italic?"italic":"normal";let f=e;e<J0?f=J0:e>tb&&(f=tb),this.current.fontSizeScale=e/f,this.ctx.font=`${d} ${h} ${f}px ${c}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t){const{current:e}=this;e.textMatrix=t,e.textMatrixScale=Math.hypot(t[0],t[1]),e.x=e.lineX=0,e.y=e.lineY=0}nextLine(){this.moveText(0,this.current.leading)}#i(t,e,s){const a=new Path2D;return a.addPath(t,new DOMMatrix(s).invertSelf().multiplySelf(e)),a}paintChar(t,e,s,a,l){const c=this.ctx,h=this.current,d=h.font,f=h.textRenderingMode,g=h.fontSize/h.fontSizeScale,y=f&Ee.FILL_STROKE_MASK,b=!!(f&Ee.ADD_TO_PATH_FLAG),S=h.patternFill&&!d.missingFile,w=h.patternStroke&&!d.missingFile;let T;if((d.disableFontFace||b||S||w)&&!d.missingFile&&(T=d.getPathGenerator(this.commonObjs,t)),T&&(d.disableFontFace||S||w)){c.save(),c.translate(e,s),c.scale(g,-g);let R;if((y===Ee.FILL||y===Ee.FILL_STROKE)&&(a?(R=c.getTransform(),c.setTransform(...a),c.fill(this.#i(T,R,a))):c.fill(T)),y===Ee.STROKE||y===Ee.FILL_STROKE)if(l){R||=c.getTransform(),c.setTransform(...l);const{a:M,b:N,c:C,d:v}=R,A=lt.inverseTransform(l),_=lt.transform([M,N,C,v,0,0],A);lt.singularValueDecompose2dScale(_,Je),c.lineWidth*=Math.max(Je[0],Je[1])/g,c.stroke(this.#i(T,R,l))}else c.lineWidth/=g,c.stroke(T);c.restore()}else(y===Ee.FILL||y===Ee.FILL_STROKE)&&c.fillText(t,e,s),(y===Ee.STROKE||y===Ee.FILL_STROKE)&&c.strokeText(t,e,s);b&&(this.pendingTextPaths||=[]).push({transform:Xt(c),x:e,y:s,fontSize:g,path:T})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let s=!1;for(let a=3;a<e.length;a+=4)if(e[a]>0&&e[a]<255){s=!0;break}return Tt(this,"isFontSubpixelAAEnabled",s)}showText(t){const e=this.current,s=e.font;if(s.isType3Font)return this.showType3Text(t);const a=e.fontSize;if(a===0)return;const l=this.ctx,c=e.fontSizeScale,h=e.charSpacing,d=e.wordSpacing,f=e.fontDirection,g=e.textHScale*f,y=t.length,b=s.vertical,S=b?1:-1,w=s.defaultVMetrics,T=a*e.fontMatrix[0],R=e.textRenderingMode===Ee.FILL&&!s.disableFontFace&&!e.patternFill;l.save(),e.textMatrix&&l.transform(...e.textMatrix),l.translate(e.x,e.y+e.textRise),f>0?l.scale(g,-1):l.scale(g,1);let M,N;if(e.patternFill){l.save();const D=e.fillColor.getPattern(l,this,Ri(l),Se.FILL);M=Xt(l),l.restore(),l.fillStyle=D}if(e.patternStroke){l.save();const D=e.strokeColor.getPattern(l,this,Ri(l),Se.STROKE);N=Xt(l),l.restore(),l.strokeStyle=D}let C=e.lineWidth;const v=e.textMatrixScale;if(v===0||C===0){const D=e.textRenderingMode&Ee.FILL_STROKE_MASK;(D===Ee.STROKE||D===Ee.FILL_STROKE)&&(C=this.getSinglePixelWidth())}else C/=v;if(c!==1&&(l.scale(c,c),C/=c),l.lineWidth=C,s.isInvalidPDFjsFont){const D=[];let P=0;for(const L of t)D.push(L.unicode),P+=L.width;l.fillText(D.join(""),0,0),e.x+=P*T*g,l.restore(),this.compose();return}let A=0,_;for(_=0;_<y;++_){const D=t[_];if(typeof D=="number"){A+=S*D*a/1e3;continue}let P=!1;const L=(D.isSpace?d:0)+h,q=D.fontChar,X=D.accent;let tt,at,it=D.width;if(b){const j=D.vmetric||w,U=-(D.vmetric?j[1]:it*.5)*T,et=j[2]*T;it=j?-j[0]:it,tt=U/c,at=(A+et)/c}else tt=A/c,at=0;if(s.remeasure&&it>0){const j=l.measureText(q).width*1e3/a*c;if(it<j&&this.isFontSubpixelAAEnabled){const U=it/j;P=!0,l.save(),l.scale(U,1),tt/=U}else it!==j&&(tt+=(it-j)/2e3*a/c)}if(this.contentVisible&&(D.isInFont||s.missingFile)){if(R&&!X)l.fillText(q,tt,at);else if(this.paintChar(q,tt,at,M,N),X){const j=tt+a*X.offset.x/c,U=at-a*X.offset.y/c;this.paintChar(X.fontChar,j,U,M,N)}}const pt=b?it*T-L*f:it*T+L*f;A+=pt,P&&l.restore()}b?e.y-=A:e.x+=A*g,l.restore(),this.compose()}showType3Text(t){const e=this.ctx,s=this.current,a=s.font,l=s.fontSize,c=s.fontDirection,h=a.vertical?1:-1,d=s.charSpacing,f=s.wordSpacing,g=s.textHScale*c,y=s.fontMatrix||md,b=t.length,S=s.textRenderingMode===Ee.INVISIBLE;let w,T,R,M;if(!(S||l===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),s.textMatrix&&e.transform(...s.textMatrix),e.translate(s.x,s.y+s.textRise),e.scale(g,c),w=0;w<b;++w){if(T=t[w],typeof T=="number"){M=h*T*l/1e3,this.ctx.translate(M,0),s.x+=M*g;continue}const N=(T.isSpace?f:0)+d,C=a.charProcOperatorList[T.operatorListId];C?this.contentVisible&&(this.save(),e.scale(l,l),e.transform(...y),this.executeOperatorList(C),this.restore()):vt(`Type3 character "${T.operatorListId}" is not available.`);const v=[T.width,0];lt.applyTransform(v,y),R=v[0]*l+N,e.translate(R,0),s.x+=R*g}e.restore()}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,s,a,l,c){const h=new Path2D;h.rect(s,a,l-s,c-a),this.ctx.clip(h),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const s=this.baseTransform||Xt(this.ctx),a={createCanvasGraphics:l=>new ga(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new yf(t,this.ctx,a,s)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t){this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t){this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e=null){let s;return this.cachedPatterns.has(t)?s=this.cachedPatterns.get(t):(s=$C(this.getObject(t)),this.cachedPatterns.set(t,s)),e&&(s.matrix=e),s}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const s=this._getPattern(t);e.fillStyle=s.getPattern(e,this,Ri(e),Se.SHADING);const a=Ri(e);if(a){const{width:l,height:c}=e.canvas,h=da.slice();lt.axialAlignedBoundingBox([0,0,l,c],a,h);const[d,f,g,y]=h;this.ctx.fillRect(d,f,g-d,y-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){jt("Should not call beginInlineImage")}beginImageData(){jt("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=Xt(this.ctx),e)){lt.axialAlignedBoundingBox(e,this.baseTransform,this.current.minMax);const[s,a,l,c]=e,h=new Path2D;h.rect(s,a,l-s,c-a),this.ctx.clip(h),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||ic("TODO: Support non-isolated groups."),t.knockout&&vt("Knockout groups not supported.");const s=Xt(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let a=da.slice();lt.axialAlignedBoundingBox(t.bbox,Xt(e),a);const l=[0,0,e.canvas.width,e.canvas.height];a=lt.intersect(a,l)||[0,0,0,0];const c=Math.floor(a[0]),h=Math.floor(a[1]),d=Math.max(Math.ceil(a[2])-c,1),f=Math.max(Math.ceil(a[3])-h,1);this.current.startNewPathAndClipBox([0,0,d,f]);let g="groupAt"+this.groupLevel;t.smask&&(g+="_smask_"+this.smaskCounter++%2);const y=this.cachedCanvases.getCanvas(g,d,f),b=y.context;b.translate(-c,-h),b.transform(...s);let S=new Path2D;const[w,T,R,M]=t.bbox;if(S.rect(w,T,R-w,M-T),t.matrix){const N=new Path2D;N.addPath(S,new DOMMatrix(t.matrix)),S=N}b.clip(S),t.smask?this.smaskStack.push({canvas:y.canvas,context:b,offsetX:c,offsetY:h,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(c,h),e.save()),Er(e,b),this.ctx=b,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,s=this.groupStack.pop();if(this.ctx=s,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const a=Xt(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...a);const l=da.slice();lt.axialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],a,l),this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(l)}}beginAnnotation(t,e,s,a,l){if(this.#t(),Pl(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const c=e[2]-e[0],h=e[3]-e[1];if(l&&this.annotationCanvasMap){s=s.slice(),s[4]-=e[0],s[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=c,e[3]=h,lt.singularValueDecompose2dScale(Xt(this.ctx),Je);const{viewportScale:d}=this,f=Math.ceil(c*this.outputScaleX*d),g=Math.ceil(h*this.outputScaleY*d);this.annotationCanvas=this.canvasFactory.create(f,g);const{canvas:y,context:b}=this.annotationCanvas;this.annotationCanvasMap.set(t,y),this.annotationCanvas.savedCtx=this.ctx,this.ctx=b,this.ctx.save(),this.ctx.setTransform(Je[0],0,0,-Je[1],0,h*Je[1]),Pl(this.ctx)}else{Pl(this.ctx),this.endPath();const d=new Path2D;d.rect(e[0],e[1],c,h),this.ctx.clip(d)}}this.current=new ib(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...s),this.transform(...a)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#e(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const s=this.ctx,a=this._createMaskCanvas(t),l=a.canvas;s.save(),s.setTransform(1,0,0,1,0,0),s.drawImage(l,a.offsetX,a.offsetY),s.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,s=0,a=0,l,c){if(!this.contentVisible)return;t=this.getObject(t.data,t);const h=this.ctx;h.save();const d=Xt(h);h.transform(e,s,a,l,0,0);const f=this._createMaskCanvas(t);h.setTransform(1,0,0,1,f.offsetX-d[4],f.offsetY-d[5]);for(let g=0,y=c.length;g<y;g+=2){const b=lt.transform(d,[e,s,a,l,c[g],c[g+1]]);h.drawImage(f.canvas,b[4],b[5])}h.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,s=this.current.fillColor,a=this.current.patternFill;for(const l of t){const{data:c,width:h,height:d,transform:f}=l,g=this.cachedCanvases.getCanvas("maskCanvas",h,d),y=g.context;y.save();const b=this.getObject(c,l);nb(y,b),y.globalCompositeOperation="source-in",y.fillStyle=a?s.getPattern(y,this,Ri(e),Se.FILL):s,y.fillRect(0,0,h,d),y.restore(),e.save(),e.transform(...f),e.scale(1,-1),Dl(e,g.canvas,0,0,h,d,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){vt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,s,a){if(!this.contentVisible)return;const l=this.getObject(t);if(!l){vt("Dependent image isn't ready yet");return}const c=l.width,h=l.height,d=[];for(let f=0,g=a.length;f<g;f+=2)d.push({transform:[e,0,0,s,a[f],a[f+1]],x:0,y:0,w:c,h});this.paintInlineImageXObjectGroup(l,d)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:s,height:a}=t,l=this.cachedCanvases.getCanvas("inlineImage",s,a),c=l.context;return c.filter=this.current.transferMaps,c.drawImage(e,0,0),c.filter="none",l.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,s=t.height,a=this.ctx;this.save();const{filter:l}=a;l!=="none"&&l!==""&&(a.filter="none"),a.scale(1/e,-1/s);let c;if(t.bitmap)c=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)c=t;else{const f=this.cachedCanvases.getCanvas("inlineImage",e,s).context;sb(f,t),c=this.applyTransferMapsToCanvas(f)}const h=this._scaleImage(c,Ri(a));a.imageSmoothingEnabled=ab(Xt(a),t.interpolate),Dl(a,h.img,0,0,h.paintWidth,h.paintHeight,0,-s,e,s),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const s=this.ctx;let a;if(t.bitmap)a=t.bitmap;else{const l=t.width,c=t.height,d=this.cachedCanvases.getCanvas("inlineImage",l,c).context;sb(d,t),a=this.applyTransferMapsToCanvas(d)}for(const l of e)s.save(),s.transform(...l.transform),s.scale(1,-1),Dl(s,a,l.x,l.y,l.w,l.h,0,-1,1,1),s.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t,e){const s=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const a=this.ctx;this.pendingClip&&(s||(this.pendingClip===rb?a.clip(t,"evenodd"):a.clip(t)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=Xt(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),s=Math.hypot(t[0],t[2]),a=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(s,a)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:s,c:a,d:l}=this.ctx.getTransform();let c,h;if(s===0&&a===0){const d=Math.abs(e),f=Math.abs(l);if(d===f)if(t===0)c=h=1/d;else{const g=d*t;c=h=g<1?1/g:1}else if(t===0)c=1/d,h=1/f;else{const g=d*t,y=f*t;c=g<1?1/g:1,h=y<1?1/y:1}}else{const d=Math.abs(e*l-s*a),f=Math.hypot(e,s),g=Math.hypot(a,l);if(t===0)c=g/d,h=f/d;else{const y=t*d;c=g>y?g/y:1,h=f>y?f/y:1}}this._cachedScaleForStroking[0]=c,this._cachedScaleForStroking[1]=h}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:s,current:{lineWidth:a}}=this,[l,c]=this.getScaleForStroking();if(l===c){s.lineWidth=(a||1)*l,s.stroke(t);return}const h=s.getLineDash();e&&s.save(),s.scale(l,c),Xh.a=1/l,Xh.d=1/c;const d=new Path2D;if(d.addPath(t,Xh),h.length>0){const f=Math.max(l,c);s.setLineDash(h.map(g=>g/f)),s.lineDashOffset/=f}s.lineWidth=a||1,s.stroke(d),e&&s.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}for(const r in Xl)ga.prototype[r]!==void 0&&(ga.prototype[Xl[r]]=ga.prototype[r]);class ma{static#t=null;static#e="";static get workerPort(){return this.#t}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");this.#t=t}static get workerSrc(){return this.#e}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");this.#e=t}}class iM{#t;#e;constructor({parsedData:t,rawData:e}){this.#t=t,this.#e=e}getRaw(){return this.#e}get(t){return this.#t.get(t)??null}[Symbol.iterator](){return this.#t.entries()}}const aa=Symbol("INTERNAL");class sM{#t=!1;#e=!1;#i=!1;#s=!0;constructor(t,{name:e,intent:s,usage:a,rbGroups:l}){this.#t=!!(t&Ze.DISPLAY),this.#e=!!(t&Ze.PRINT),this.name=e,this.intent=s,this.usage=a,this.rbGroups=l}get visible(){if(this.#i)return this.#s;if(!this.#s)return!1;const{print:t,view:e}=this.usage;return this.#t?e?.viewState!=="OFF":this.#e?t?.printState!=="OFF":!0}_setVisible(t,e,s=!1){t!==aa&&jt("Internal method `_setVisible` called."),this.#i=s,this.#s=e}}class nM{#t=null;#e=new Map;#i=null;#s=null;constructor(t,e=Ze.DISPLAY){if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,this.#s=t.order;for(const s of t.groups)this.#e.set(s.id,new sM(e,s));if(t.baseState==="OFF")for(const s of this.#e.values())s._setVisible(aa,!1);for(const s of t.on)this.#e.get(s)._setVisible(aa,!0);for(const s of t.off)this.#e.get(s)._setVisible(aa,!1);this.#i=this.getHash()}}#a(t){const e=t.length;if(e<2)return!0;const s=t[0];for(let a=1;a<e;a++){const l=t[a];let c;if(Array.isArray(l))c=this.#a(l);else if(this.#e.has(l))c=this.#e.get(l).visible;else return vt(`Optional content group not found: ${l}`),!0;switch(s){case"And":if(!c)return!1;break;case"Or":if(c)return!0;break;case"Not":return!c;default:return!0}}return s==="And"}isVisible(t){if(this.#e.size===0)return!0;if(!t)return ic("Optional content group not defined."),!0;if(t.type==="OCG")return this.#e.has(t.id)?this.#e.get(t.id).visible:(vt(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return this.#a(t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!this.#e.has(e))return vt(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!this.#e.has(e))return vt(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!this.#e.has(e))return vt(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!this.#e.has(e))return vt(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!1}return!0}return vt(`Unknown optional content policy ${t.policy}.`),!0}return vt(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,s=!0){const a=this.#e.get(t);if(!a){vt(`Optional content group not found: ${t}`);return}if(s&&e&&a.rbGroups.length)for(const l of a.rbGroups)for(const c of l)c!==t&&this.#e.get(c)?._setVisible(aa,!1,!0);a._setVisible(aa,!!e,!0),this.#t=null}setOCGState({state:t,preserveRB:e}){let s;for(const a of t){switch(a){case"ON":case"OFF":case"Toggle":s=a;continue}const l=this.#e.get(a);if(l)switch(s){case"ON":this.setVisibility(a,!0,e);break;case"OFF":this.setVisibility(a,!1,e);break;case"Toggle":this.setVisibility(a,!l.visible,e);break}}this.#t=null}get hasInitialVisibility(){return this.#i===null||this.getHash()===this.#i}getOrder(){return this.#e.size?this.#s?this.#s.slice():[...this.#e.keys()]:null}getGroup(t){return this.#e.get(t)||null}getHash(){if(this.#t!==null)return this.#t;const t=new Jv;for(const[e,s]of this.#e)t.update(`${e}:${s.visible}`);return this.#t=t.hexdigest()}[Symbol.iterator](){return this.#e.entries()}}class aM{constructor(t,{disableRange:e=!1,disableStream:s=!1}){le(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:a,initialData:l,progressiveDone:c,contentDispositionFilename:h}=t;if(this._queuedChunks=[],this._progressiveDone=c,this._contentDispositionFilename=h,l?.length>0){const d=l instanceof Uint8Array&&l.byteLength===l.buffer.byteLength?l.buffer:new Uint8Array(l).buffer;this._queuedChunks.push(d)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!s,this._isRangeSupported=!e,this._contentLength=a,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((d,f)=>{this._onReceiveData({begin:d,chunk:f})}),t.addProgressListener((d,f)=>{this._onProgress({loaded:d,total:f})}),t.addProgressiveReadListener(d=>{this._onReceiveData({chunk:d})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const s=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(s):this._queuedChunks.push(s);else{const a=this._rangeReaders.some(function(l){return l._begin!==t?!1:(l._enqueue(s),!0)});le(a,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(t){t.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:t.loaded}):this._fullRequestReader?.onProgress?.({loaded:t.loaded,total:t.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){le(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new rM(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const s=new oM(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(s),s}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeReaders.slice(0))e.cancel(t);this._pdfDataRangeTransport.abort()}}class rM{constructor(t,e,s=!1,a=null){this._stream=t,this._done=s||!1,this._filename=hf(a)?a:null,this._queuedChunks=e||[],this._loaded=0;for(const l of this._queuedChunks)this._loaded+=l.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class oM{constructor(t,e,s){this._stream=t,this._begin=e,this._end=s,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function lM(r){let t=!0,e=s("filename\\*","i").exec(r);if(e){e=e[1];let g=h(e);return g=unescape(g),g=d(g),g=f(g),l(g)}if(e=c(r),e){const g=f(e);return l(g)}if(e=s("filename","i").exec(r),e){e=e[1];let g=h(e);return g=f(g),l(g)}function s(g,y){return new RegExp("(?:^|;)\\s*"+g+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',y)}function a(g,y){if(g){if(!/^[\x00-\xFF]+$/.test(y))return y;try{const b=new TextDecoder(g,{fatal:!0}),S=to(y);y=b.decode(S),t=!1}catch{}}return y}function l(g){return t&&/[\x80-\xff]/.test(g)&&(g=a("utf-8",g),t&&(g=a("iso-8859-1",g))),g}function c(g){const y=[];let b;const S=s("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(b=S.exec(g))!==null;){let[,T,R,M]=b;if(T=parseInt(T,10),T in y){if(T===0)break;continue}y[T]=[R,M]}const w=[];for(let T=0;T<y.length&&T in y;++T){let[R,M]=y[T];M=h(M),R&&(M=unescape(M),T===0&&(M=d(M))),w.push(M)}return w.join("")}function h(g){if(g.startsWith('"')){const y=g.slice(1).split('\\"');for(let b=0;b<y.length;++b){const S=y[b].indexOf('"');S!==-1&&(y[b]=y[b].slice(0,S),y.length=b+1),y[b]=y[b].replaceAll(/\\(.)/g,"$1")}g=y.join('"')}return g}function d(g){const y=g.indexOf("'");if(y===-1)return g;const b=g.slice(0,y),w=g.slice(y+1).replace(/^[^']*'/,"");return a(b,w)}function f(g){return!g.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(g)?g:g.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(y,b,S,w){if(S==="q"||S==="Q")return w=w.replaceAll("_"," "),w=w.replaceAll(/=([0-9a-fA-F]{2})/g,function(T,R){return String.fromCharCode(parseInt(R,16))}),a(b,w);try{w=atob(w)}catch{}return a(b,w)})}return""}function rA(r,t){const e=new Headers;if(!r||!t||typeof t!="object")return e;for(const s in t){const a=t[s];a!==void 0&&e.append(s,a)}return e}function rc(r){return URL.parse(r)?.origin??null}function oA({responseHeaders:r,isHttp:t,rangeChunkSize:e,disableRange:s}){const a={allowRangeRequests:!1,suggestedLength:void 0},l=parseInt(r.get("Content-Length"),10);return!Number.isInteger(l)||(a.suggestedLength=l,l<=2*e)||s||!t||r.get("Accept-Ranges")!=="bytes"||(r.get("Content-Encoding")||"identity")!=="identity"||(a.allowRangeRequests=!0),a}function lA(r){const t=r.get("Content-Disposition");if(t){let e=lM(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(hf(e))return e}return null}function no(r,t){return new Yl(`Unexpected server response (${r}) while retrieving PDF "${t}".`,r,r===404||r===0&&t.startsWith("file:"))}function cA(r){return r===200||r===206}function uA(r,t,e){return{method:"GET",headers:r,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function hA(r){return r instanceof Uint8Array?r.buffer:r instanceof ArrayBuffer?r:(vt(`getArrayBuffer - unexpected data format: ${r}`),new Uint8Array(r).buffer)}class cM{_responseOrigin=null;constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=rA(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return le(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new uM(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const s=new hM(this,t,e);return this._rangeRequestReaders.push(s),s}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class uM{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const s=new Headers(t.headers),a=e.url;fetch(a,uA(s,this._withCredentials,this._abortController)).then(l=>{if(t._responseOrigin=rc(l.url),!cA(l.status))throw no(l.status,a);this._reader=l.body.getReader(),this._headersCapability.resolve();const c=l.headers,{allowRangeRequests:h,suggestedLength:d}=oA({responseHeaders:c,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=h,this._contentLength=d||this._contentLength,this._filename=lA(c),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Os("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:hA(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}class hM{constructor(t,e,s){this._stream=t,this._reader=null,this._loaded=0;const a=t.source;this._withCredentials=a.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!a.disableStream,this._abortController=new AbortController;const l=new Headers(t.headers);l.append("Range",`bytes=${e}-${s-1}`);const c=a.url;fetch(c,uA(l,this._withCredentials,this._abortController)).then(h=>{const d=rc(h.url);if(d!==t._responseOrigin)throw new Error(`Expected range response-origin "${d}" to match "${t._responseOrigin}".`);if(!cA(h.status))throw no(h.status,c);this._readCapability.resolve(),this._reader=h.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded}),{value:hA(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}const Yh=200,$h=206;function dM(r){const t=r.response;return typeof t!="string"?t:to(t).buffer}class fM{_responseOrigin=null;constructor({url:t,httpHeaders:e,withCredentials:s}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=rA(this.isHttp,e),this.withCredentials=s||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,s=this.currXhrId++,a=this.pendingRequests[s]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[l,c]of this.headers)e.setRequestHeader(l,c);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),a.expectedStatus=$h):a.expectedStatus=Yh,e.responseType="arraybuffer",le(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,s),e.onprogress=this.onProgress.bind(this,s),a.onHeadersReceived=t.onHeadersReceived,a.onDone=t.onDone,a.onError=t.onError,a.onProgress=t.onProgress,e.send(null),s}onProgress(t,e){const s=this.pendingRequests[t];s&&s.onProgress?.(e)}onStateChange(t,e){const s=this.pendingRequests[t];if(!s)return;const a=s.xhr;if(a.readyState>=2&&s.onHeadersReceived&&(s.onHeadersReceived(),delete s.onHeadersReceived),a.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],a.status===0&&this.isHttp){s.onError(a.status);return}const l=a.status||Yh;if(!(l===Yh&&s.expectedStatus===$h)&&l!==s.expectedStatus){s.onError(a.status);return}const h=dM(a);if(l===$h){const d=a.getResponseHeader("Content-Range"),f=/bytes (\d+)-(\d+)\/(\d+)/.exec(d);f?s.onDone({begin:parseInt(f[1],10),chunk:h}):(vt('Missing or invalid "Content-Range" header.'),s.onError(0))}else h?s.onDone({begin:0,chunk:h}):s.onError(a.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class pM{constructor(t){this._source=t,this._manager=new fM(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return le(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new gM(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const s=new mM(this._manager,t,e);return s.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(s),s}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class gM{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=rc(e.responseURL);const s=e.getAllResponseHeaders(),a=new Headers(s?s.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(h=>{const[d,...f]=h.split(": ");return[d,f.join(": ")]}):[]),{allowRangeRequests:l,suggestedLength:c}=oA({responseHeaders:a,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});l&&(this._isRangeSupported=!0),this._contentLength=c||this._contentLength,this._filename=lA(a),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=no(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){this.onProgress?.({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class mM{constructor(t,e,s){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:s,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const t=rc(this._manager.getRequestXhr(this._requestId)?.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??=no(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){this.isStreamingSupported||this.onProgress?.({loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const yM=/^[a-z][a-z0-9\-+.]+:/i;function bM(r){if(yM.test(r))return new URL(r);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(r))}class vM{constructor(t){this.source=t,this.url=bM(t.url),le(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return le(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new AM(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const s=new SM(this,t,e);return this._rangeRequestReaders.push(s),s}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class AM{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const s=process.getBuiltinModule("fs");s.promises.lstat(this._url).then(a=>{this._contentLength=a.size,this._setReadableStream(s.createReadStream(this._url)),this._headersCapability.resolve()},a=>{a.code==="ENOENT"&&(a=no(0,this._url.href)),this._storedError=a,this._headersCapability.reject(a)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Os("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class SM{constructor(t,e,s){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const a=t.source;this._isStreamingSupported=!a.disableStream;const l=process.getBuiltinModule("fs");this._setReadableStream(l.createReadStream(this._url,{start:e,end:s-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Cr=Symbol("INITIAL_DATA");class dA{#t=Object.create(null);#e(t){return this.#t[t]||={...Promise.withResolvers(),data:Cr}}get(t,e=null){if(e){const a=this.#e(t);return a.promise.then(()=>e(a.data)),null}const s=this.#t[t];if(!s||s.data===Cr)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return s.data}has(t){const e=this.#t[t];return!!e&&e.data!==Cr}delete(t){const e=this.#t[t];return!e||e.data===Cr?!1:(delete this.#t[t],!0)}resolve(t,e=null){const s=this.#e(t);s.data=e,s.resolve()}clear(){for(const t in this.#t){const{data:e}=this.#t[t];e?.bitmap?.close()}this.#t=Object.create(null)}*[Symbol.iterator](){for(const t in this.#t){const{data:e}=this.#t[t];e!==Cr&&(yield[t,e])}}}const xM=1e5,ob=30;class Re{#t=Promise.withResolvers();#e=null;#i=!1;#s=!!globalThis.FontInspector?.enabled;#a=null;#n=null;#r=0;#o=0;#u=null;#c=null;#d=0;#l=0;#p=Object.create(null);#m=[];#f=null;#h=[];#g=new WeakMap;#v=null;static#y=new Map;static#S=new Map;static#x=new WeakMap;static#b=null;static#T=new Set;constructor({textContentSource:t,container:e,viewport:s}){if(t instanceof ReadableStream)this.#f=t;else if(typeof t=="object")this.#f=new ReadableStream({start(d){d.enqueue(t),d.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#e=this.#c=e,this.#l=s.scale*Ii.pixelRatio,this.#d=s.rotation,this.#n={div:null,properties:null,ctx:null};const{pageWidth:a,pageHeight:l,pageX:c,pageY:h}=s.rawDims;this.#v=[1,0,0,-1,-c,h+l],this.#o=a,this.#r=l,Re.#E(),pn(e,s),this.#t.promise.finally(()=>{Re.#T.delete(this),this.#n=null,this.#p=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=xe.platform;return Tt(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{this.#u.read().then(({value:e,done:s})=>{if(s){this.#t.resolve();return}this.#a??=e.lang,Object.assign(this.#p,e.styles),this.#R(e.items),t()},this.#t.reject)};return this.#u=this.#f.getReader(),Re.#T.add(this),t(),this.#t.promise}update({viewport:t,onBefore:e=null}){const s=t.scale*Ii.pixelRatio,a=t.rotation;if(a!==this.#d&&(e?.(),this.#d=a,pn(this.#c,{rotation:a})),s!==this.#l){e?.(),this.#l=s;const l={div:null,properties:null,ctx:Re.#M(this.#a)};for(const c of this.#h)l.properties=this.#g.get(c),l.div=c,this.#D(l)}}cancel(){const t=new Os("TextLayer task cancelled.");this.#u?.cancel(t).catch(()=>{}),this.#u=null,this.#t.reject(t)}get textDivs(){return this.#h}get textContentItemsStr(){return this.#m}#R(t){if(this.#i)return;this.#n.ctx??=Re.#M(this.#a);const e=this.#h,s=this.#m;for(const a of t){if(e.length>xM){vt("Ignoring additional textDivs for performance reasons."),this.#i=!0;return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const l=this.#e;this.#e=document.createElement("span"),this.#e.classList.add("markedContent"),a.id&&this.#e.setAttribute("id",`${a.id}`),l.append(this.#e)}else a.type==="endMarkedContent"&&(this.#e=this.#e.parentNode);continue}s.push(a.str),this.#w(a)}}#w(t){const e=document.createElement("span"),s={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};this.#h.push(e);const a=lt.transform(this.#v,t.transform);let l=Math.atan2(a[1],a[0]);const c=this.#p[t.fontName];c.vertical&&(l+=Math.PI/2);let h=this.#s&&c.fontSubstitution||c.fontFamily;h=Re.fontFamilyMap.get(h)||h;const d=Math.hypot(a[2],a[3]),f=d*Re.#L(h,c,this.#a);let g,y;l===0?(g=a[4],y=a[5]-f):(g=a[4]+f*Math.sin(l),y=a[5]-f*Math.cos(l));const b="calc(var(--total-scale-factor) *",S=e.style;this.#e===this.#c?(S.left=`${(100*g/this.#o).toFixed(2)}%`,S.top=`${(100*y/this.#r).toFixed(2)}%`):(S.left=`${b}${g.toFixed(2)}px)`,S.top=`${b}${y.toFixed(2)}px)`),S.fontSize=`${b}${(Re.#b*d).toFixed(2)}px)`,S.fontFamily=h,s.fontSize=d,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,this.#s&&(e.dataset.fontName=c.fontSubstitutionLoadedName||t.fontName),l!==0&&(s.angle=l*(180/Math.PI));let w=!1;if(t.str.length>1)w=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const T=Math.abs(t.transform[0]),R=Math.abs(t.transform[3]);T!==R&&Math.max(T,R)/Math.min(T,R)>1.5&&(w=!0)}if(w&&(s.canvasWidth=c.vertical?t.height:t.width),this.#g.set(e,s),this.#n.div=e,this.#n.properties=s,this.#D(this.#n),s.hasText&&this.#e.append(e),s.hasEOL){const T=document.createElement("br");T.setAttribute("role","presentation"),this.#e.append(T)}}#D(t){const{div:e,properties:s,ctx:a}=t,{style:l}=e;let c="";if(Re.#b>1&&(c=`scale(${1/Re.#b})`),s.canvasWidth!==0&&s.hasText){const{fontFamily:h}=l,{canvasWidth:d,fontSize:f}=s;Re.#C(a,f*this.#l,h);const{width:g}=a.measureText(e.textContent);g>0&&(c=`scaleX(${d*this.#l/g}) ${c}`)}s.angle!==0&&(c=`rotate(${s.angle}deg) ${c}`),c.length>0&&(l.transform=c)}static cleanup(){if(!(this.#T.size>0)){this.#y.clear();for(const{canvas:t}of this.#S.values())t.remove();this.#S.clear()}}static#M(t=null){let e=this.#S.get(t||="");if(!e){const s=document.createElement("canvas");s.className="hiddenCanvasElement",s.lang=t,document.body.append(s),e=s.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#S.set(t,e),this.#x.set(e,{size:0,family:""})}return e}static#C(t,e,s){const a=this.#x.get(t);e===a.size&&s===a.family||(t.font=`${e}px ${s}`,a.size=e,a.family=s)}static#E(){if(this.#b!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),this.#b=t.getBoundingClientRect().height,t.remove()}static#L(t,e,s){const a=this.#y.get(t);if(a)return a;const l=this.#M(s);l.canvas.width=l.canvas.height=ob,this.#C(l,ob,t);const c=l.measureText(""),h=c.fontBoundingBoxAscent,d=Math.abs(c.fontBoundingBoxDescent);l.canvas.width=l.canvas.height=0;let f=.8;return h?f=h/(h+d):(xe.platform.isFirefox&&vt("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?f=e.ascent:e.descent&&(f=1+e.descent)),this.#y.set(t,f),f}}class Yr{static textContent(t){const e=[],s={items:e,styles:Object.create(null)};function a(l){if(!l)return;let c=null;const h=l.name;if(h==="#text")c=l.value;else if(Yr.shouldBuildText(h))l?.attributes?.textContent?c=l.attributes.textContent:l.value&&(c=l.value);else return;if(c!==null&&e.push({str:c}),!!l.children)for(const d of l.children)a(d)}return a(t),s}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const wM=100;function fA(r={}){typeof r=="string"||r instanceof URL?r={url:r}:(r instanceof ArrayBuffer||ArrayBuffer.isView(r))&&(r={data:r});const t=new bf,{docId:e}=t,s=r.url?LC(r.url):null,a=r.data?NC(r.data):null,l=r.httpHeaders||null,c=r.withCredentials===!0,h=r.password??null,d=r.range instanceof pA?r.range:null,f=Number.isInteger(r.rangeChunkSize)&&r.rangeChunkSize>0?r.rangeChunkSize:2**16;let g=r.worker instanceof $r?r.worker:null;const y=r.verbosity,b=typeof r.docBaseUrl=="string"&&!sc(r.docBaseUrl)?r.docBaseUrl:null,S=Ml(r.cMapUrl),w=r.cMapPacked!==!1,T=r.CMapReaderFactory||(De?HC:W0),R=Ml(r.iccUrl),M=Ml(r.standardFontDataUrl),N=r.StandardFontDataFactory||(De?VC:K0),C=Ml(r.wasmUrl),v=r.WasmFactory||(De?UC:Q0),A=r.stopAtErrors!==!0,_=Number.isInteger(r.maxImageSize)&&r.maxImageSize>-1?r.maxImageSize:-1,D=r.isEvalSupported!==!1,P=typeof r.isOffscreenCanvasSupported=="boolean"?r.isOffscreenCanvasSupported:!De,L=typeof r.isImageDecoderSupported=="boolean"?r.isImageDecoderSupported:!De&&(xe.platform.isFirefox||!globalThis.chrome),q=Number.isInteger(r.canvasMaxAreaInBytes)?r.canvasMaxAreaInBytes:-1,X=typeof r.disableFontFace=="boolean"?r.disableFontFace:De,tt=r.fontExtraProperties===!0,at=r.enableXfa===!0,it=r.ownerDocument||globalThis.document,pt=r.disableRange===!0,j=r.disableStream===!0,U=r.disableAutoFetch===!0,et=r.pdfBug===!0,yt=r.CanvasFactory||(De?FC:BC),I=r.FilterFactory||(De?zC:jC),W=r.enableHWA===!0,J=r.useWasm!==!1,Z=d?d.length:r.length??NaN,rt=typeof r.useSystemFonts=="boolean"?r.useSystemFonts:!De&&!X,At=typeof r.useWorkerFetch=="boolean"?r.useWorkerFetch:!!(T===W0&&N===K0&&v===Q0&&S&&M&&C&&Lr(S,document.baseURI)&&Lr(M,document.baseURI)&&Lr(C,document.baseURI)),ct=null;uC(y);const Ct={canvasFactory:new yt({ownerDocument:it,enableHWA:W}),filterFactory:new I({docId:e,ownerDocument:it}),cMapReaderFactory:At?null:new T({baseUrl:S,isCompressed:w}),standardFontDataFactory:At?null:new N({baseUrl:M}),wasmFactory:At?null:new v({baseUrl:C})};g||(g=$r.create({verbosity:y,port:ma.workerPort}),t._worker=g);const Lt={docId:e,apiVersion:"5.4.54",data:a,password:h,disableAutoFetch:U,rangeChunkSize:f,length:Z,docBaseUrl:b,enableXfa:at,evaluatorOptions:{maxImageSize:_,disableFontFace:X,ignoreErrors:A,isEvalSupported:D,isOffscreenCanvasSupported:P,isImageDecoderSupported:L,canvasMaxAreaInBytes:q,fontExtraProperties:tt,useSystemFonts:rt,useWasm:J,useWorkerFetch:At,cMapUrl:S,iccUrl:R,standardFontDataUrl:M,wasmUrl:C}},Ai={ownerDocument:it,pdfBug:et,styleElement:ct,loadingParams:{disableAutoFetch:U,enableXfa:at}};return g.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(g.destroyed)throw new Error("Worker was destroyed");const Ta=g.messageHandler.sendWithPromise("GetDocRequest",Lt,a?[a.buffer]:null);let ss;if(d)ss=new aM(d,{disableRange:pt,disableStream:j});else if(!a){if(!s)throw new Error("getDocument - no `url` parameter provided.");const js=Lr(s)?cM:De?vM:pM;ss=new js({url:s,length:Z,httpHeaders:l,withCredentials:c,rangeChunkSize:f,disableRange:pt,disableStream:j})}return Ta.then(js=>{if(t.destroyed)throw new Error("Loading aborted");if(g.destroyed)throw new Error("Worker was destroyed");const bn=new Nr(e,js,g.port),_a=new EM(bn,t,ss,Ai,Ct,W);t._transport=_a,bn.send("Ready",null)})}).catch(t._capability.reject),t}class bf{static#t=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${bf.#t++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(t){throw this._worker?.port&&delete this._worker._pendingDestroy,t}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}class pA{#t=Promise.withResolvers();#e=[];#i=[];#s=[];#a=[];constructor(t,e,s=!1,a=null){this.length=t,this.initialData=e,this.progressiveDone=s,this.contentDispositionFilename=a}addRangeListener(t){this.#a.push(t)}addProgressListener(t){this.#s.push(t)}addProgressiveReadListener(t){this.#i.push(t)}addProgressiveDoneListener(t){this.#e.push(t)}onDataRange(t,e){for(const s of this.#a)s(t,e)}onDataProgress(t,e){this.#t.promise.then(()=>{for(const s of this.#s)s(t,e)})}onDataProgressiveRead(t){this.#t.promise.then(()=>{for(const e of this.#i)e(t)})}onDataProgressiveDone(){this.#t.promise.then(()=>{for(const t of this.#e)t()})}transportReady(){this.#t.resolve()}requestDataRange(t,e){jt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class TM{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Tt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class _M{#t=!1;constructor(t,e,s,a=!1){this._pageIndex=t,this._pageInfo=e,this._transport=s,this._stats=a?new X0:null,this._pdfBug=a,this.commonObjs=s.commonObjs,this.objs=new dA,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:s=0,offsetY:a=0,dontFlip:l=!1}={}){return new io({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:s,offsetY:a,dontFlip:l})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Tt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:t,canvas:e=t.canvas,viewport:s,intent:a="display",annotationMode:l=Rs.ENABLE,transform:c=null,background:h=null,optionalContentConfigPromise:d=null,annotationCanvasMap:f=null,pageColors:g=null,printAnnotationStorage:y=null,isEditing:b=!1}){this._stats?.time("Overall");const S=this._transport.getRenderingIntent(a,l,y,b),{renderingIntent:w,cacheKey:T}=S;this.#t=!1,d||=this._transport.getOptionalContentConfig(w);let R=this._intentStates.get(T);R||(R=Object.create(null),this._intentStates.set(T,R)),R.streamReaderCancelTimeout&&(clearTimeout(R.streamReaderCancelTimeout),R.streamReaderCancelTimeout=null);const M=!!(w&Ze.PRINT);R.displayReadyCapability||(R.displayReadyCapability=Promise.withResolvers(),R.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(S));const N=A=>{R.renderTasks.delete(C),M&&(this.#t=!0),this.#e(),A?(C.capability.reject(A),this._abortOperatorList({intentState:R,reason:A instanceof Error?A:new Error(A)})):C.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},C=new fa({callback:N,params:{canvas:e,canvasContext:t,viewport:s,transform:c,background:h},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:f,operatorList:R.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!M,pdfBug:this._pdfBug,pageColors:g,enableHWA:this._transport.enableHWA});(R.renderTasks||=new Set).add(C);const v=C.task;return Promise.all([R.displayReadyCapability.promise,d]).then(([A,_])=>{if(this.destroyed){N();return}if(this._stats?.time("Rendering"),!(_.renderingIntent&w))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");C.initializeGraphics({transparency:A,optionalContentConfig:_}),C.operatorListChanged()}).catch(N),v}getOperatorList({intent:t="display",annotationMode:e=Rs.ENABLE,printAnnotationStorage:s=null,isEditing:a=!1}={}){function l(){h.operatorList.lastChunk&&(h.opListReadCapability.resolve(h.operatorList),h.renderTasks.delete(d))}const c=this._transport.getRenderingIntent(t,e,s,a,!0);let h=this._intentStates.get(c.cacheKey);h||(h=Object.create(null),this._intentStates.set(c.cacheKey,h));let d;return h.opListReadCapability||(d=Object.create(null),d.operatorListChanged=l,h.opListReadCapability=Promise.withResolvers(),(h.renderTasks||=new Set).add(d),h.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(c)),h.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(a){return a.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(s=>Yr.textContent(s));const e=this.streamTextContent(t);return new Promise(function(s,a){function l(){c.read().then(function({value:d,done:f}){if(f){s(h);return}h.lang??=d.lang,Object.assign(h.styles,d.styles),h.items.push(...d.items),l()},a)}const c=e.getReader(),h={items:[],styles:Object.create(null),lang:null};l()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const s of e.renderTasks)t.push(s.completed),s.cancel();return this.objs.clear(),this.#t=!1,Promise.all(t)}cleanup(t=!1){this.#t=!0;const e=this.#e();return t&&e&&(this._stats&&=new X0),e}#e(){if(!this.#t||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}_startRenderPage(t,e){const s=this._intentStates.get(e);s&&(this._stats?.timeEnd("Page Request"),s.displayReadyCapability?.resolve(t))}_renderPageChunk(t,e){for(let s=0,a=t.length;s<a;s++)e.operatorList.fnArray.push(t.fnArray[s]),e.operatorList.argsArray.push(t.argsArray[s]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const s of e.renderTasks)s.operatorListChanged();t.lastChunk&&this.#e()}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:s,modifiedIds:a}){const{map:l,transfer:c}=s,d=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:l,modifiedIds:a},c).getReader(),f=this._intentStates.get(e);f.streamReader=d;const g=()=>{d.read().then(({value:y,done:b})=>{if(b){f.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(y,f),g())},y=>{if(f.streamReader=null,!this._transport.destroyed){if(f.operatorList){f.operatorList.lastChunk=!0;for(const b of f.renderTasks)b.operatorListChanged();this.#e()}if(f.displayReadyCapability)f.displayReadyCapability.reject(y);else if(f.opListReadCapability)f.opListReadCapability.reject(y);else throw y}})};g()}_abortOperatorList({intentState:t,reason:e,force:s=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!s){if(t.renderTasks.size>0)return;if(e instanceof uf){let a=wM;e.extraDelay>0&&e.extraDelay<1e3&&(a+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},a);return}}if(t.streamReader.cancel(new Os(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[a,l]of this._intentStates)if(l===t){this._intentStates.delete(a);break}this.cleanup()}}}get stats(){return this._stats}}var Ds,vi,ts,cn,Wl,un,hn,Ne,zl,gA,mA,Or,ya,Fl;const Ut=class Ut{constructor({name:t=null,port:e=null,verbosity:s=hC()}={}){Ci(this,Ne);Ci(this,Ds,Promise.withResolvers());Ci(this,vi,null);Ci(this,ts,null);Ci(this,cn,null);if(this.name=t,this.destroyed=!1,this.verbosity=s,e){if(Vt(Ut,hn).has(e))throw new Error("Cannot use more than one PDFWorker per port.");Vt(Ut,hn).set(e,this),Mi(this,Ne,gA).call(this,e)}else Mi(this,Ne,mA).call(this)}get promise(){return Vt(this,Ds).promise}get port(){return Vt(this,ts)}get messageHandler(){return Vt(this,vi)}destroy(){this.destroyed=!0,Vt(this,cn)?.terminate(),ze(this,cn,null),Vt(Ut,hn).delete(Vt(this,ts)),ze(this,ts,null),Vt(this,vi)?.destroy(),ze(this,vi,null)}static create(t){const e=Vt(this,hn).get(t?.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new Ut(t)}static get workerSrc(){if(ma.workerSrc)return ma.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Tt(this,"_setupFakeWorkerGlobal",(async()=>Vt(this,ya,Fl)?Vt(this,ya,Fl):(await import(this.workerSrc)).WorkerMessageHandler)())}};Ds=new WeakMap,vi=new WeakMap,ts=new WeakMap,cn=new WeakMap,Wl=new WeakMap,un=new WeakMap,hn=new WeakMap,Ne=new WeakSet,zl=function(){Vt(this,Ds).resolve(),Vt(this,vi).send("configure",{verbosity:this.verbosity})},gA=function(t){ze(this,ts,t),ze(this,vi,new Nr("main","worker",t)),Vt(this,vi).on("ready",()=>{}),Mi(this,Ne,zl).call(this)},mA=function(){if(Vt(Ut,un)||Vt(Ut,ya,Fl)){Mi(this,Ne,Or).call(this);return}let{workerSrc:t}=Ut;try{Ut._isSameOrigin(window.location,t)||(t=Ut._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),s=new Nr("main","worker",e),a=()=>{l.abort(),s.destroy(),e.terminate(),this.destroyed?Vt(this,Ds).reject(new Error("Worker was destroyed")):Mi(this,Ne,Or).call(this)},l=new AbortController;e.addEventListener("error",()=>{Vt(this,cn)||a()},{signal:l.signal}),s.on("test",h=>{if(l.abort(),this.destroyed||!h){a();return}ze(this,vi,s),ze(this,ts,e),ze(this,cn,e),Mi(this,Ne,zl).call(this)}),s.on("ready",h=>{if(l.abort(),this.destroyed){a();return}try{c()}catch{Mi(this,Ne,Or).call(this)}});const c=()=>{const h=new Uint8Array;s.send("test",h,[h.buffer])};c();return}catch{ic("The worker has been disabled.")}Mi(this,Ne,Or).call(this)},Or=function(){Vt(Ut,un)||(vt("Setting up fake worker."),ze(Ut,un,!0)),Ut._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){Vt(this,Ds).reject(new Error("Worker was destroyed"));return}const e=new IC;ze(this,ts,e);const s=`fake${by(Ut,Wl)._++}`,a=new Nr(s+"_worker",s,e);t.setup(a,e),ze(this,vi,new Nr(s,s+"_worker",e)),Mi(this,Ne,zl).call(this)}).catch(t=>{Vt(this,Ds).reject(new Error(`Setting up fake worker failed: "${t.message}".`))})},ya=new WeakSet,Fl=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},Ci(Ut,ya),Ci(Ut,Wl,0),Ci(Ut,un,!1),Ci(Ut,hn,new WeakMap),De&&(ze(Ut,un,!0),ma.workerSrc||="./pdf.worker.mjs"),Ut._isSameOrigin=(t,e)=>{const s=URL.parse(t);if(!s?.origin||s.origin==="null")return!1;const a=new URL(e,s);return s.origin===a.origin},Ut._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))},Ut.fromPort=t=>{if(wC("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return Ut.create(t)};let $r=Ut;class EM{#t=new Map;#e=new Map;#i=new Map;#s=new Map;#a=null;constructor(t,e,s,a,l,c){this.messageHandler=t,this.loadingTask=e,this.commonObjs=new dA,this.fontLoader=new DC({ownerDocument:a.ownerDocument,styleElement:a.styleElement}),this.loadingParams=a.loadingParams,this._params=a,this.canvasFactory=l.canvasFactory,this.filterFactory=l.filterFactory,this.cMapReaderFactory=l.cMapReaderFactory,this.standardFontDataFactory=l.standardFontDataFactory,this.wasmFactory=l.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=s,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=c,this.setupMessageHandler()}#n(t,e=null){const s=this.#t.get(t);if(s)return s;const a=this.messageHandler.sendWithPromise(t,e);return this.#t.set(t,a),a}get annotationStorage(){return Tt(this,"annotationStorage",new pf)}getRenderingIntent(t,e=Rs.ENABLE,s=null,a=!1,l=!1){let c=Ze.DISPLAY,h=Ad;switch(t){case"any":c=Ze.ANY;break;case"display":break;case"print":c=Ze.PRINT;break;default:vt(`getRenderingIntent - invalid intent: ${t}`)}const d=c&Ze.PRINT&&s instanceof tA?s:this.annotationStorage;switch(e){case Rs.DISABLE:c+=Ze.ANNOTATIONS_DISABLE;break;case Rs.ENABLE:break;case Rs.ENABLE_FORMS:c+=Ze.ANNOTATIONS_FORMS;break;case Rs.ENABLE_STORAGE:c+=Ze.ANNOTATIONS_STORAGE,h=d.serializable;break;default:vt(`getRenderingIntent - invalid annotationMode: ${e}`)}a&&(c+=Ze.IS_EDITING),l&&(c+=Ze.OPLIST);const{ids:f,hash:g}=d.modifiedIds,y=[c,h.hash,g];return{renderingIntent:c,cacheKey:y.join("_"),annotationStorageSerializable:h,modifiedIds:f}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#a?.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const s of this.#e.values())t.push(s._destroy());this.#e.clear(),this.#i.clear(),this.#s.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(),Re.cleanup(),this._networkStream?.cancelAllRequests(new Os("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(s,a)=>{le(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=l=>{this._lastProgress={loaded:l.loaded,total:l.total}},a.onPull=()=>{this._fullReader.read().then(function({value:l,done:c}){if(c){a.close();return}le(l instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{a.error(l)})},a.onCancel=l=>{this._fullReader.cancel(l),a.ready.catch(c=>{if(!this.destroyed)throw c})}}),t.on("ReaderHeadersReady",async s=>{await this._fullReader.headersReady;const{isStreamingSupported:a,isRangeSupported:l,contentLength:c}=this._fullReader;return(!a||!l)&&(this._lastProgress&&e.onProgress?.(this._lastProgress),this._fullReader.onProgress=h=>{e.onProgress?.({loaded:h.loaded,total:h.total})}),{isStreamingSupported:a,isRangeSupported:l,contentLength:c}}),t.on("GetRangeReader",(s,a)=>{le(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const l=this._networkStream.getRangeReader(s.begin,s.end);if(!l){a.close();return}a.onPull=()=>{l.read().then(function({value:c,done:h}){if(h){a.close();return}le(c instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(c),1,[c])}).catch(c=>{a.error(c)})},a.onCancel=c=>{l.cancel(c),a.ready.catch(h=>{if(!this.destroyed)throw h})}}),t.on("GetDoc",({pdfInfo:s})=>{this._numPages=s.numPages,this._htmlForXfa=s.htmlForXfa,delete s.htmlForXfa,e._capability.resolve(new TM(s,this))}),t.on("DocException",s=>{e._capability.reject(Fe(s))}),t.on("PasswordRequest",s=>{this.#a=Promise.withResolvers();try{if(!e.onPassword)throw Fe(s);const a=l=>{l instanceof Error?this.#a.reject(l):this.#a.resolve({password:l})};e.onPassword(a,s.code)}catch(a){this.#a.reject(a)}return this.#a.promise}),t.on("DataLoaded",s=>{e.onProgress?.({loaded:s.length,total:s.length}),this.downloadInfoCapability.resolve(s)}),t.on("StartRenderPage",s=>{if(this.destroyed)return;this.#e.get(s.pageIndex)._startRenderPage(s.transparency,s.cacheKey)}),t.on("commonobj",([s,a,l])=>{if(this.destroyed||this.commonObjs.has(s))return null;switch(a){case"Font":if("error"in l){const f=l.error;vt(`Error during font loading: ${f}`),this.commonObjs.resolve(s,f);break}const c=this._params.pdfBug&&globalThis.FontInspector?.enabled?(f,g)=>globalThis.FontInspector.fontAdded(f,g):null,h=new PC(l,c);this.fontLoader.bind(h).catch(()=>t.sendWithPromise("FontFallback",{id:s})).finally(()=>{!h.fontExtraProperties&&h.data&&(h.data=null),this.commonObjs.resolve(s,h)});break;case"CopyLocalImage":const{imageRef:d}=l;le(d,"The imageRef must be defined.");for(const f of this.#e.values())for(const[,g]of f.objs)if(g?.ref===d)return g.dataLen?(this.commonObjs.resolve(s,structuredClone(g)),g.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(s,l);break;default:throw new Error(`Got unknown common object type ${a}`)}return null}),t.on("obj",([s,a,l,c])=>{if(this.destroyed)return;const h=this.#e.get(a);if(!h.objs.has(s)){if(h._intentStates.size===0){c?.bitmap?.close();return}switch(l){case"Image":case"Pattern":h.objs.resolve(s,c);break;default:throw new Error(`Got unknown object type ${l}`)}}}),t.on("DocProgress",s=>{this.destroyed||e.onProgress?.({loaded:s.loaded,total:s.total})}),t.on("FetchBinaryData",async s=>{if(this.destroyed)throw new Error("Worker was destroyed.");const a=this[s.type];if(!a)throw new Error(`${s.type} not initialized, see the \`useWorkerFetch\` parameter.`);return a.fetch(s)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&vt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:this._fullReader?.filename??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,s=this.#i.get(e);if(s)return s;const a=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(l=>{if(this.destroyed)throw new Error("Transport destroyed");l.refStr&&this.#s.set(l.refStr,t);const c=new _M(e,l,this,this._params.pdfBug);return this.#e.set(e,c),c});return this.#i.set(e,a),a}getPageIndex(t){return Sd(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return this.#n("GetFieldObjects")}hasJSActions(){return this.#n("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#n("GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return this.#n("GetOptionalContentConfig").then(e=>new nM(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=this.#t.get(t);if(e)return e;const s=this.messageHandler.sendWithPromise(t,null).then(a=>({info:a[0],metadata:a[1]?new iM(a[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#t.set(t,s),s}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of this.#e.values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(!0),Re.cleanup()}}cachedPageNumber(t){if(!Sd(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return this.#s.get(e)??null}}class CM{#t=null;onContinue=null;onError=null;constructor(t){this.#t=t}get promise(){return this.#t.capability.promise}cancel(t=0){this.#t.cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=this.#t.operatorList;if(!t)return!1;const{annotationCanvasMap:e}=this.#t;return t.form||t.canvas&&e?.size>0}}class fa{#t=null;static#e=new WeakSet;constructor({callback:t,params:e,objs:s,commonObjs:a,annotationCanvasMap:l,operatorList:c,pageIndex:h,canvasFactory:d,filterFactory:f,useRequestAnimationFrame:g=!1,pdfBug:y=!1,pageColors:b=null,enableHWA:S=!1}){this.callback=t,this.params=e,this.objs=s,this.commonObjs=a,this.annotationCanvasMap=l,this.operatorListIdx=null,this.operatorList=c,this._pageIndex=h,this.canvasFactory=d,this.filterFactory=f,this._pdfBug=y,this.pageColors=b,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=g===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new CM(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvas,this._canvasContext=e.canvas?null:e.canvasContext,this._enableHWA=S}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){if(this.cancelled)return;if(this._canvas){if(fa.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");fa.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:s,transform:a,background:l}=this.params,c=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new ga(c,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:a,viewport:s,transparency:t,background:l}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(t=null,e=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#t&&(window.cancelAnimationFrame(this.#t),this.#t=null),fa.#e.delete(this._canvas),t||=new uf(`Rendering cancelled, page ${this._pageIndex+1}`,e),this.callback(t),this.task.onError?.(t)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#t=window.requestAnimationFrame(()=>{this.#t=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),fa.#e.delete(this._canvas),this.callback())))}}const MM="5.4.54",RM="295fb3ec4";class di{#t=null;#e=null;#i;#s=null;#a=!1;#n=!1;#r=null;#o;#u=null;#c=null;static#d=null;static get _keyboardManager(){return Tt(this,"_keyboardManager",new so([[["Escape","mac+Escape"],di.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],di.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],di.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],di.prototype._moveToPrevious],[["Home","mac+Home"],di.prototype._moveToBeginning],[["End","mac+End"],di.prototype._moveToEnd]]))}constructor({editor:t=null,uiManager:e=null}){t?(this.#n=!1,this.#r=t):this.#n=!0,this.#c=t?._uiManager||e,this.#o=this.#c._eventBus,this.#i=t?.color?.toUpperCase()||this.#c?.highlightColors.values().next().value||"#FFFF98",di.#d||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const t=this.#t=document.createElement("button");t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.ariaHasPopup="true",this.#r&&(t.ariaControls=`${this.#r.id}_colorpicker_dropdown`);const e=this.#c._signal;t.addEventListener("click",this.#f.bind(this),{signal:e}),t.addEventListener("keydown",this.#m.bind(this),{signal:e});const s=this.#e=document.createElement("span");return s.className="swatch",s.ariaHidden="true",s.style.backgroundColor=this.#i,t.append(s),t}renderMainDropdown(){const t=this.#s=this.#l();return t.ariaOrientation="horizontal",t.ariaLabelledBy="highlightColorPickerLabel",t}#l(){const t=document.createElement("div"),e=this.#c._signal;t.addEventListener("contextmenu",pi,{signal:e}),t.className="dropdown",t.role="listbox",t.ariaMultiSelectable="false",t.ariaOrientation="vertical",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#r&&(t.id=`${this.#r.id}_colorpicker_dropdown`);for(const[s,a]of this.#c.highlightColors){const l=document.createElement("button");l.tabIndex="0",l.role="option",l.setAttribute("data-color",a),l.title=s,l.setAttribute("data-l10n-id",di.#d[s]);const c=document.createElement("span");l.append(c),c.className="swatch",c.style.backgroundColor=a,l.ariaSelected=a===this.#i,l.addEventListener("click",this.#p.bind(this,a),{signal:e}),t.append(l)}return t.addEventListener("keydown",this.#m.bind(this),{signal:e}),t}#p(t,e){e.stopPropagation(),this.#o.dispatch("switchannotationeditorparams",{source:this,type:Mt.HIGHLIGHT_COLOR,value:t}),this.updateColor(t)}_colorSelectFromKeyboard(t){if(t.target===this.#t){this.#f(t);return}const e=t.target.getAttribute("data-color");e&&this.#p(e,t)}_moveToNext(t){if(!this.#g){this.#f(t);return}if(t.target===this.#t){this.#s.firstChild?.focus();return}t.target.nextSibling?.focus()}_moveToPrevious(t){if(t.target===this.#s?.firstChild||t.target===this.#t){this.#g&&this._hideDropdownFromKeyboard();return}this.#g||this.#f(t),t.target.previousSibling?.focus()}_moveToBeginning(t){if(!this.#g){this.#f(t);return}this.#s.firstChild?.focus()}_moveToEnd(t){if(!this.#g){this.#f(t);return}this.#s.lastChild?.focus()}#m(t){di._keyboardManager.exec(this,t)}#f(t){if(this.#g){this.hideDropdown();return}if(this.#a=t.detail===0,this.#u||(this.#u=new AbortController,window.addEventListener("pointerdown",this.#h.bind(this),{signal:this.#c.combinedSignal(this.#u)})),this.#t.ariaExpanded="true",this.#s){this.#s.classList.remove("hidden");return}const e=this.#s=this.#l();this.#t.append(e)}#h(t){this.#s?.contains(t.target)||this.hideDropdown()}hideDropdown(){this.#s?.classList.add("hidden"),this.#t.ariaExpanded="false",this.#u?.abort(),this.#u=null}get#g(){return this.#s&&!this.#s.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#n){if(!this.#g){this.#r?.unselect();return}this.hideDropdown(),this.#t.focus({preventScroll:!0,focusVisible:this.#a})}}updateColor(t){if(this.#e&&(this.#e.style.backgroundColor=t),!this.#s)return;const e=this.#c.highlightColors.values();for(const s of this.#s.children)s.ariaSelected=e.next().value===t.toUpperCase()}destroy(){this.#t?.remove(),this.#t=null,this.#e=null,this.#s?.remove(),this.#s=null}}class Wr{#t=null;#e=null;#i=null;static#s=null;constructor(t){this.#e=t,this.#i=t._uiManager,Wr.#s||=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"})}renderButton(){if(this.#t)return this.#t;const{editorType:t,colorType:e,colorValue:s}=this.#e,a=this.#t=document.createElement("input");return a.type="color",a.value=s||"#000000",a.className="basicColorPicker",a.tabIndex=0,a.setAttribute("data-l10n-id",Wr.#s[t]),a.addEventListener("input",()=>{this.#i.updateParams(e,a.value)},{signal:this.#i._signal}),a}update(t){this.#t&&(this.#t.value=t)}destroy(){this.#t?.remove(),this.#t=null}hideDropdown(){}}function lb(r){return Math.floor(Math.max(0,Math.min(1,r))*255).toString(16).padStart(2,"0")}function Mr(r){return Math.max(0,Math.min(255,255*r))}class cb{static CMYK_G([t,e,s,a]){return["G",1-Math.min(1,.3*t+.59*s+.11*e+a)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=Mr(t),[t,t,t]}static G_HTML([t]){const e=lb(t);return`#${e}${e}${e}`}static RGB_G([t,e,s]){return["G",.3*t+.59*e+.11*s]}static RGB_rgb(t){return t.map(Mr)}static RGB_HTML(t){return`#${t.map(lb).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,s,a]){return["RGB",1-Math.min(1,t+a),1-Math.min(1,s+a),1-Math.min(1,e+a)]}static CMYK_rgb([t,e,s,a]){return[Mr(1-Math.min(1,t+a)),Mr(1-Math.min(1,s+a)),Mr(1-Math.min(1,e+a))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,s]){const a=1-t,l=1-e,c=1-s,h=Math.min(a,l,c);return["CMYK",a,l,c,h]}}class DM{create(t,e,s=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const a=this._createSVG("svg:svg");return a.setAttribute("version","1.1"),s||(a.setAttribute("width",`${t}px`),a.setAttribute("height",`${e}px`)),a.setAttribute("preserveAspectRatio","none"),a.setAttribute("viewBox",`0 0 ${t} ${e}`),a}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){jt("Abstract method `_createSVG` called.")}}class $l extends DM{_createSVG(t){return document.createElementNS(Zi,t)}}class yA{static setupStorage(t,e,s,a,l){const c=a.getValue(e,{value:null});switch(s.name){case"textarea":if(c.value!==null&&(t.textContent=c.value),l==="print")break;t.addEventListener("input",h=>{a.setValue(e,{value:h.target.value})});break;case"input":if(s.attributes.type==="radio"||s.attributes.type==="checkbox"){if(c.value===s.attributes.xfaOn?t.setAttribute("checked",!0):c.value===s.attributes.xfaOff&&t.removeAttribute("checked"),l==="print")break;t.addEventListener("change",h=>{a.setValue(e,{value:h.target.checked?h.target.getAttribute("xfaOn"):h.target.getAttribute("xfaOff")})})}else{if(c.value!==null&&t.setAttribute("value",c.value),l==="print")break;t.addEventListener("input",h=>{a.setValue(e,{value:h.target.value})})}break;case"select":if(c.value!==null){t.setAttribute("value",c.value);for(const h of s.children)h.attributes.value===c.value?h.attributes.selected=!0:h.attributes.hasOwnProperty("selected")&&delete h.attributes.selected}t.addEventListener("input",h=>{const d=h.target.options,f=d.selectedIndex===-1?"":d[d.selectedIndex].value;a.setValue(e,{value:f})});break}}static setAttributes({html:t,element:e,storage:s=null,intent:a,linkService:l}){const{attributes:c}=e,h=t instanceof HTMLAnchorElement;c.type==="radio"&&(c.name=`${c.name}-${a}`);for(const[d,f]of Object.entries(c))if(f!=null)switch(d){case"class":f.length&&t.setAttribute(d,f.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",f);break;case"style":Object.assign(t.style,f);break;case"textContent":t.textContent=f;break;default:(!h||d!=="href"&&d!=="newWindow")&&t.setAttribute(d,f)}h&&l.addLinkAttributes(t,c.href,c.newWindow),s&&c.dataId&&this.setupStorage(t,c.dataId,e,s)}static render(t){const e=t.annotationStorage,s=t.linkService,a=t.xfaHtml,l=t.intent||"display",c=document.createElement(a.name);a.attributes&&this.setAttributes({html:c,element:a,intent:l,linkService:s});const h=l!=="richText",d=t.div;if(d.append(c),t.viewport){const y=`matrix(${t.viewport.transform.join(",")})`;d.style.transform=y}h&&d.setAttribute("class","xfaLayer xfaFont");const f=[];if(a.children.length===0){if(a.value){const y=document.createTextNode(a.value);c.append(y),h&&Yr.shouldBuildText(a.name)&&f.push(y)}return{textDivs:f}}const g=[[a,-1,c]];for(;g.length>0;){const[y,b,S]=g.at(-1);if(b+1===y.children.length){g.pop();continue}const w=y.children[++g.at(-1)[1]];if(w===null)continue;const{name:T}=w;if(T==="#text"){const M=document.createTextNode(w.value);f.push(M),S.append(M);continue}const R=w?.attributes?.xmlns?document.createElementNS(w.attributes.xmlns,T):document.createElement(T);if(S.append(R),w.attributes&&this.setAttributes({html:R,element:w,storage:e,intent:l,linkService:s}),w.children?.length>0)g.push([w,-1,R]);else if(w.value){const M=document.createTextNode(w.value);h&&Yr.shouldBuildText(T)&&f.push(M),R.append(M)}}for(const y of d.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))y.setAttribute("readOnly",!0);return{textDivs:f}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const PM=9,gn=new WeakSet,LM=new Date().getTimezoneOffset()*60*1e3;class ub{static create(t){switch(t.data.annotationType){case ae.LINK:return new vf(t);case ae.TEXT:return new NM(t);case ae.WIDGET:switch(t.data.fieldType){case"Tx":return new OM(t);case"Btn":return t.data.radioButton?new bA(t):t.data.checkBox?new IM(t):new BM(t);case"Ch":return new jM(t);case"Sig":return new kM(t)}return new yn(t);case ae.POPUP:return new wd(t);case ae.FREETEXT:return new vA(t);case ae.LINE:return new FM(t);case ae.SQUARE:return new HM(t);case ae.CIRCLE:return new VM(t);case ae.POLYLINE:return new AA(t);case ae.CARET:return new GM(t);case ae.INK:return new Af(t);case ae.POLYGON:return new UM(t);case ae.HIGHLIGHT:return new SA(t);case ae.UNDERLINE:return new qM(t);case ae.SQUIGGLY:return new XM(t);case ae.STRIKEOUT:return new YM(t);case ae.STAMP:return new xA(t);case ae.FILEATTACHMENT:return new $M(t);default:return new ee(t)}}}class ee{#t=null;#e=!1;#i=null;constructor(t,{isRenderable:e=!1,ignoreBorder:s=!1,createQuadrilaterals:a=!1}={}){this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(s)),a&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:t,richText:e}){return!!(t?.str||e?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return ee._hasPopupData(this.data)}updateEdited(t){if(!this.container)return;t.rect&&(this.#t||={rect:this.data.rect.slice(0)});const{rect:e,popup:s}=t;e&&this.#s(e);let a=this.#i?.popup||this.popup;!a&&s?.text&&(this._createPopup(s),a=this.#i.popup),a&&(a.updateEdited(t),s?.deleted&&(a.remove(),this.#i=null,this.popup=null))}resetEdited(){this.#t&&(this.#s(this.#t.rect),this.#i?.popup.resetEdited(),this.#t=null)}#s(t){const{container:{style:e},data:{rect:s,rotation:a},parent:{viewport:{rawDims:{pageWidth:l,pageHeight:c,pageX:h,pageY:d}}}}=this;s?.splice(0,4,...t),e.left=`${100*(t[0]-h)/l}%`,e.top=`${100*(c-t[3]+d)/c}%`,a===0?(e.width=`${100*(t[2]-t[0])/l}%`,e.height=`${100*(t[3]-t[1])/c}%`):this.setRotation(a)}_createContainer(t){const{data:e,parent:{page:s,viewport:a}}=this,l=document.createElement("section");l.setAttribute("data-annotation-id",e.id),!(this instanceof yn)&&!(this instanceof vf)&&(l.tabIndex=0);const{style:c}=l;if(c.zIndex=this.parent.zIndex++,e.alternativeText&&(l.title=e.alternativeText),e.noRotate&&l.classList.add("norotate"),!e.rect||this instanceof wd){const{rotation:T}=e;return!e.hasOwnCanvas&&T!==0&&this.setRotation(T,l),l}const{width:h,height:d}=this;if(!t&&e.borderStyle.width>0){c.borderWidth=`${e.borderStyle.width}px`;const T=e.borderStyle.horizontalCornerRadius,R=e.borderStyle.verticalCornerRadius;if(T>0||R>0){const N=`calc(${T}px * var(--total-scale-factor)) / calc(${R}px * var(--total-scale-factor))`;c.borderRadius=N}else if(this instanceof bA){const N=`calc(${h}px * var(--total-scale-factor)) / calc(${d}px * var(--total-scale-factor))`;c.borderRadius=N}switch(e.borderStyle.style){case na.SOLID:c.borderStyle="solid";break;case na.DASHED:c.borderStyle="dashed";break;case na.BEVELED:vt("Unimplemented border style: beveled");break;case na.INSET:vt("Unimplemented border style: inset");break;case na.UNDERLINE:c.borderBottomStyle="solid";break}const M=e.borderColor||null;M?(this.#e=!0,c.borderColor=lt.makeHexColor(M[0]|0,M[1]|0,M[2]|0)):c.borderWidth=0}const f=lt.normalizeRect([e.rect[0],s.view[3]-e.rect[1]+s.view[1],e.rect[2],s.view[3]-e.rect[3]+s.view[1]]),{pageWidth:g,pageHeight:y,pageX:b,pageY:S}=a.rawDims;c.left=`${100*(f[0]-b)/g}%`,c.top=`${100*(f[1]-S)/y}%`;const{rotation:w}=e;return e.hasOwnCanvas||w===0?(c.width=`${100*h/g}%`,c.height=`${100*d/y}%`):this.setRotation(w,l),l}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:s,pageHeight:a}=this.parent.viewport.rawDims;let{width:l,height:c}=this;t%180!==0&&([l,c]=[c,l]),e.style.width=`${100*l/s}%`,e.style.height=`${100*c/a}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,s,a)=>{const l=a.detail[e],c=l[0],h=l.slice(1);a.target.style[s]=cb[`${c}_HTML`](h),this.annotationStorage.setValue(this.data.id,{[s]:cb[`${c}_rgb`](h)})};return Tt(this,"_commonActions",{display:e=>{const{display:s}=e.detail,a=s%2===1;this.container.style.visibility=a?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:a,noPrint:s===1||s===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:s}=e.detail;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:s,noView:s})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const s=e.detail.rotation;this.setRotation(s),this.annotationStorage.setValue(this.data.id,{rotation:s})}})}_dispatchEventFromSandbox(t,e){const s=this._commonActions;for(const a of Object.keys(e.detail))(t[a]||s[a])?.(e)}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const s=this._commonActions;for(const[a,l]of Object.entries(e)){const c=s[a];if(c){const h={detail:{[a]:l},target:t};c(h),delete e[a]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,s,a,l]=this.data.rect.map(T=>Math.fround(T));if(t.length===8){const[T,R,M,N]=t.subarray(2,6);if(a===T&&l===R&&e===M&&s===N)return}const{style:c}=this.container;let h;if(this.#e){const{borderColor:T,borderWidth:R}=c;c.borderWidth=0,h=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${T}" stroke-width="${R}">`],this.container.classList.add("hasBorder")}const d=a-e,f=l-s,{svgFactory:g}=this,y=g.createElement("svg");y.classList.add("quadrilateralsContainer"),y.setAttribute("width",0),y.setAttribute("height",0),y.role="none";const b=g.createElement("defs");y.append(b);const S=g.createElement("clipPath"),w=`clippath_${this.data.id}`;S.setAttribute("id",w),S.setAttribute("clipPathUnits","objectBoundingBox"),b.append(S);for(let T=2,R=t.length;T<R;T+=8){const M=t[T],N=t[T+1],C=t[T+2],v=t[T+3],A=g.createElement("rect"),_=(C-e)/d,D=(l-N)/f,P=(M-C)/d,L=(N-v)/f;A.setAttribute("x",_),A.setAttribute("y",D),A.setAttribute("width",P),A.setAttribute("height",L),S.append(A),h?.push(`<rect vector-effect="non-scaling-stroke" x="${_}" y="${D}" width="${P}" height="${L}"/>`)}this.#e&&(h.push("</g></svg>')"),c.backgroundImage=h.join("")),this.container.append(y),this.container.style.clipPath=`url(#${w})`}_createPopup(t=null){const{data:e}=this;let s,a;t?(s={str:t.text},a=t.date):(s=e.contentsObj,a=e.modificationDate);const l=this.#i=new wd({data:{color:e.color,titleObj:e.titleObj,modificationDate:a,contentsObj:s,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]});this.parent.div.append(l.render())}get hasPopupElement(){return!!(this.#i||this.popup||this.data.popupRef)}render(){jt("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const s=[];if(this._fieldObjects){const a=this._fieldObjects[t];if(a)for(const{page:l,id:c,exportValues:h}of a){if(l===-1||c===e)continue;const d=typeof h=="string"?h:null,f=document.querySelector(`[data-element-id="${c}"]`);if(f&&!gn.has(f)){vt(`_getElementsByName - element not allowed: ${c}`);continue}s.push({id:c,exportValue:d,domElement:f})}return s}for(const a of document.getElementsByName(t)){const{exportValue:l}=a,c=a.getAttribute("data-element-id");c!==e&&gn.has(a)&&s.push({id:c,exportValue:l,domElement:a})}return s}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class vf extends ee{constructor(t,e=null){super(t,{isRenderable:!0,ignoreBorder:!!e?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:e}=this,s=document.createElement("a");s.setAttribute("data-element-id",t.id);let a=!1;return t.url?(e.addLinkAttributes(s,t.url,t.newWindow),a=!0):t.action?(this._bindNamedAction(s,t.action,t.overlaidText),a=!0):t.attachment?(this.#e(s,t.attachment,t.overlaidText,t.attachmentDest),a=!0):t.setOCGState?(this.#i(s,t.setOCGState,t.overlaidText),a=!0):t.dest?(this._bindLink(s,t.dest,t.overlaidText),a=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(s,t),a=!0),t.resetForm?(this._bindResetFormAction(s,t.resetForm),a=!0):this.isTooltipOnly&&!a&&(this._bindLink(s,""),a=!0)),this.container.classList.add("linkAnnotation"),a&&this.container.append(s),this.container}#t(){this.container.setAttribute("data-internal-link","")}_bindLink(t,e,s=""){t.href=this.linkService.getDestinationHash(e),t.onclick=()=>(e&&this.linkService.goToDestination(e),!1),(e||e==="")&&this.#t(),s&&(t.title=s)}_bindNamedAction(t,e,s=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(e),!1),s&&(t.title=s),this.#t()}#e(t,e,s="",a=null){t.href=this.linkService.getAnchorUrl(""),e.description?t.title=e.description:s&&(t.title=s),t.onclick=()=>(this.downloadManager?.openOrDownloadData(e.content,e.filename,a),!1),this.#t()}#i(t,e,s=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(e),!1),s&&(t.title=s),this.#t()}_bindJSAction(t,e){t.href=this.linkService.getAnchorUrl("");const s=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const a of Object.keys(e.actions)){const l=s.get(a);l&&(t[l]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e.id,name:a}}),!1))}e.overlaidText&&(t.title=e.overlaidText),t.onclick||(t.onclick=()=>!1),this.#t()}_bindResetFormAction(t,e){const s=t.onclick;if(s||(t.href=this.linkService.getAnchorUrl("")),this.#t(),!this._fieldObjects){vt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),s||(t.onclick=()=>!1);return}t.onclick=()=>{s?.();const{fields:a,refs:l,include:c}=e,h=[];if(a.length!==0||l.length!==0){const g=new Set(l);for(const y of a){const b=this._fieldObjects[y]||[];for(const{id:S}of b)g.add(S)}for(const y of Object.values(this._fieldObjects))for(const b of y)g.has(b.id)===c&&h.push(b)}else for(const g of Object.values(this._fieldObjects))h.push(...g);const d=this.annotationStorage,f=[];for(const g of h){const{id:y}=g;switch(f.push(y),g.type){case"text":{const S=g.defaultValue||"";d.setValue(y,{value:S});break}case"checkbox":case"radiobutton":{const S=g.defaultValue===g.exportValues;d.setValue(y,{value:S});break}case"combobox":case"listbox":{const S=g.defaultValue||"";d.setValue(y,{value:S});break}default:continue}const b=document.querySelector(`[data-element-id="${y}"]`);if(b){if(!gn.has(b)){vt(`_bindResetFormAction - element not allowed: ${y}`);continue}}else continue;b.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:f,name:"ResetForm"}}),!1}}}class NM extends ee{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class yn extends ee{render(){return this.container}showElementAndHideCanvas(t){this.data.hasOwnCanvas&&(t.previousSibling?.nodeName==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return xe.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,s,a,l){s.includes("mouse")?t.addEventListener(s,c=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:l(c),shift:c.shiftKey,modifier:this._getKeyModifier(c)}})}):t.addEventListener(s,c=>{if(s==="blur"){if(!e.focused||!c.relatedTarget)return;e.focused=!1}else if(s==="focus"){if(e.focused)return;e.focused=!0}l&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:l(c)}})})}_setEventListeners(t,e,s,a){for(const[l,c]of s)(c==="Action"||this.data.actions?.[c])&&((c==="Focus"||c==="Blur")&&(e||={focused:!1}),this._setEventListener(t,e,l,c,a),c==="Focus"&&!this.data.actions?.Blur?this._setEventListener(t,e,"blur","Blur",null):c==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":lt.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:s}=this.data.defaultAppearanceData,a=this.data.defaultAppearanceData.fontSize||PM,l=t.style;let c;const h=2,d=f=>Math.round(10*f)/10;if(this.data.multiLine){const f=Math.abs(this.data.rect[3]-this.data.rect[1]-h),g=Math.round(f/(Hh*a))||1,y=f/g;c=Math.min(a,d(y/Hh))}else{const f=Math.abs(this.data.rect[3]-this.data.rect[1]-h);c=Math.min(a,d(f/Hh))}l.fontSize=`calc(${c}px * var(--total-scale-factor))`,l.color=lt.makeHexColor(s[0],s[1],s[2]),this.data.textAlignment!==null&&(l.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class OM extends yn{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,s,a){const l=this.annotationStorage;for(const c of this._getElementsByName(t.name,t.id))c.domElement&&(c.domElement[e]=s),l.setValue(c.id,{[a]:s})}render(){const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let s=null;if(this.renderForms){const a=t.getValue(e,{value:this.data.fieldValue});let l=a.value||"";const c=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;c&&l.length>c&&(l=l.slice(0,c));let h=a.formattedValue||this.data.textContent?.join(`
`)||null;h&&this.data.comb&&(h=h.replaceAll(/\s+/g,""));const d={userValue:l,formattedValue:h,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(s=document.createElement("textarea"),s.textContent=h??l,this.data.doNotScroll&&(s.style.overflowY="hidden")):(s=document.createElement("input"),s.type=this.data.password?"password":"text",s.setAttribute("value",h??l),this.data.doNotScroll&&(s.style.overflowX="hidden")),this.data.hasOwnCanvas&&(s.hidden=!0),gn.add(s),s.setAttribute("data-element-id",e),s.disabled=this.data.readOnly,s.name=this.data.fieldName,s.tabIndex=0;const{datetimeFormat:f,datetimeType:g,timeStep:y}=this.data,b=!!g&&this.enableScripting;f&&(s.title=f),this._setRequired(s,this.data.required),c&&(s.maxLength=c),s.addEventListener("input",w=>{t.setValue(e,{value:w.target.value}),this.setPropertyOnSiblings(s,"value",w.target.value,"value"),d.formattedValue=null}),s.addEventListener("resetform",w=>{const T=this.data.defaultFieldValue??"";s.value=d.userValue=T,d.formattedValue=null});let S=w=>{const{formattedValue:T}=d;T!=null&&(w.target.value=T),w.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){s.addEventListener("focus",T=>{if(d.focused)return;const{target:R}=T;if(b&&(R.type=g,y&&(R.step=y)),d.userValue){const M=d.userValue;if(b)if(g==="time"){const N=new Date(M),C=[N.getHours(),N.getMinutes(),N.getSeconds()];R.value=C.map(v=>v.toString().padStart(2,"0")).join(":")}else R.value=new Date(M-LM).toISOString().split(g==="date"?"T":".",1)[0];else R.value=M}d.lastCommittedValue=R.value,d.commitKey=1,this.data.actions?.Focus||(d.focused=!0)}),s.addEventListener("updatefromsandbox",T=>{this.showElementAndHideCanvas(T.target);const R={value(M){d.userValue=M.detail.value??"",b||t.setValue(e,{value:d.userValue.toString()}),M.target.value=d.userValue},formattedValue(M){const{formattedValue:N}=M.detail;d.formattedValue=N,N!=null&&M.target!==document.activeElement&&(M.target.value=N);const C={formattedValue:N};b&&(C.value=N),t.setValue(e,C)},selRange(M){M.target.setSelectionRange(...M.detail.selRange)},charLimit:M=>{const{charLimit:N}=M.detail,{target:C}=M;if(N===0){C.removeAttribute("maxLength");return}C.setAttribute("maxLength",N);let v=d.userValue;!v||v.length<=N||(v=v.slice(0,N),C.value=d.userValue=v,t.setValue(e,{value:v}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:v,willCommit:!0,commitKey:1,selStart:C.selectionStart,selEnd:C.selectionEnd}}))}};this._dispatchEventFromSandbox(R,T)}),s.addEventListener("keydown",T=>{d.commitKey=1;let R=-1;if(T.key==="Escape"?R=0:T.key==="Enter"&&!this.data.multiLine?R=2:T.key==="Tab"&&(d.commitKey=3),R===-1)return;const{value:M}=T.target;d.lastCommittedValue!==M&&(d.lastCommittedValue=M,d.userValue=M,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:M,willCommit:!0,commitKey:R,selStart:T.target.selectionStart,selEnd:T.target.selectionEnd}}))});const w=S;S=null,s.addEventListener("blur",T=>{if(!d.focused||!T.relatedTarget)return;this.data.actions?.Blur||(d.focused=!1);const{target:R}=T;let{value:M}=R;if(b){if(M&&g==="time"){const N=M.split(":").map(C=>parseInt(C,10));M=new Date(2e3,0,1,N[0],N[1],N[2]||0).valueOf(),R.step=""}else M=new Date(M).valueOf();R.type="text"}d.userValue=M,d.lastCommittedValue!==M&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:M,willCommit:!0,commitKey:d.commitKey,selStart:T.target.selectionStart,selEnd:T.target.selectionEnd}}),w(T)}),this.data.actions?.Keystroke&&s.addEventListener("beforeinput",T=>{d.lastCommittedValue=null;const{data:R,target:M}=T,{value:N,selectionStart:C,selectionEnd:v}=M;let A=C,_=v;switch(T.inputType){case"deleteWordBackward":{const D=N.substring(0,C).match(/\w*[^\w]*$/);D&&(A-=D[0].length);break}case"deleteWordForward":{const D=N.substring(C).match(/^[^\w]*\w*/);D&&(_+=D[0].length);break}case"deleteContentBackward":C===v&&(A-=1);break;case"deleteContentForward":C===v&&(_+=1);break}T.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:N,change:R||"",willCommit:!1,selStart:A,selEnd:_}})}),this._setEventListeners(s,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],T=>T.target.value)}if(S&&s.addEventListener("blur",S),this.data.comb){const T=(this.data.rect[2]-this.data.rect[0])/c;s.classList.add("comb"),s.style.letterSpacing=`calc(${T}px * var(--total-scale-factor) - 1ch)`}}else s=document.createElement("div"),s.textContent=this.data.fieldValue,s.style.verticalAlign="middle",s.style.display="table-cell",this.data.hasOwnCanvas&&(s.hidden=!0);return this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class kM extends yn{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class IM extends yn{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,s=e.id;let a=t.getValue(s,{value:e.exportValue===e.fieldValue}).value;typeof a=="string"&&(a=a!=="Off",t.setValue(s,{value:a})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const l=document.createElement("input");return gn.add(l),l.setAttribute("data-element-id",s),l.disabled=e.readOnly,this._setRequired(l,this.data.required),l.type="checkbox",l.name=e.fieldName,a&&l.setAttribute("checked",!0),l.setAttribute("exportValue",e.exportValue),l.tabIndex=0,l.addEventListener("change",c=>{const{name:h,checked:d}=c.target;for(const f of this._getElementsByName(h,s)){const g=d&&f.exportValue===e.exportValue;f.domElement&&(f.domElement.checked=g),t.setValue(f.id,{value:g})}t.setValue(s,{value:d})}),l.addEventListener("resetform",c=>{const h=e.defaultFieldValue||"Off";c.target.checked=h===e.exportValue}),this.enableScripting&&this.hasJSActions&&(l.addEventListener("updatefromsandbox",c=>{const h={value(d){d.target.checked=d.detail.value!=="Off",t.setValue(s,{value:d.target.checked})}};this._dispatchEventFromSandbox(h,c)}),this._setEventListeners(l,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)),this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.append(l),this.container}}class bA extends yn{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,s=e.id;let a=t.getValue(s,{value:e.fieldValue===e.buttonValue}).value;if(typeof a=="string"&&(a=a!==e.buttonValue,t.setValue(s,{value:a})),a)for(const c of this._getElementsByName(e.fieldName,s))t.setValue(c.id,{value:!1});const l=document.createElement("input");if(gn.add(l),l.setAttribute("data-element-id",s),l.disabled=e.readOnly,this._setRequired(l,this.data.required),l.type="radio",l.name=e.fieldName,a&&l.setAttribute("checked",!0),l.tabIndex=0,l.addEventListener("change",c=>{const{name:h,checked:d}=c.target;for(const f of this._getElementsByName(h,s))t.setValue(f.id,{value:!1});t.setValue(s,{value:d})}),l.addEventListener("resetform",c=>{const h=e.defaultFieldValue;c.target.checked=h!=null&&h===e.buttonValue}),this.enableScripting&&this.hasJSActions){const c=e.buttonValue;l.addEventListener("updatefromsandbox",h=>{const d={value:f=>{const g=c===f.detail.value;for(const y of this._getElementsByName(f.target.name)){const b=g&&y.id===s;y.domElement&&(y.domElement.checked=b),t.setValue(y.id,{value:b})}}};this._dispatchEventFromSandbox(d,h)}),this._setEventListeners(l,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],h=>h.target.checked)}return this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.append(l),this.container}}class BM extends vf{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",s=>{this._dispatchEventFromSandbox({},s)})),t}}class jM extends yn{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,s=t.getValue(e,{value:this.data.fieldValue}),a=document.createElement("select");gn.add(a),a.setAttribute("data-element-id",e),a.disabled=this.data.readOnly,this._setRequired(a,this.data.required),a.name=this.data.fieldName,a.tabIndex=0;let l=this.data.combo&&this.data.options.length>0;this.data.combo||(a.size=this.data.options.length,this.data.multiSelect&&(a.multiple=!0)),a.addEventListener("resetform",g=>{const y=this.data.defaultFieldValue;for(const b of a.options)b.selected=b.value===y});for(const g of this.data.options){const y=document.createElement("option");y.textContent=g.displayValue,y.value=g.exportValue,s.value.includes(g.exportValue)&&(y.setAttribute("selected",!0),l=!1),a.append(y)}let c=null;if(l){const g=document.createElement("option");g.value=" ",g.setAttribute("hidden",!0),g.setAttribute("selected",!0),a.prepend(g),c=()=>{g.remove(),a.removeEventListener("input",c),c=null},a.addEventListener("input",c)}const h=g=>{const y=g?"value":"textContent",{options:b,multiple:S}=a;return S?Array.prototype.filter.call(b,w=>w.selected).map(w=>w[y]):b.selectedIndex===-1?null:b[b.selectedIndex][y]};let d=h(!1);const f=g=>{const y=g.target.options;return Array.prototype.map.call(y,b=>({displayValue:b.textContent,exportValue:b.value}))};return this.enableScripting&&this.hasJSActions?(a.addEventListener("updatefromsandbox",g=>{const y={value(b){c?.();const S=b.detail.value,w=new Set(Array.isArray(S)?S:[S]);for(const T of a.options)T.selected=w.has(T.value);t.setValue(e,{value:h(!0)}),d=h(!1)},multipleSelection(b){a.multiple=!0},remove(b){const S=a.options,w=b.detail.remove;S[w].selected=!1,a.remove(w),S.length>0&&Array.prototype.findIndex.call(S,R=>R.selected)===-1&&(S[0].selected=!0),t.setValue(e,{value:h(!0),items:f(b)}),d=h(!1)},clear(b){for(;a.length!==0;)a.remove(0);t.setValue(e,{value:null,items:[]}),d=h(!1)},insert(b){const{index:S,displayValue:w,exportValue:T}=b.detail.insert,R=a.children[S],M=document.createElement("option");M.textContent=w,M.value=T,R?R.before(M):a.append(M),t.setValue(e,{value:h(!0),items:f(b)}),d=h(!1)},items(b){const{items:S}=b.detail;for(;a.length!==0;)a.remove(0);for(const w of S){const{displayValue:T,exportValue:R}=w,M=document.createElement("option");M.textContent=T,M.value=R,a.append(M)}a.options.length>0&&(a.options[0].selected=!0),t.setValue(e,{value:h(!0),items:f(b)}),d=h(!1)},indices(b){const S=new Set(b.detail.indices);for(const w of b.target.options)w.selected=S.has(w.index);t.setValue(e,{value:h(!0)}),d=h(!1)},editable(b){b.target.disabled=!b.detail.editable}};this._dispatchEventFromSandbox(y,g)}),a.addEventListener("input",g=>{const y=h(!0),b=h(!1);t.setValue(e,{value:y}),g.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:d,change:b,changeEx:y,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(a,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],g=>g.target.value)):a.addEventListener("input",function(g){t.setValue(e,{value:h(!0)})}),this.data.combo&&this._setTextStyle(a),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class wd extends ee{constructor(t){const{data:e,elements:s}=t;super(t,{isRenderable:ee._hasPopupData(e)}),this.elements=s,this.popup=null}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const e=this.popup=new zM({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),s=[];for(const a of this.elements)a.popup=e,a.container.ariaHasPopup="dialog",s.push(a.data.id),a.addHighlightArea();return this.container.setAttribute("aria-controls",s.map(a=>`${cf}${a}`).join(",")),this.container}}class zM{#t=this.#D.bind(this);#e=this.#L.bind(this);#i=this.#E.bind(this);#s=this.#C.bind(this);#a=null;#n=null;#r=null;#o=null;#u=null;#c=null;#d=null;#l=!1;#p=null;#m=null;#f=null;#h=null;#g=null;#v=null;#y=null;#S=!1;constructor({container:t,color:e,elements:s,titleObj:a,modificationDate:l,contentsObj:c,richText:h,parent:d,rect:f,parentRect:g,open:y}){this.#n=t,this.#v=a,this.#r=c,this.#g=h,this.#c=d,this.#a=e,this.#h=f,this.#d=g,this.#u=s,this.#o=bd.toDateObject(l),this.trigger=s.flatMap(b=>b.getElementsToTriggerPopup()),this.#x(),this.#n.hidden=!0,y&&this.#C()}#x(){if(this.#m)return;this.#m=new AbortController;const{signal:t}=this.#m;for(const e of this.trigger)e.addEventListener("click",this.#s,{signal:t}),e.addEventListener("mouseenter",this.#i,{signal:t}),e.addEventListener("mouseleave",this.#e,{signal:t}),e.classList.add("popupTriggerArea");for(const e of this.#u)e.container?.addEventListener("keydown",this.#t,{signal:t})}render(){if(this.#p)return;const t=this.#p=document.createElement("div");if(t.className="popup",this.#a){const a=t.style.outlineColor=lt.makeHexColor(...this.#a);t.style.backgroundColor=`color-mix(in srgb, ${a} 30%, white)`}const e=document.createElement("span");if(e.className="header",this.#v?.str){const a=document.createElement("span");a.className="title",e.append(a),{dir:a.dir,str:a.textContent}=this.#v}if(t.append(e),this.#o){const a=document.createElement("time");a.className="popupDate",a.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),a.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#o.valueOf()})),a.dateTime=this.#o.toISOString(),e.append(a)}const s=this.#b;if(s)yA.render({xfaHtml:s,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const a=this._formatContents(this.#r);t.append(a)}this.#n.append(t)}get#b(){const t=this.#g,e=this.#r;return t?.str&&(!e?.str||e.str===t.str)&&this.#g.html||null}get#T(){return this.#b?.attributes?.style?.fontSize||0}get#R(){return this.#b?.attributes?.style?.color||null}#w(t){const e=[],s={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},a={style:{color:this.#R,fontSize:this.#T?`calc(${this.#T}px * var(--total-scale-factor))`:""}};for(const l of t.split(`
`))e.push({name:"span",value:l,attributes:a});return s}_formatContents({str:t,dir:e}){const s=document.createElement("p");s.classList.add("popupContent"),s.dir=e;const a=t.split(/(?:\r\n?|\n)/);for(let l=0,c=a.length;l<c;++l){const h=a[l];s.append(document.createTextNode(h)),l<c-1&&s.append(document.createElement("br"))}return s}#D(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&this.#l)&&this.#C()}updateEdited({rect:t,popup:e,deleted:s}){if(s||e?.deleted){this.remove();return}this.#x(),this.#y||={contentsObj:this.#r,richText:this.#g},t&&(this.#f=null),e&&(this.#g=this.#w(e.text),this.#o=bd.toDateObject(e.date),this.#r=null),this.#p?.remove(),this.#p=null}resetEdited(){this.#y&&({contentsObj:this.#r,richText:this.#g}=this.#y,this.#y=null,this.#p?.remove(),this.#p=null,this.#f=null)}remove(){this.#m?.abort(),this.#m=null,this.#p?.remove(),this.#p=null,this.#S=!1,this.#l=!1;for(const t of this.trigger)t.classList.remove("popupTriggerArea")}#M(){if(this.#f!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:s,pageX:a,pageY:l}}}=this.#c;let c=!!this.#d,h=c?this.#d:this.#h;for(const w of this.#u)if(!h||lt.intersect(w.data.rect,h)!==null){h=w.data.rect,c=!0;break}const d=lt.normalizeRect([h[0],t[3]-h[1]+t[1],h[2],t[3]-h[3]+t[1]]),g=c?h[2]-h[0]+5:0,y=d[0]+g,b=d[1];this.#f=[100*(y-a)/e,100*(b-l)/s];const{style:S}=this.#n;S.left=`${this.#f[0]}%`,S.top=`${this.#f[1]}%`}#C(){this.#l=!this.#l,this.#l?(this.#E(),this.#n.addEventListener("click",this.#s),this.#n.addEventListener("keydown",this.#t)):(this.#L(),this.#n.removeEventListener("click",this.#s),this.#n.removeEventListener("keydown",this.#t))}#E(){this.#p||this.render(),this.isVisible?this.#l&&this.#n.classList.add("focused"):(this.#M(),this.#n.hidden=!1,this.#n.style.zIndex=parseInt(this.#n.style.zIndex)+1e3)}#L(){this.#n.classList.remove("focused"),!(this.#l||!this.isVisible)&&(this.#n.hidden=!0,this.#n.style.zIndex=parseInt(this.#n.style.zIndex)-1e3)}forceHide(){this.#S=this.isVisible,this.#S&&(this.#n.hidden=!0)}maybeShow(){this.#x(),this.#S&&(this.#p||this.#E(),this.#S=!1,this.#n.hidden=!1)}get isVisible(){return this.#n.hidden===!1}}class vA extends ee{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=bt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const s=document.createElement("span");s.textContent=e,t.append(s)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class FM extends ee{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:t,width:e,height:s}=this,a=this.svgFactory.create(e,s,!0),l=this.#t=this.svgFactory.createElement("svg:line");return l.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),l.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),l.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),l.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),l.setAttribute("stroke-width",t.borderStyle.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),a.append(l),this.container.append(a),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class HM extends ee{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:t,width:e,height:s}=this,a=this.svgFactory.create(e,s,!0),l=t.borderStyle.width,c=this.#t=this.svgFactory.createElement("svg:rect");return c.setAttribute("x",l/2),c.setAttribute("y",l/2),c.setAttribute("width",e-l),c.setAttribute("height",s-l),c.setAttribute("stroke-width",l||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),a.append(c),this.container.append(a),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class VM extends ee{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:t,width:e,height:s}=this,a=this.svgFactory.create(e,s,!0),l=t.borderStyle.width,c=this.#t=this.svgFactory.createElement("svg:ellipse");return c.setAttribute("cx",e/2),c.setAttribute("cy",s/2),c.setAttribute("rx",e/2-l/2),c.setAttribute("ry",s/2-l/2),c.setAttribute("stroke-width",l||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),a.append(c),this.container.append(a),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class AA extends ee{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:e,borderStyle:s,popupRef:a},width:l,height:c}=this;if(!e)return this.container;const h=this.svgFactory.create(l,c,!0);let d=[];for(let g=0,y=e.length;g<y;g+=2){const b=e[g]-t[0],S=t[3]-e[g+1];d.push(`${b},${S}`)}d=d.join(" ");const f=this.#t=this.svgFactory.createElement(this.svgElementName);return f.setAttribute("points",d),f.setAttribute("stroke-width",s.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),h.append(f),this.container.append(h),!a&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class UM extends AA{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class GM extends ee{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Af extends ee{#t=null;#e=[];constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?bt.HIGHLIGHT:bt.INK}#i(t,e){switch(t){case 90:return{transform:`rotate(90) translate(${-e[0]},${e[1]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};case 180:return{transform:`rotate(180) translate(${-e[2]},${e[1]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]};case 270:return{transform:`rotate(270) translate(${-e[2]},${e[3]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};default:return{transform:`translate(${-e[0]},${e[3]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:e,inkLists:s,borderStyle:a,popupRef:l}}=this,{transform:c,width:h,height:d}=this.#i(e,t),f=this.svgFactory.create(h,d,!0),g=this.#t=this.svgFactory.createElement("svg:g");f.append(g),g.setAttribute("stroke-width",a.width||1),g.setAttribute("stroke-linecap","round"),g.setAttribute("stroke-linejoin","round"),g.setAttribute("stroke-miterlimit",10),g.setAttribute("stroke","transparent"),g.setAttribute("fill","transparent"),g.setAttribute("transform",c);for(let y=0,b=s.length;y<b;y++){const S=this.svgFactory.createElement(this.svgElementName);this.#e.push(S),S.setAttribute("points",s[y].join(",")),g.append(S)}return!l&&this.hasPopupData&&this._createPopup(),this.container.append(f),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:e,points:s,rect:a}=t,l=this.#t;if(e>=0&&l.setAttribute("stroke-width",e||1),s)for(let c=0,h=this.#e.length;c<h;c++)this.#e[c].setAttribute("points",s[c].join(","));if(a){const{transform:c,width:h,height:d}=this.#i(this.data.rotation,a);l.parentElement.setAttribute("viewBox",`0 0 ${h} ${d}`),l.setAttribute("transform",c)}}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class SA extends ee{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=bt.HIGHLIGHT}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),t){const s=document.createElement("mark");s.classList.add("overlaidText"),s.textContent=t,this.container.append(s)}return this.container}}class qM extends ee{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),t){const s=document.createElement("u");s.classList.add("overlaidText"),s.textContent=t,this.container.append(s)}return this.container}}class XM extends ee{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),t){const s=document.createElement("u");s.classList.add("overlaidText"),s.textContent=t,this.container.append(s)}return this.container}}class YM extends ee{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),t){const s=document.createElement("s");s.classList.add("overlaidText"),s.textContent=t,this.container.append(s)}return this.container}}class xA extends ee{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=bt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class $M extends ee{#t=null;constructor(t){super(t,{isRenderable:!0});const{file:e}=this.data;this.filename=e.filename,this.content=e.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...e})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:e}=this;let s;e.hasAppearance||e.fillAlpha===0?s=document.createElement("div"):(s=document.createElement("img"),s.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(e.name)?"paperclip":"pushpin"}.svg`,e.fillAlpha&&e.fillAlpha<1&&(s.style=`filter: opacity(${Math.round(e.fillAlpha*100)}%);`)),s.addEventListener("dblclick",this.#e.bind(this)),this.#t=s;const{isMac:a}=xe.platform;return t.addEventListener("keydown",l=>{l.key==="Enter"&&(a?l.metaKey:l.ctrlKey)&&this.#e()}),!e.popupRef&&this.hasPopupData?this._createPopup():s.classList.add("popupTriggerArea"),t.append(s),t}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}#e(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class Sf{#t=null;#e=null;#i=new Map;#s=null;constructor({div:t,accessibilityManager:e,annotationCanvasMap:s,annotationEditorUIManager:a,page:l,viewport:c,structTreeLayer:h}){this.div=t,this.#t=e,this.#e=s,this.#s=h||null,this.page=l,this.viewport=c,this.zIndex=0,this._annotationEditorUIManager=a}hasEditableAnnotations(){return this.#i.size>0}async#a(t,e,s){const a=t.firstChild||t,l=a.id=`${cf}${e}`,c=await this.#s?.getAriaAttributes(l);if(c)for(const[h,d]of c)a.setAttribute(h,d);s?s.at(-1).container.after(t):(this.div.append(t),this.#t?.moveElementInDOM(this.div,t,a,!1))}async render(t){const{annotations:e}=t,s=this.div;pn(s,this.viewport);const a=new Map,l={data:null,layer:s,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new $l,annotationStorage:t.annotationStorage||new pf,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const c of e){if(c.noHTML)continue;const h=c.annotationType===ae.POPUP;if(h){const g=a.get(c.id);if(!g)continue;l.elements=g}else if(c.rect[2]===c.rect[0]||c.rect[3]===c.rect[1])continue;l.data=c;const d=ub.create(l);if(!d.isRenderable)continue;if(!h&&c.popupRef){const g=a.get(c.popupRef);g?g.push(d):a.set(c.popupRef,[d])}const f=d.render();c.hidden&&(f.style.visibility="hidden"),await this.#a(f,c.id,l.elements),d._isEditable&&(this.#i.set(d.data.id,d),this._annotationEditorUIManager?.renderAnnotationElement(d))}this.#n()}async addLinkAnnotations(t,e){const s={data:null,layer:this.div,linkService:e,svgFactory:new $l,parent:this};for(const a of t){a.borderStyle||=Sf._defaultBorderStyle,s.data=a;const l=ub.create(s);if(!l.isRenderable)continue;const c=l.render();await this.#a(c,a.id,null)}}update({viewport:t}){const e=this.div;this.viewport=t,pn(e,{rotation:t.rotation}),this.#n(),e.hidden=!1}#n(){if(!this.#e)return;const t=this.div;for(const[e,s]of this.#e){const a=t.querySelector(`[data-annotation-id="${e}"]`);if(!a)continue;s.className="annotationContent";const{firstChild:l}=a;l?l.nodeName==="CANVAS"?l.replaceWith(s):l.classList.contains("annotationContent")?l.after(s):l.before(s):a.append(s);const c=this.#i.get(e);c&&(c._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(e,a.id,s),c._hasNoCanvas=!1):c.canvas=s)}this.#e.clear()}getEditableAnnotations(){return Array.from(this.#i.values())}getEditableAnnotation(t){return this.#i.get(t)}static get _defaultBorderStyle(){return Tt(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:na.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}}const Ll=/\r\n?|\n/g;class he extends ut{#t;#e="";#i=`${this.id}-editor`;#s=null;#a;_colorPicker=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const t=he.prototype,e=l=>l.isEmpty(),s=ks.TRANSLATE_SMALL,a=ks.TRANSLATE_BIG;return Tt(this,"_keyboardManager",new so([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-a,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[s,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[a,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-a],checker:e}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,s],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,a],checker:e}]]))}static _type="freetext";static _editorType=bt.FREETEXT;constructor(t){super({...t,name:"freeTextEditor"}),this.#t=t.color||he._defaultColor||ut._defaultLineColor,this.#a=t.fontSize||he._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static initialize(t,e){ut.initialize(t,e);const s=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(s.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,e){switch(t){case Mt.FREETEXT_SIZE:he._defaultFontSize=e;break;case Mt.FREETEXT_COLOR:he._defaultColor=e;break}}updateParams(t,e){switch(t){case Mt.FREETEXT_SIZE:this.#n(e);break;case Mt.FREETEXT_COLOR:this.#r(e);break}}static get defaultPropertiesToUpdate(){return[[Mt.FREETEXT_SIZE,he._defaultFontSize],[Mt.FREETEXT_COLOR,he._defaultColor||ut._defaultLineColor]]}get propertiesToUpdate(){return[[Mt.FREETEXT_SIZE,this.#a],[Mt.FREETEXT_COLOR,this.#t]]}get toolbarButtons(){return this._colorPicker||=new Wr(this),[["colorPicker",this._colorPicker]]}get colorType(){return Mt.FREETEXT_COLOR}get colorValue(){return this.#t}#n(t){const e=a=>{this.editorDiv.style.fontSize=`calc(${a}px * var(--total-scale-factor))`,this.translate(0,-(a-this.#a)*this.parentScale),this.#a=a,this.#u()},s=this.#a;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Mt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#r(t){const e=a=>{this.#t=this.editorDiv.style.color=a,this._colorPicker?.update(a)},s=this.#t;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Mt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(t,e){this._uiManager.translateSelectedEditors(t,e,!0)}getInitialTranslation(){const t=this.parentScale;return[-he._internalPadding*t,-(he._internalPadding+this.#a)*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#s=new AbortController;const t=this._uiManager.combinedSignal(this.#s);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#i),this._isDraggable=!0,this.#s?.abort(),this.#s=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#o(){const t=[];this.editorDiv.normalize();let e=null;for(const s of this.editorDiv.childNodes)e?.nodeType===Node.TEXT_NODE&&s.nodeName==="BR"||(t.push(he.#c(s)),e=s);return t.join(`
`)}#u(){const[t,e]=this.parentDimensions;let s;if(this.isAttachedToDOM)s=this.div.getBoundingClientRect();else{const{currentLayer:a,div:l}=this,c=l.style.display,h=l.classList.contains("hidden");l.classList.remove("hidden"),l.style.display="hidden",a.div.append(this.div),s=l.getBoundingClientRect(),l.remove(),l.style.display=c,l.classList.toggle("hidden",h)}this.rotation%180===this.parentRotation%180?(this.width=s.width/t,this.height=s.height/e):(this.width=s.height/t,this.height=s.width/e),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=this.#e,e=this.#e=this.#o().trimEnd();if(t===e)return;const s=a=>{if(this.#e=a,!a){this.remove();return}this.#d(),this._uiManager.rebuild(this),this.#u()};this.addCommands({cmd:()=>{s(e)},undo:()=>{s(t)},mustExec:!1}),this.#u()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){he._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,e;(this._isCopy||this.annotationElementId)&&(t=this.x,e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#i),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:s}=this.editorDiv;if(s.fontSize=`calc(${this.#a}px * var(--total-scale-factor))`,s.color=this.#t,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[a,l]=this.parentDimensions;if(this.annotationElementId){const{position:c}=this._initialData;let[h,d]=this.getInitialTranslation();[h,d]=this.pageTranslationToScreen(h,d);const[f,g]=this.pageDimensions,[y,b]=this.pageTranslation;let S,w;switch(this.rotation){case 0:S=t+(c[0]-y)/f,w=e+this.height-(c[1]-b)/g;break;case 90:S=t+(c[0]-y)/f,w=e-(c[1]-b)/g,[h,d]=[d,-h];break;case 180:S=t-this.width+(c[0]-y)/f,w=e-(c[1]-b)/g,[h,d]=[-h,-d];break;case 270:S=t+(c[0]-y-this.height*g)/f,w=e+(c[1]-b-this.width*f)/g,[h,d]=[-d,h];break}this.setAt(S*a,w*l,h,d)}else this._moveAfterPaste(t,e);this.#d(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#c(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Ll,"")}editorDivPaste(t){const e=t.clipboardData||window.clipboardData,{types:s}=e;if(s.length===1&&s[0]==="text/plain")return;t.preventDefault();const a=he.#p(e.getData("text")||"").replaceAll(Ll,`
`);if(!a)return;const l=window.getSelection();if(!l.rangeCount)return;this.editorDiv.normalize(),l.deleteFromDocument();const c=l.getRangeAt(0);if(!a.includes(`
`)){c.insertNode(document.createTextNode(a)),this.editorDiv.normalize(),l.collapseToStart();return}const{startContainer:h,startOffset:d}=c,f=[],g=[];if(h.nodeType===Node.TEXT_NODE){const S=h.parentElement;if(g.push(h.nodeValue.slice(d).replaceAll(Ll,"")),S!==this.editorDiv){let w=f;for(const T of this.editorDiv.childNodes){if(T===S){w=g;continue}w.push(he.#c(T))}}f.push(h.nodeValue.slice(0,d).replaceAll(Ll,""))}else if(h===this.editorDiv){let S=f,w=0;for(const T of this.editorDiv.childNodes)w++===d&&(S=g),S.push(he.#c(T))}this.#e=`${f.join(`
`)}${a}${g.join(`
`)}`,this.#d();const y=new Range;let b=Math.sumPrecise(f.map(S=>S.length));for(const{firstChild:S}of this.editorDiv.childNodes)if(S.nodeType===Node.TEXT_NODE){const w=S.nodeValue.length;if(b<=w){y.setStart(S,b),y.setEnd(S,b);break}b-=w}l.removeAllRanges(),l.addRange(y)}#d(){if(this.editorDiv.replaceChildren(),!!this.#e)for(const t of this.#e.split(`
`)){const e=document.createElement("div");e.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(e)}}#l(){return this.#e.replaceAll(""," ")}static#p(t){return t.replaceAll(" ","")}get contentDiv(){return this.editorDiv}static async deserialize(t,e,s){let a=null;if(t instanceof vA){const{data:{defaultAppearanceData:{fontSize:c,fontColor:h},rect:d,rotation:f,id:g,popupRef:y,contentsObj:b},textContent:S,textPosition:w,parent:{page:{pageNumber:T}}}=t;if(!S||S.length===0)return null;a=t={annotationType:bt.FREETEXT,color:Array.from(h),fontSize:c,value:S.join(`
`),position:w,pageIndex:T-1,rect:d.slice(0),rotation:f,annotationElementId:g,id:g,deleted:!1,popupRef:y,comment:b?.str||null}}const l=await super.deserialize(t,e,s);return l.#a=t.fontSize,l.#t=lt.makeHexColor(...t.color),l.#e=he.#p(t.value),l._initialData=a,t.comment&&l.setCommentData(t.comment),l}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const e=he._internalPadding*this.parentScale,s=this.getRect(e,e),a=ut._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#t),l={annotationType:bt.FREETEXT,color:a,fontSize:this.#a,value:this.#l(),pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return this.addComment(l),t?(l.isCopy=!0,l):this.annotationElementId&&!this.#m(l)?null:(l.id=this.annotationElementId,l)}#m(t){const{value:e,fontSize:s,color:a,pageIndex:l}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==e||t.fontSize!==s||t.color.some((c,h)=>c!==a[h])||t.pageIndex!==l}renderAnnotationElement(t){const e=super.renderAnnotationElement(t),{style:s}=e;s.fontSize=`calc(${this.#a}px * var(--total-scale-factor))`,s.color=this.#t,e.replaceChildren();for(const c of this.#e.split(`
`)){const h=document.createElement("div");h.append(c?document.createTextNode(c):document.createElement("br")),e.append(h)}const a=he._internalPadding*this.parentScale,l={rect:this.getRect(a,a)};return l.popup=this.hasEditedComment?this.comment:{text:this.#e},t.updateEdited(l),e}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}}class st{static PRECISION=1e-4;toSVGPath(){jt("Abstract method `toSVGPath` must be implemented.")}get box(){jt("Abstract getter `box` must be implemented.")}serialize(t,e){jt("Abstract method `serialize` must be implemented.")}static _rescale(t,e,s,a,l,c){c||=new Float32Array(t.length);for(let h=0,d=t.length;h<d;h+=2)c[h]=e+t[h]*a,c[h+1]=s+t[h+1]*l;return c}static _rescaleAndSwap(t,e,s,a,l,c){c||=new Float32Array(t.length);for(let h=0,d=t.length;h<d;h+=2)c[h]=e+t[h+1]*a,c[h+1]=s+t[h]*l;return c}static _translate(t,e,s,a){a||=new Float32Array(t.length);for(let l=0,c=t.length;l<c;l+=2)a[l]=e+t[l],a[l+1]=s+t[l+1];return a}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,e,s,a,l){switch(l){case 90:return[1-e/s,t/a];case 180:return[1-t/s,1-e/a];case 270:return[e/s,1-t/a];default:return[t/s,e/a]}}static _normalizePagePoint(t,e,s){switch(s){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,s,a,l,c){return[(t+5*s)/6,(e+5*a)/6,(5*s+l)/6,(5*a+c)/6,(s+l)/2,(a+c)/2]}}class ln{#t;#e=[];#i;#s;#a=[];#n=new Float32Array(18);#r;#o;#u;#c;#d;#l;#p=[];static#m=8;static#f=2;static#h=ln.#m+ln.#f;constructor({x:t,y:e},s,a,l,c,h=0){this.#t=s,this.#l=l*a,this.#s=c,this.#n.set([NaN,NaN,NaN,NaN,t,e],6),this.#i=h,this.#c=ln.#m*a,this.#u=ln.#h*a,this.#d=a,this.#p.push(t,e)}isEmpty(){return isNaN(this.#n[8])}#g(){const t=this.#n.subarray(4,6),e=this.#n.subarray(16,18),[s,a,l,c]=this.#t;return[(this.#r+(t[0]-e[0])/2-s)/l,(this.#o+(t[1]-e[1])/2-a)/c,(this.#r+(e[0]-t[0])/2-s)/l,(this.#o+(e[1]-t[1])/2-a)/c]}add({x:t,y:e}){this.#r=t,this.#o=e;const[s,a,l,c]=this.#t;let[h,d,f,g]=this.#n.subarray(8,12);const y=t-f,b=e-g,S=Math.hypot(y,b);if(S<this.#u)return!1;const w=S-this.#c,T=w/S,R=T*y,M=T*b;let N=h,C=d;h=f,d=g,f+=R,g+=M,this.#p?.push(t,e);const v=-M/w,A=R/w,_=v*this.#l,D=A*this.#l;return this.#n.set(this.#n.subarray(2,8),0),this.#n.set([f+_,g+D],4),this.#n.set(this.#n.subarray(14,18),12),this.#n.set([f-_,g-D],16),isNaN(this.#n[6])?(this.#a.length===0&&(this.#n.set([h+_,d+D],2),this.#a.push(NaN,NaN,NaN,NaN,(h+_-s)/l,(d+D-a)/c),this.#n.set([h-_,d-D],14),this.#e.push(NaN,NaN,NaN,NaN,(h-_-s)/l,(d-D-a)/c)),this.#n.set([N,C,h,d,f,g],6),!this.isEmpty()):(this.#n.set([N,C,h,d,f,g],6),Math.abs(Math.atan2(C-d,N-h)-Math.atan2(M,R))<Math.PI/2?([h,d,f,g]=this.#n.subarray(2,6),this.#a.push(NaN,NaN,NaN,NaN,((h+f)/2-s)/l,((d+g)/2-a)/c),[h,d,N,C]=this.#n.subarray(14,18),this.#e.push(NaN,NaN,NaN,NaN,((N+h)/2-s)/l,((C+d)/2-a)/c),!0):([N,C,h,d,f,g]=this.#n.subarray(0,6),this.#a.push(((N+5*h)/6-s)/l,((C+5*d)/6-a)/c,((5*h+f)/6-s)/l,((5*d+g)/6-a)/c,((h+f)/2-s)/l,((d+g)/2-a)/c),[f,g,h,d,N,C]=this.#n.subarray(12,18),this.#e.push(((N+5*h)/6-s)/l,((C+5*d)/6-a)/c,((5*h+f)/6-s)/l,((5*d+g)/6-a)/c,((h+f)/2-s)/l,((d+g)/2-a)/c),!0))}toSVGPath(){if(this.isEmpty())return"";const t=this.#a,e=this.#e;if(isNaN(this.#n[6])&&!this.isEmpty())return this.#v();const s=[];s.push(`M${t[4]} ${t[5]}`);for(let a=6;a<t.length;a+=6)isNaN(t[a])?s.push(`L${t[a+4]} ${t[a+5]}`):s.push(`C${t[a]} ${t[a+1]} ${t[a+2]} ${t[a+3]} ${t[a+4]} ${t[a+5]}`);this.#S(s);for(let a=e.length-6;a>=6;a-=6)isNaN(e[a])?s.push(`L${e[a+4]} ${e[a+5]}`):s.push(`C${e[a]} ${e[a+1]} ${e[a+2]} ${e[a+3]} ${e[a+4]} ${e[a+5]}`);return this.#y(s),s.join(" ")}#v(){const[t,e,s,a]=this.#t,[l,c,h,d]=this.#g();return`M${(this.#n[2]-t)/s} ${(this.#n[3]-e)/a} L${(this.#n[4]-t)/s} ${(this.#n[5]-e)/a} L${l} ${c} L${h} ${d} L${(this.#n[16]-t)/s} ${(this.#n[17]-e)/a} L${(this.#n[14]-t)/s} ${(this.#n[15]-e)/a} Z`}#y(t){const e=this.#e;t.push(`L${e[4]} ${e[5]} Z`)}#S(t){const[e,s,a,l]=this.#t,c=this.#n.subarray(4,6),h=this.#n.subarray(16,18),[d,f,g,y]=this.#g();t.push(`L${(c[0]-e)/a} ${(c[1]-s)/l} L${d} ${f} L${g} ${y} L${(h[0]-e)/a} ${(h[1]-s)/l}`)}newFreeDrawOutline(t,e,s,a,l,c){return new wA(t,e,s,a,l,c)}getOutlines(){const t=this.#a,e=this.#e,s=this.#n,[a,l,c,h]=this.#t,d=new Float32Array((this.#p?.length??0)+2);for(let y=0,b=d.length-2;y<b;y+=2)d[y]=(this.#p[y]-a)/c,d[y+1]=(this.#p[y+1]-l)/h;if(d[d.length-2]=(this.#r-a)/c,d[d.length-1]=(this.#o-l)/h,isNaN(s[6])&&!this.isEmpty())return this.#x(d);const f=new Float32Array(this.#a.length+24+this.#e.length);let g=t.length;for(let y=0;y<g;y+=2){if(isNaN(t[y])){f[y]=f[y+1]=NaN;continue}f[y]=t[y],f[y+1]=t[y+1]}g=this.#T(f,g);for(let y=e.length-6;y>=6;y-=6)for(let b=0;b<6;b+=2){if(isNaN(e[y+b])){f[g]=f[g+1]=NaN,g+=2;continue}f[g]=e[y+b],f[g+1]=e[y+b+1],g+=2}return this.#b(f,g),this.newFreeDrawOutline(f,d,this.#t,this.#d,this.#i,this.#s)}#x(t){const e=this.#n,[s,a,l,c]=this.#t,[h,d,f,g]=this.#g(),y=new Float32Array(36);return y.set([NaN,NaN,NaN,NaN,(e[2]-s)/l,(e[3]-a)/c,NaN,NaN,NaN,NaN,(e[4]-s)/l,(e[5]-a)/c,NaN,NaN,NaN,NaN,h,d,NaN,NaN,NaN,NaN,f,g,NaN,NaN,NaN,NaN,(e[16]-s)/l,(e[17]-a)/c,NaN,NaN,NaN,NaN,(e[14]-s)/l,(e[15]-a)/c],0),this.newFreeDrawOutline(y,t,this.#t,this.#d,this.#i,this.#s)}#b(t,e){const s=this.#e;return t.set([NaN,NaN,NaN,NaN,s[4],s[5]],e),e+=6}#T(t,e){const s=this.#n.subarray(4,6),a=this.#n.subarray(16,18),[l,c,h,d]=this.#t,[f,g,y,b]=this.#g();return t.set([NaN,NaN,NaN,NaN,(s[0]-l)/h,(s[1]-c)/d,NaN,NaN,NaN,NaN,f,g,NaN,NaN,NaN,NaN,y,b,NaN,NaN,NaN,NaN,(a[0]-l)/h,(a[1]-c)/d],e),e+=24}}class wA extends st{#t;#e=new Float32Array(4);#i;#s;#a;#n;#r;constructor(t,e,s,a,l,c){super(),this.#r=t,this.#a=e,this.#t=s,this.#n=a,this.#i=l,this.#s=c,this.lastPoint=[NaN,NaN],this.#o(c);const[h,d,f,g]=this.#e;for(let y=0,b=t.length;y<b;y+=2)t[y]=(t[y]-h)/f,t[y+1]=(t[y+1]-d)/g;for(let y=0,b=e.length;y<b;y+=2)e[y]=(e[y]-h)/f,e[y+1]=(e[y+1]-d)/g}toSVGPath(){const t=[`M${this.#r[4]} ${this.#r[5]}`];for(let e=6,s=this.#r.length;e<s;e+=6){if(isNaN(this.#r[e])){t.push(`L${this.#r[e+4]} ${this.#r[e+5]}`);continue}t.push(`C${this.#r[e]} ${this.#r[e+1]} ${this.#r[e+2]} ${this.#r[e+3]} ${this.#r[e+4]} ${this.#r[e+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,e,s,a],l){const c=s-t,h=a-e;let d,f;switch(l){case 0:d=st._rescale(this.#r,t,a,c,-h),f=st._rescale(this.#a,t,a,c,-h);break;case 90:d=st._rescaleAndSwap(this.#r,t,e,c,h),f=st._rescaleAndSwap(this.#a,t,e,c,h);break;case 180:d=st._rescale(this.#r,s,e,-c,h),f=st._rescale(this.#a,s,e,-c,h);break;case 270:d=st._rescaleAndSwap(this.#r,s,a,-c,-h),f=st._rescaleAndSwap(this.#a,s,a,-c,-h);break}return{outline:Array.from(d),points:[Array.from(f)]}}#o(t){const e=this.#r;let s=e[4],a=e[5];const l=[s,a,s,a];let c=s,h=a;const d=t?Math.max:Math.min;for(let g=6,y=e.length;g<y;g+=6){const b=e[g+4],S=e[g+5];if(isNaN(e[g]))lt.pointBoundingBox(b,S,l),h<S?(c=b,h=S):h===S&&(c=d(c,b));else{const w=[1/0,1/0,-1/0,-1/0];lt.bezierBoundingBox(s,a,...e.slice(g,g+6),w),lt.rectBoundingBox(...w,l),h<w[3]?(c=w[2],h=w[3]):h===w[3]&&(c=d(c,w[2]))}s=b,a=S}const f=this.#e;f[0]=l[0]-this.#i,f[1]=l[1]-this.#i,f[2]=l[2]-l[0]+2*this.#i,f[3]=l[3]-l[1]+2*this.#i,this.lastPoint=[c,h]}get box(){return this.#e}newOutliner(t,e,s,a,l,c=0){return new ln(t,e,s,a,l,c)}getNewOutline(t,e){const[s,a,l,c]=this.#e,[h,d,f,g]=this.#t,y=l*f,b=c*g,S=s*f+h,w=a*g+d,T=this.newOutliner({x:this.#a[0]*y+S,y:this.#a[1]*b+w},this.#t,this.#n,t,this.#s,e??this.#i);for(let R=2;R<this.#a.length;R+=2)T.add({x:this.#a[R]*y+S,y:this.#a[R+1]*b+w});return T.getOutlines()}}class Td{#t;#e;#i=[];#s=[];constructor(t,e=0,s=0,a=!0){const l=[1/0,1/0,-1/0,-1/0],c=10**-4;for(const{x:S,y:w,width:T,height:R}of t){const M=Math.floor((S-e)/c)*c,N=Math.ceil((S+T+e)/c)*c,C=Math.floor((w-e)/c)*c,v=Math.ceil((w+R+e)/c)*c,A=[M,C,v,!0],_=[N,C,v,!1];this.#i.push(A,_),lt.rectBoundingBox(M,C,N,v,l)}const h=l[2]-l[0]+2*s,d=l[3]-l[1]+2*s,f=l[0]-s,g=l[1]-s,y=this.#i.at(a?-1:-2),b=[y[0],y[2]];for(const S of this.#i){const[w,T,R]=S;S[0]=(w-f)/h,S[1]=(T-g)/d,S[2]=(R-g)/d}this.#t=new Float32Array([f,g,h,d]),this.#e=b}getOutlines(){this.#i.sort((e,s)=>e[0]-s[0]||e[1]-s[1]||e[2]-s[2]);const t=[];for(const e of this.#i)e[3]?(t.push(...this.#u(e)),this.#r(e)):(this.#o(e),t.push(...this.#u(e)));return this.#a(t)}#a(t){const e=[],s=new Set;for(const c of t){const[h,d,f]=c;e.push([h,d,c],[h,f,c])}e.sort((c,h)=>c[1]-h[1]||c[0]-h[0]);for(let c=0,h=e.length;c<h;c+=2){const d=e[c][2],f=e[c+1][2];d.push(f),f.push(d),s.add(d),s.add(f)}const a=[];let l;for(;s.size>0;){const c=s.values().next().value;let[h,d,f,g,y]=c;s.delete(c);let b=h,S=d;for(l=[h,f],a.push(l);;){let w;if(s.has(g))w=g;else if(s.has(y))w=y;else break;s.delete(w),[h,d,f,g,y]=w,b!==h&&(l.push(b,S,h,S===d?d:f),b=h),S=S===d?f:d}l.push(b,S)}return new WM(a,this.#t,this.#e)}#n(t){const e=this.#s;let s=0,a=e.length-1;for(;s<=a;){const l=s+a>>1,c=e[l][0];if(c===t)return l;c<t?s=l+1:a=l-1}return a+1}#r([,t,e]){const s=this.#n(t);this.#s.splice(s,0,[t,e])}#o([,t,e]){const s=this.#n(t);for(let a=s;a<this.#s.length;a++){const[l,c]=this.#s[a];if(l!==t)break;if(l===t&&c===e){this.#s.splice(a,1);return}}for(let a=s-1;a>=0;a--){const[l,c]=this.#s[a];if(l!==t)break;if(l===t&&c===e){this.#s.splice(a,1);return}}}#u(t){const[e,s,a]=t,l=[[e,s,a]],c=this.#n(a);for(let h=0;h<c;h++){const[d,f]=this.#s[h];for(let g=0,y=l.length;g<y;g++){const[,b,S]=l[g];if(!(f<=b||S<=d)){if(b>=d){if(S>f)l[g][1]=f;else{if(y===1)return[];l.splice(g,1),g--,y--}continue}l[g][2]=d,S>f&&l.push([e,f,S])}}}return l}}class WM extends st{#t;#e;constructor(t,e,s){super(),this.#e=t,this.#t=e,this.lastPoint=s}toSVGPath(){const t=[];for(const e of this.#e){let[s,a]=e;t.push(`M${s} ${a}`);for(let l=2;l<e.length;l+=2){const c=e[l],h=e[l+1];c===s?(t.push(`V${h}`),a=h):h===a&&(t.push(`H${c}`),s=c)}t.push("Z")}return t.join(" ")}serialize([t,e,s,a],l){const c=[],h=s-t,d=a-e;for(const f of this.#e){const g=new Array(f.length);for(let y=0;y<f.length;y+=2)g[y]=t+f[y]*h,g[y+1]=a-f[y+1]*d;c.push(g)}return c}get box(){return this.#t}get classNamesForOutlining(){return["highlightOutline"]}}class _d extends ln{newFreeDrawOutline(t,e,s,a,l,c){return new KM(t,e,s,a,l,c)}}class KM extends wA{newOutliner(t,e,s,a,l,c=0){return new _d(t,e,s,a,l,c)}}class Jt extends ut{#t=null;#e=0;#i;#s=null;#a=null;#n=null;#r=null;#o=0;#u=null;#c=null;#d=null;#l=!1;#p=null;#m;#f=null;#h="";#g;#v="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=bt.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const t=Jt.prototype;return Tt(this,"_keyboardManager",new so([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}constructor(t){super({...t,name:"highlightEditor"}),this.color=t.color||Jt._defaultColor,this.#g=t.thickness||Jt._defaultThickness,this.#m=t.opacity||Jt._defaultOpacity,this.#i=t.boxes||null,this.#v=t.methodOfCreation||"",this.#h=t.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(this.#l=!0,this.#S(t),this.#w()):this.#i&&(this.#t=t.anchorNode,this.#e=t.anchorOffset,this.#r=t.focusNode,this.#o=t.focusOffset,this.#y(),this.#w(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#l?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:this.#g,methodOfCreation:this.#v}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}get commentColor(){return this.color}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}#y(){const t=new Td(this.#i,.001);this.#c=t.getOutlines(),[this.x,this.y,this.width,this.height]=this.#c.box;const e=new Td(this.#i,.0025,.001,this._uiManager.direction==="ltr");this.#n=e.getOutlines();const{lastPoint:s}=this.#n;this.#p=[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height]}#S({highlightOutlines:t,highlightId:e,clipPathId:s}){this.#c=t;const a=1.5;if(this.#n=t.getNewOutline(this.#g/2+a,.0025),e>=0)this.#d=e,this.#s=s,this.parent.drawLayer.finalizeDraw(e,{bbox:t.box,path:{d:t.toSVGPath()}}),this.#f=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#n.box,path:{d:this.#n.toSVGPath()}},!0);else if(this.parent){const g=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#d,{bbox:Jt.#D(this.#c.box,(g-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#f,{bbox:Jt.#D(this.#n.box,g),path:{d:this.#n.toSVGPath()}})}const[l,c,h,d]=t.box;switch(this.rotation){case 0:this.x=l,this.y=c,this.width=h,this.height=d;break;case 90:{const[g,y]=this.parentDimensions;this.x=c,this.y=1-l,this.width=h*y/g,this.height=d*g/y;break}case 180:this.x=1-l,this.y=1-c,this.width=h,this.height=d;break;case 270:{const[g,y]=this.parentDimensions;this.x=1-c,this.y=l,this.width=h*y/g,this.height=d*g/y;break}}const{lastPoint:f}=this.#n;this.#p=[(f[0]-l)/h,(f[1]-c)/d]}static initialize(t,e){ut.initialize(t,e),Jt._defaultColor||=e.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(t,e){switch(t){case Mt.HIGHLIGHT_COLOR:Jt._defaultColor=e;break;case Mt.HIGHLIGHT_THICKNESS:Jt._defaultThickness=e;break}}translateInPage(t,e){}get toolbarPosition(){return this.#p}updateParams(t,e){switch(t){case Mt.HIGHLIGHT_COLOR:this.#x(e);break;case Mt.HIGHLIGHT_THICKNESS:this.#b(e);break}}static get defaultPropertiesToUpdate(){return[[Mt.HIGHLIGHT_COLOR,Jt._defaultColor],[Mt.HIGHLIGHT_THICKNESS,Jt._defaultThickness]]}get propertiesToUpdate(){return[[Mt.HIGHLIGHT_COLOR,this.color||Jt._defaultColor],[Mt.HIGHLIGHT_THICKNESS,this.#g||Jt._defaultThickness],[Mt.HIGHLIGHT_FREE,this.#l]]}#x(t){const e=(l,c)=>{this.color=l,this.#m=c,this.parent?.drawLayer.updateProperties(this.#d,{root:{fill:l,"fill-opacity":c}}),this.#a?.updateColor(l)},s=this.color,a=this.#m;this.addCommands({cmd:e.bind(this,t,Jt._defaultOpacity),undo:e.bind(this,s,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Mt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)}#b(t){const e=this.#g,s=a=>{this.#g=a,this.#T(a)};this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Mt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#a=new di({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#E())}getBaseTranslation(){return[0,0]}getRect(t,e){return super.getRect(t,e,this.#E())}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){this.#R(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#w(),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?this.#R():t&&(this.#w(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),this.show(this._isVisible),e&&this.select()}#T(t){if(!this.#l)return;this.#S({highlightOutlines:this.#c.getNewOutline(t/2)}),this.fixAndSetPosition();const[e,s]=this.parentDimensions;this.setDims(this.width*e,this.height*s)}#R(){this.#d===null||!this.parent||(this.parent.drawLayer.remove(this.#d),this.#d=null,this.parent.drawLayer.remove(this.#f),this.#f=null)}#w(t=this.parent){this.#d===null&&({id:this.#d,clipPathId:this.#s}=t.drawLayer.draw({bbox:this.#c.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.#m},rootClass:{highlight:!0,free:this.#l},path:{d:this.#c.toSVGPath()}},!1,!0),this.#f=t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#l},bbox:this.#n.box,path:{d:this.#n.toSVGPath()}},this.#l),this.#u&&(this.#u.style.clipPath=this.#s))}static#D([t,e,s,a],l){switch(l){case 90:return[1-e-a,t,a,s];case 180:return[1-t-s,1-e-a,s,a];case 270:return[e,1-t-s,a,s]}return[t,e,s,a]}rotate(t){const{drawLayer:e}=this.parent;let s;this.#l?(t=(t-this.rotation+360)%360,s=Jt.#D(this.#c.box,t)):s=Jt.#D([this.x,this.y,this.width,this.height],t),e.updateProperties(this.#d,{bbox:s,root:{"data-main-rotation":t}}),e.updateProperties(this.#f,{bbox:Jt.#D(this.#n.box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();this.#h&&(t.setAttribute("aria-label",this.#h),t.setAttribute("role","mark")),this.#l?t.classList.add("free"):this.div.addEventListener("keydown",this.#M.bind(this),{signal:this._uiManager._signal});const e=this.#u=document.createElement("div");t.append(e),e.setAttribute("aria-hidden","true"),e.className="internal",e.style.clipPath=this.#s;const[s,a]=this.parentDimensions;return this.setDims(this.width*s,this.height*a),Zv(this,this.#u,["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#f,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#f,{rootClass:{hovered:!1}})}#M(t){Jt._keyboardManager.exec(this,t)}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:this.#C(!0);break;case 1:case 3:this.#C(!1);break}}#C(t){if(!this.#t)return;const e=window.getSelection();t?e.setPosition(this.#t,this.#e):e.setPosition(this.#r,this.#o)}select(){super.select(),this.#f&&this.parent?.drawLayer.updateProperties(this.#f,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#f&&(this.parent?.drawLayer.updateProperties(this.#f,{rootClass:{selected:!1}}),this.#l||this.#C(!1))}get _mustFixPosition(){return!this.#l}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(this.#d,{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(this.#f,{rootClass:{hidden:!t}}))}#E(){return this.#l?this.rotation:0}#L(){if(this.#l)return null;const[t,e]=this.pageDimensions,[s,a]=this.pageTranslation,l=this.#i,c=new Float32Array(l.length*8);let h=0;for(const{x:d,y:f,width:g,height:y}of l){const b=d*t+s,S=(1-f)*e+a;c[h]=c[h+4]=b,c[h+1]=c[h+3]=S,c[h+2]=c[h+6]=b+g*t,c[h+5]=c[h+7]=S-y*e,h+=8}return c}#B(t){return this.#c.serialize(t,this.#E())}static startHighlighting(t,e,{target:s,x:a,y:l}){const{x:c,y:h,width:d,height:f}=s.getBoundingClientRect(),g=new AbortController,y=t.combinedSignal(g),b=S=>{g.abort(),this.#H(t,S)};window.addEventListener("blur",b,{signal:y}),window.addEventListener("pointerup",b,{signal:y}),window.addEventListener("pointerdown",oe,{capture:!0,passive:!1,signal:y}),window.addEventListener("contextmenu",pi,{signal:y}),s.addEventListener("pointermove",this.#N.bind(this,t),{signal:y}),this._freeHighlight=new _d({x:a,y:l},[c,h,d,f],t.scale,this._defaultThickness/2,e,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#N(t,e){this._freeHighlight.add(e)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#H(t,e){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(e,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(t,e,s){let a=null;if(t instanceof SA){const{data:{quadPoints:w,rect:T,rotation:R,id:M,color:N,opacity:C,popupRef:v,contentsObj:A},parent:{page:{pageNumber:_}}}=t;a=t={annotationType:bt.HIGHLIGHT,color:Array.from(N),opacity:C,quadPoints:w,boxes:null,pageIndex:_-1,rect:T.slice(0),rotation:R,annotationElementId:M,id:M,deleted:!1,popupRef:v,comment:A?.str||null}}else if(t instanceof Af){const{data:{inkLists:w,rect:T,rotation:R,id:M,color:N,borderStyle:{rawWidth:C},popupRef:v,contentsObj:A},parent:{page:{pageNumber:_}}}=t;a=t={annotationType:bt.HIGHLIGHT,color:Array.from(N),thickness:C,inkLists:w,boxes:null,pageIndex:_-1,rect:T.slice(0),rotation:R,annotationElementId:M,id:M,deleted:!1,popupRef:v,comment:A?.str||null}}const{color:l,quadPoints:c,inkLists:h,opacity:d}=t,f=await super.deserialize(t,e,s);f.color=lt.makeHexColor(...l),f.#m=d||1,h&&(f.#g=t.thickness),f._initialData=a,t.comment&&f.setCommentData(t.comment);const[g,y]=f.pageDimensions,[b,S]=f.pageTranslation;if(c){const w=f.#i=[];for(let T=0;T<c.length;T+=8)w.push({x:(c[T]-b)/g,y:1-(c[T+1]-S)/y,width:(c[T+2]-c[T])/g,height:(c[T+1]-c[T+5])/y});f.#y(),f.#w(),f.rotate(f.rotation)}else if(h){f.#l=!0;const w=h[0],T={x:w[0]-b,y:y-(w[1]-S)},R=new _d(T,[0,0,g,y],1,f.#g/2,!0,.001);for(let C=0,v=w.length;C<v;C+=2)T.x=w[C]-b,T.y=y-(w[C+1]-S),R.add(T);const{id:M,clipPathId:N}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:f.color,"fill-opacity":f._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:R.toSVGPath()}},!0,!0);f.#S({highlightOutlines:R.getOutlines(),highlightId:M,clipPathId:N}),f.#w(),f.rotate(f.parentRotation)}return f}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const e=this.getRect(0,0),s=ut._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),a={annotationType:bt.HIGHLIGHT,color:s,opacity:this.#m,thickness:this.#g,quadPoints:this.#L(),outlines:this.#B(e),pageIndex:this.pageIndex,rect:e,rotation:this.#E(),structTreeParentId:this._structTreeParentId};return this.addComment(a),this.annotationElementId&&!this.#_(a)?null:(a.id=this.annotationElementId,a)}#_(t){const{color:e}=this._initialData;return this.hasEditedComment||t.color.some((s,a)=>s!==e[a])}renderAnnotationElement(t){const e={rect:this.getRect(0,0)};return this.hasEditedComment&&(e.popup=this.comment),t.updateEdited(e),null}static canCreateNewEmptyEditor(){return!1}}class TA{#t=Object.create(null);updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,s]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,s)}updateSVGProperty(t,e){this.#t[t]=e}toSVGProperties(){const t=this.#t;return this.#t=Object.create(null),{root:t}}reset(){this.#t=Object.create(null)}updateAll(t=this){this.updateProperties(t)}clone(){jt("Not implemented")}}class ft extends ut{#t=null;#e;_colorPicker=null;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#i=null;static#s=null;static#a=null;static#n=NaN;static#r=null;static#o=null;static#u=NaN;static _INNER_MARGIN=3;constructor(t){super(t),this.#e=t.mustBeCommitted||!1,this._addOutlines(t)}_addOutlines(t){t.drawOutlines&&(this.#c(t),this.#p())}#c({drawOutlines:t,drawId:e,drawingOptions:s}){this.#t=t,this._drawingOptions||=s,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),e>=0?(this._drawId=e,this.parent.drawLayer.finalizeDraw(e,t.defaultProperties)):this._drawId=this.#d(t,this.parent),this.#h(t.box)}#d(t,e){const{id:s}=e.drawLayer.draw(ft._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return s}static _mergeSVGProperties(t,e){const s=new Set(Object.keys(t));for(const[a,l]of Object.entries(e))s.has(a)?Object.assign(t[a],l):t[a]=l;return t}static getDefaultDrawingOptions(t){jt("Not implemented")}static get typesMap(){jt("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,e){const s=this.typesMap.get(t);s&&this._defaultDrawingOptions.updateProperty(s,e),this._currentParent&&(ft.#i.updateProperty(s,e),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,e){const s=this.constructor.typesMap.get(t);s&&this._updateProperty(t,s,e)}static get defaultPropertiesToUpdate(){const t=[],e=this._defaultDrawingOptions;for(const[s,a]of this.typesMap)t.push([s,e[a]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:e}=this;for(const[s,a]of this.constructor.typesMap)t.push([s,e[a]]);return t}_updateProperty(t,e,s){const a=this._drawingOptions,l=a[e],c=h=>{a.updateProperty(e,h);const d=this.#t.updateProperty(e,h);d&&this.#h(d),this.parent?.drawLayer.updateProperties(this._drawId,a.toSVGProperties()),t===this.colorType&&this._colorPicker?.update(h)};this.addCommands({cmd:c.bind(this,s),undo:c.bind(this,l),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,ft._mergeSVGProperties(this.#t.getPathResizingSVGProperties(this.#f()),{bbox:this.#g()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,ft._mergeSVGProperties(this.#t.getPathResizedSVGProperties(this.#f()),{bbox:this.#g()}))}_onTranslating(t,e){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#g()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,ft._mergeSVGProperties(this.#t.getPathTranslatedSVGProperties(this.#f(),this.parentDimensions),{bbox:this.#g()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#e&&(this.#e=!1,this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){this.#l(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#p(),this.#h(this.#t.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),this.#l()):t&&(this._uiManager.addShouldRescale(this),this.#p(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),e&&this.select()}#l(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#p(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#d(this.#t,t)}}#m([t,e,s,a]){const{parentDimensions:[l,c],rotation:h}=this;switch(h){case 90:return[e,1-t,s*(c/l),a*(l/c)];case 180:return[1-t,1-e,s,a];case 270:return[1-e,t,s*(c/l),a*(l/c)];default:return[t,e,s,a]}}#f(){const{x:t,y:e,width:s,height:a,parentDimensions:[l,c],rotation:h}=this;switch(h){case 90:return[1-e,t,s*(l/c),a*(c/l)];case 180:return[1-t,1-e,s,a];case 270:return[e,1-t,s*(l/c),a*(c/l)];default:return[t,e,s,a]}}#h(t){if([this.x,this.y,this.width,this.height]=this.#m(t),this.div){this.fixAndSetPosition();const[e,s]=this.parentDimensions;this.setDims(this.width*e,this.height*s)}this._onResized()}#g(){const{x:t,y:e,width:s,height:a,rotation:l,parentRotation:c,parentDimensions:[h,d]}=this;switch((l*4+c)/90){case 1:return[1-e-a,t,a,s];case 2:return[1-t-s,1-e-a,s,a];case 3:return[e,1-t-s,a,s];case 4:return[t,e-s*(h/d),a*(d/h),s*(h/d)];case 5:return[1-e,t,s*(h/d),a*(d/h)];case 6:return[1-t-a*(d/h),1-e,a*(d/h),s*(h/d)];case 7:return[e-s*(h/d),1-t-a*(d/h),s*(h/d),a*(d/h)];case 8:return[t-s,e-a,s,a];case 9:return[1-e,t-s,a,s];case 10:return[1-t,1-e,s,a];case 11:return[e-a,1-t,a,s];case 12:return[t-a*(d/h),e,a*(d/h),s*(h/d)];case 13:return[1-e-s*(h/d),t-a*(d/h),s*(h/d),a*(d/h)];case 14:return[1-t,1-e-s*(h/d),a*(d/h),s*(h/d)];case 15:return[e,1-t,s*(h/d),a*(d/h)];default:return[t,e,s,a]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,ft._mergeSVGProperties({bbox:this.#g()},this.#t.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#h(this.#t.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,e;this._isCopy&&(t=this.x,e=this.y);const s=super.render();s.classList.add("draw");const a=document.createElement("div");s.append(a),a.setAttribute("aria-hidden","true"),a.className="internal";const[l,c]=this.parentDimensions;return this.setDims(this.width*l,this.height*c),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,e),s}static createDrawerInstance(t,e,s,a,l){jt("Not implemented")}static startDrawing(t,e,s,a){const{target:l,offsetX:c,offsetY:h,pointerId:d,pointerType:f}=a;if(ft.#r&&ft.#r!==f)return;const{viewport:{rotation:g}}=t,{width:y,height:b}=l.getBoundingClientRect(),S=ft.#s=new AbortController,w=t.combinedSignal(S);if(ft.#n||=d,ft.#r??=f,window.addEventListener("pointerup",T=>{ft.#n===T.pointerId?this._endDraw(T):ft.#o?.delete(T.pointerId)},{signal:w}),window.addEventListener("pointercancel",T=>{ft.#n===T.pointerId?this._currentParent.endDrawingSession():ft.#o?.delete(T.pointerId)},{signal:w}),window.addEventListener("pointerdown",T=>{ft.#r===T.pointerType&&((ft.#o||=new Set).add(T.pointerId),ft.#i.isCancellable()&&(ft.#i.removeLastElement(),ft.#i.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:w}),window.addEventListener("contextmenu",pi,{signal:w}),l.addEventListener("pointermove",this._drawMove.bind(this),{signal:w}),l.addEventListener("touchmove",T=>{T.timeStamp===ft.#u&&oe(T)},{signal:w}),t.toggleDrawing(),e._editorUndoBar?.hide(),ft.#i){t.drawLayer.updateProperties(this._currentDrawId,ft.#i.startNew(c,h,y,b,g));return}e.updateUIForDefaultProperties(this),ft.#i=this.createDrawerInstance(c,h,y,b,g),ft.#a=this.getDefaultDrawingOptions(),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(ft.#a.toSVGProperties(),ft.#i.defaultSVGProperties),!0,!1)}static _drawMove(t){if(ft.#u=-1,!ft.#i)return;const{offsetX:e,offsetY:s,pointerId:a}=t;if(ft.#n===a){if(ft.#o?.size>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,ft.#i.add(e,s)),ft.#u=t.timeStamp,oe(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,ft.#i=null,ft.#a=null,ft.#r=null,ft.#u=NaN),ft.#s&&(ft.#s.abort(),ft.#s=null,ft.#n=NaN,ft.#o=null)}static _endDraw(t){const e=this._currentParent;if(e){if(e.toggleDrawing(!0),this._cleanup(!1),t?.target===e.div&&e.drawLayer.updateProperties(this._currentDrawId,ft.#i.end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const s=ft.#i,a=this._currentDrawId,l=s.getLastElement();e.addCommands({cmd:()=>{e.drawLayer.updateProperties(a,s.setLastElement(l))},undo:()=>{e.drawLayer.updateProperties(a,s.removeLastElement())},mustExec:!1,type:Mt.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const e=this._currentParent;if(!e)return null;if(e.toggleDrawing(!0),e.cleanUndoStack(Mt.DRAW_STEP),!ft.#i.isEmpty()){const{pageDimensions:[s,a],scale:l}=e,c=e.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:ft.#i.getOutlines(s*l,a*l,l,this._INNER_MARGIN),drawingOptions:ft.#a,mustBeCommitted:!t});return this._cleanup(!0),c}return e.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,e,s,a,l,c){jt("Not implemented")}static async deserialize(t,e,s){const{rawDims:{pageWidth:a,pageHeight:l,pageX:c,pageY:h}}=e.viewport,d=this.deserializeDraw(c,h,a,l,this._INNER_MARGIN,t),f=await super.deserialize(t,e,s);return f.createDrawingOptions(t),f.#c({drawOutlines:d}),f.#p(),f.onScaleChanging(),f.rotate(),f}serializeDraw(t){const[e,s]=this.pageTranslation,[a,l]=this.pageDimensions;return this.#t.serialize([e,s,a,l],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}class QM{#t=new Float64Array(6);#e;#i;#s;#a;#n;#r="";#o=0;#u=new ao;#c;#d;constructor(t,e,s,a,l,c){this.#c=s,this.#d=a,this.#s=l,this.#a=c,[t,e]=this.#l(t,e);const h=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#n=[t,e],this.#i=[{line:h,points:this.#n}],this.#t.set(h,0)}updateProperty(t,e){t==="stroke-width"&&(this.#a=e)}#l(t,e){return st._normalizePoint(t,e,this.#c,this.#d,this.#s)}isEmpty(){return!this.#i||this.#i.length===0}isCancellable(){return this.#n.length<=10}add(t,e){[t,e]=this.#l(t,e);const[s,a,l,c]=this.#t.subarray(2,6),h=t-l,d=e-c;return Math.hypot(this.#c*h,this.#d*d)<=2?null:(this.#n.push(t,e),isNaN(s)?(this.#t.set([l,c,t,e],2),this.#e.push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(this.#t[0])&&this.#e.splice(6,6),this.#t.set([s,a,l,c,t,e],0),this.#e.push(...st.createBezierPoints(s,a,l,c,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const s=this.add(t,e);return s||(this.#n.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,s,a,l){this.#c=s,this.#d=a,this.#s=l,[t,e]=this.#l(t,e);const c=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#n=[t,e];const h=this.#i.at(-1);return h&&(h.line=new Float32Array(h.line),h.points=new Float32Array(h.points)),this.#i.push({line:c,points:this.#n}),this.#t.set(c,0),this.#o=0,this.toSVGPath(),null}getLastElement(){return this.#i.at(-1)}setLastElement(t){return this.#i?(this.#i.push(t),this.#e=t.line,this.#n=t.points,this.#o=0,{path:{d:this.toSVGPath()}}):this.#u.setLastElement(t)}removeLastElement(){if(!this.#i)return this.#u.removeLastElement();this.#i.pop(),this.#r="";for(let t=0,e=this.#i.length;t<e;t++){const{line:s,points:a}=this.#i[t];this.#e=s,this.#n=a,this.#o=0,this.toSVGPath()}return{path:{d:this.#r}}}toSVGPath(){const t=st.svgRound(this.#e[4]),e=st.svgRound(this.#e[5]);if(this.#n.length===2)return this.#r=`${this.#r} M ${t} ${e} Z`,this.#r;if(this.#n.length<=6){const a=this.#r.lastIndexOf("M");this.#r=`${this.#r.slice(0,a)} M ${t} ${e}`,this.#o=6}if(this.#n.length===4){const a=st.svgRound(this.#e[10]),l=st.svgRound(this.#e[11]);return this.#r=`${this.#r} L ${a} ${l}`,this.#o=12,this.#r}const s=[];this.#o===0&&(s.push(`M ${t} ${e}`),this.#o=6);for(let a=this.#o,l=this.#e.length;a<l;a+=6){const[c,h,d,f,g,y]=this.#e.slice(a,a+6).map(st.svgRound);s.push(`C${c} ${h} ${d} ${f} ${g} ${y}`)}return this.#r+=s.join(" "),this.#o=this.#e.length,this.#r}getOutlines(t,e,s,a){const l=this.#i.at(-1);return l.line=new Float32Array(l.line),l.points=new Float32Array(l.points),this.#u.build(this.#i,t,e,s,this.#s,this.#a,a),this.#t=null,this.#e=null,this.#i=null,this.#r=null,this.#u}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class ao extends st{#t;#e=0;#i;#s;#a;#n;#r;#o;#u;build(t,e,s,a,l,c,h){this.#a=e,this.#n=s,this.#r=a,this.#o=l,this.#u=c,this.#i=h??0,this.#s=t,this.#l()}get thickness(){return this.#u}setLastElement(t){return this.#s.push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#s.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:e}of this.#s){if(t.push(`M${st.svgRound(e[4])} ${st.svgRound(e[5])}`),e.length===6){t.push("Z");continue}if(e.length===12&&isNaN(e[6])){t.push(`L${st.svgRound(e[10])} ${st.svgRound(e[11])}`);continue}for(let s=6,a=e.length;s<a;s+=6){const[l,c,h,d,f,g]=e.subarray(s,s+6).map(st.svgRound);t.push(`C${l} ${c} ${h} ${d} ${f} ${g}`)}}return t.join("")}serialize([t,e,s,a],l){const c=[],h=[],[d,f,g,y]=this.#d();let b,S,w,T,R,M,N,C,v;switch(this.#o){case 0:v=st._rescale,b=t,S=e+a,w=s,T=-a,R=t+d*s,M=e+(1-f-y)*a,N=t+(d+g)*s,C=e+(1-f)*a;break;case 90:v=st._rescaleAndSwap,b=t,S=e,w=s,T=a,R=t+f*s,M=e+d*a,N=t+(f+y)*s,C=e+(d+g)*a;break;case 180:v=st._rescale,b=t+s,S=e,w=-s,T=a,R=t+(1-d-g)*s,M=e+f*a,N=t+(1-d)*s,C=e+(f+y)*a;break;case 270:v=st._rescaleAndSwap,b=t+s,S=e+a,w=-s,T=-a,R=t+(1-f-y)*s,M=e+(1-d-g)*a,N=t+(1-f)*s,C=e+(1-d)*a;break}for(const{line:A,points:_}of this.#s)c.push(v(A,b,S,w,T,l?new Array(A.length):null)),h.push(v(_,b,S,w,T,l?new Array(_.length):null));return{lines:c,points:h,rect:[R,M,N,C]}}static deserialize(t,e,s,a,l,{paths:{lines:c,points:h},rotation:d,thickness:f}){const g=[];let y,b,S,w,T;switch(d){case 0:T=st._rescale,y=-t/s,b=e/a+1,S=1/s,w=-1/a;break;case 90:T=st._rescaleAndSwap,y=-e/a,b=-t/s,S=1/a,w=1/s;break;case 180:T=st._rescale,y=t/s+1,b=-e/a,S=-1/s,w=1/a;break;case 270:T=st._rescaleAndSwap,y=e/a+1,b=t/s+1,S=-1/a,w=-1/s;break}if(!c){c=[];for(const M of h){const N=M.length;if(N===2){c.push(new Float32Array([NaN,NaN,NaN,NaN,M[0],M[1]]));continue}if(N===4){c.push(new Float32Array([NaN,NaN,NaN,NaN,M[0],M[1],NaN,NaN,NaN,NaN,M[2],M[3]]));continue}const C=new Float32Array(3*(N-2));c.push(C);let[v,A,_,D]=M.subarray(0,4);C.set([NaN,NaN,NaN,NaN,v,A],0);for(let P=4;P<N;P+=2){const L=M[P],q=M[P+1];C.set(st.createBezierPoints(v,A,_,D,L,q),(P-2)*3),[v,A,_,D]=[_,D,L,q]}}}for(let M=0,N=c.length;M<N;M++)g.push({line:T(c[M].map(C=>C??NaN),y,b,S,w),points:T(h[M].map(C=>C??NaN),y,b,S,w)});const R=new this.prototype.constructor;return R.build(g,s,a,1,d,f,l),R}#c(t=this.#u){const e=this.#i+t/2*this.#r;return this.#o%180===0?[e/this.#a,e/this.#n]:[e/this.#n,e/this.#a]}#d(){const[t,e,s,a]=this.#t,[l,c]=this.#c(0);return[t+l,e+c,s-2*l,a-2*c]}#l(){const t=this.#t=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:a}of this.#s){if(a.length<=12){for(let h=4,d=a.length;h<d;h+=6)lt.pointBoundingBox(a[h],a[h+1],t);continue}let l=a[4],c=a[5];for(let h=6,d=a.length;h<d;h+=6){const[f,g,y,b,S,w]=a.subarray(h,h+6);lt.bezierBoundingBox(l,c,f,g,y,b,S,w,t),l=S,c=w}}const[e,s]=this.#c();t[0]=Pe(t[0]-e,0,1),t[1]=Pe(t[1]-s,0,1),t[2]=Pe(t[2]+e,0,1),t[3]=Pe(t[3]+s,0,1),t[2]-=t[0],t[3]-=t[1]}get box(){return this.#t}updateProperty(t,e){return t==="stroke-width"?this.#p(e):null}#p(t){const[e,s]=this.#c();this.#u=t;const[a,l]=this.#c(),[c,h]=[a-e,l-s],d=this.#t;return d[0]-=c,d[1]-=h,d[2]+=2*c,d[3]+=2*h,d}updateParentDimensions([t,e],s){const[a,l]=this.#c();this.#a=t,this.#n=e,this.#r=s;const[c,h]=this.#c(),d=c-a,f=h-l,g=this.#t;return g[0]-=d,g[1]-=f,g[2]+=2*d,g[3]+=2*f,g}updateRotation(t){return this.#e=t,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#t.map(st.svgRound).join(" ")}get defaultProperties(){const[t,e]=this.#t;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${st.svgRound(t)} ${st.svgRound(e)}`}}}get rotationTransform(){const[,,t,e]=this.#t;let s=0,a=0,l=0,c=0,h=0,d=0;switch(this.#e){case 90:a=e/t,l=-t/e,h=t;break;case 180:s=-1,c=-1,h=t,d=e;break;case 270:a=-e/t,l=t/e,d=e;break;default:return""}return`matrix(${s} ${a} ${l} ${c} ${st.svgRound(h)} ${st.svgRound(d)})`}getPathResizingSVGProperties([t,e,s,a]){const[l,c]=this.#c(),[h,d,f,g]=this.#t;if(Math.abs(f-l)<=st.PRECISION||Math.abs(g-c)<=st.PRECISION){const T=t+s/2-(h+f/2),R=e+a/2-(d+g/2);return{path:{"transform-origin":`${st.svgRound(t)} ${st.svgRound(e)}`,transform:`${this.rotationTransform} translate(${T} ${R})`}}}const y=(s-2*l)/(f-2*l),b=(a-2*c)/(g-2*c),S=f/s,w=g/a;return{path:{"transform-origin":`${st.svgRound(h)} ${st.svgRound(d)}`,transform:`${this.rotationTransform} scale(${S} ${w}) translate(${st.svgRound(l)} ${st.svgRound(c)}) scale(${y} ${b}) translate(${st.svgRound(-l)} ${st.svgRound(-c)})`}}}getPathResizedSVGProperties([t,e,s,a]){const[l,c]=this.#c(),h=this.#t,[d,f,g,y]=h;if(h[0]=t,h[1]=e,h[2]=s,h[3]=a,Math.abs(g-l)<=st.PRECISION||Math.abs(y-c)<=st.PRECISION){const R=t+s/2-(d+g/2),M=e+a/2-(f+y/2);for(const{line:N,points:C}of this.#s)st._translate(N,R,M,N),st._translate(C,R,M,C);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${st.svgRound(t)} ${st.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const b=(s-2*l)/(g-2*l),S=(a-2*c)/(y-2*c),w=-b*(d+l)+t+l,T=-S*(f+c)+e+c;if(b!==1||S!==1||w!==0||T!==0)for(const{line:R,points:M}of this.#s)st._rescale(R,w,T,b,S,R),st._rescale(M,w,T,b,S,M);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${st.svgRound(t)} ${st.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,e],s){const[a,l]=s,c=this.#t,h=t-c[0],d=e-c[1];if(this.#a===a&&this.#n===l)for(const{line:f,points:g}of this.#s)st._translate(f,h,d,f),st._translate(g,h,d,g);else{const f=this.#a/a,g=this.#n/l;this.#a=a,this.#n=l;for(const{line:y,points:b}of this.#s)st._rescale(y,h,d,f,g,y),st._rescale(b,h,d,f,g,b);c[2]*=f,c[3]*=g}return c[0]=t,c[1]=e,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${st.svgRound(t)} ${st.svgRound(e)}`}}}get defaultSVGProperties(){const t=this.#t;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${st.svgRound(t[0])} ${st.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}class oc extends TA{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:ut._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){t==="stroke-width"&&(e??=this["stroke-width"],e*=this._viewParameters.realScale),super.updateSVGProperty(t,e)}clone(){const t=new oc(this._viewParameters);return t.updateAll(this),t}}class xf extends ft{static _type="ink";static _editorType=bt.INK;static _defaultDrawingOptions=null;constructor(t){super({...t,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,e){ut.initialize(t,e),this._defaultDrawingOptions=new oc(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!0}static get typesMap(){return Tt(this,"typesMap",new Map([[Mt.INK_THICKNESS,"stroke-width"],[Mt.INK_COLOR,"stroke"],[Mt.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,e,s,a,l){return new QM(t,e,s,a,l,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,e,s,a,l,c){return ao.deserialize(t,e,s,a,l,c)}static async deserialize(t,e,s){let a=null;if(t instanceof Af){const{data:{inkLists:c,rect:h,rotation:d,id:f,color:g,opacity:y,borderStyle:{rawWidth:b},popupRef:S,contentsObj:w},parent:{page:{pageNumber:T}}}=t;a=t={annotationType:bt.INK,color:Array.from(g),thickness:b,opacity:y,paths:{points:c},boxes:null,pageIndex:T-1,rect:h.slice(0),rotation:d,annotationElementId:f,id:f,deleted:!1,popupRef:S,comment:w?.str||null}}const l=await super.deserialize(t,e,s);return l._initialData=a,t.comment&&l.setCommentData(t.comment),l}get toolbarButtons(){return this._colorPicker||=new Wr(this),[["colorPicker",this._colorPicker]]}get colorType(){return Mt.INK_COLOR}get colorValue(){return this._drawingOptions.stroke}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:e,parent:s}=this;e.updateSVGProperty("stroke-width"),s.drawLayer.updateProperties(t,e.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:e,opacity:s}){this._drawingOptions=xf.getDefaultDrawingOptions({stroke:lt.makeHexColor(...t),"stroke-width":e,"stroke-opacity":s})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:e,points:s,rect:a}=this.serializeDraw(t),{_drawingOptions:{stroke:l,"stroke-opacity":c,"stroke-width":h}}=this,d={annotationType:bt.INK,color:ut._colorManager.convert(l),opacity:c,thickness:h,paths:{lines:e,points:s},pageIndex:this.pageIndex,rect:a,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return this.addComment(d),t?(d.isCopy=!0,d):this.annotationElementId&&!this.#t(d)?null:(d.id=this.annotationElementId,d)}#t(t){const{color:e,thickness:s,opacity:a,pageIndex:l}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((c,h)=>c!==e[h])||t.thickness!==s||t.opacity!==a||t.pageIndex!==l}renderAnnotationElement(t){const{points:e,rect:s}=this.serializeDraw(!1),a={rect:s,thickness:this._drawingOptions["stroke-width"],points:e};return this.hasEditedComment&&(a.popup=this.comment),t.updateEdited(a),null}}class Ed extends ao{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}const Nl=8,Rr=3;class ra{static#t={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#e(t,e,s,a){return s-=t,a-=e,s===0?a>0?0:4:s===1?a+6:2-a}static#i=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#s(t,e,s,a,l,c,h){const d=this.#e(s,a,l,c);for(let f=0;f<8;f++){const g=(-f+d-h+16)%8,y=this.#i[2*g],b=this.#i[2*g+1];if(t[(s+y)*e+(a+b)]!==0)return g}return-1}static#a(t,e,s,a,l,c,h){const d=this.#e(s,a,l,c);for(let f=0;f<8;f++){const g=(f+d+h+16)%8,y=this.#i[2*g],b=this.#i[2*g+1];if(t[(s+y)*e+(a+b)]!==0)return g}return-1}static#n(t,e,s,a){const l=t.length,c=new Int32Array(l);for(let g=0;g<l;g++)c[g]=t[g]<=a?1:0;for(let g=1;g<s-1;g++)c[g*e]=c[g*e+e-1]=0;for(let g=0;g<e;g++)c[g]=c[e*s-1-g]=0;let h=1,d;const f=[];for(let g=1;g<s-1;g++){d=1;for(let y=1;y<e-1;y++){const b=g*e+y,S=c[b];if(S===0)continue;let w=g,T=y;if(S===1&&c[b-1]===0)h+=1,T-=1;else if(S>=1&&c[b+1]===0)h+=1,T+=1,S>1&&(d=S);else{S!==1&&(d=Math.abs(S));continue}const R=[y,g],M=T===y+1,N={isHole:M,points:R,id:h,parent:0};f.push(N);let C;for(const X of f)if(X.id===d){C=X;break}C?C.isHole?N.parent=M?C.parent:d:N.parent=M?d:C.parent:N.parent=M?d:0;const v=this.#s(c,e,g,y,w,T,0);if(v===-1){c[b]=-h,c[b]!==1&&(d=Math.abs(c[b]));continue}let A=this.#i[2*v],_=this.#i[2*v+1];const D=g+A,P=y+_;w=D,T=P;let L=g,q=y;for(;;){const X=this.#a(c,e,L,q,w,T,1);A=this.#i[2*X],_=this.#i[2*X+1];const tt=L+A,at=q+_;R.push(at,tt);const it=L*e+q;if(c[it+1]===0?c[it]=-h:c[it]===1&&(c[it]=h),tt===g&&at===y&&L===D&&q===P){c[b]!==1&&(d=Math.abs(c[b]));break}else w=L,T=q,L=tt,q=at}}}return f}static#r(t,e,s,a){if(s-e<=4){for(let D=e;D<s-2;D+=2)a.push(t[D],t[D+1]);return}const l=t[e],c=t[e+1],h=t[s-4]-l,d=t[s-3]-c,f=Math.hypot(h,d),g=h/f,y=d/f,b=g*c-y*l,S=d/h,w=1/f,T=Math.atan(S),R=Math.cos(T),M=Math.sin(T),N=w*(Math.abs(R)+Math.abs(M)),C=w*(1-N+N**2),v=Math.max(Math.atan(Math.abs(M+R)*C),Math.atan(Math.abs(M-R)*C));let A=0,_=e;for(let D=e+2;D<s-2;D+=2){const P=Math.abs(b-g*t[D+1]+y*t[D]);P>A&&(_=D,A=P)}A>(f*v)**2?(this.#r(t,e,_+2,a),this.#r(t,_,s,a)):a.push(l,c)}static#o(t){const e=[],s=t.length;return this.#r(t,0,s,e),e.push(t[s-2],t[s-1]),e.length<=4?null:e}static#u(t,e,s,a,l,c){const h=new Float32Array(c**2),d=-2*a**2,f=c>>1;for(let T=0;T<c;T++){const R=(T-f)**2;for(let M=0;M<c;M++)h[T*c+M]=Math.exp((R+(M-f)**2)/d)}const g=new Float32Array(256),y=-2*l**2;for(let T=0;T<256;T++)g[T]=Math.exp(T**2/y);const b=t.length,S=new Uint8Array(b),w=new Uint32Array(256);for(let T=0;T<s;T++)for(let R=0;R<e;R++){const M=T*e+R,N=t[M];let C=0,v=0;for(let _=0;_<c;_++){const D=T+_-f;if(!(D<0||D>=s))for(let P=0;P<c;P++){const L=R+P-f;if(L<0||L>=e)continue;const q=t[D*e+L],X=h[_*c+P]*g[Math.abs(q-N)];C+=q*X,v+=X}}const A=S[M]=Math.round(C/v);w[A]++}return[S,w]}static#c(t){const e=new Uint32Array(256);for(const s of t)e[s]++;return e}static#d(t){const e=t.length,s=new Uint8ClampedArray(e>>2);let a=-1/0,l=1/0;for(let h=0,d=s.length;h<d;h++){const f=s[h]=t[h<<2];a=Math.max(a,f),l=Math.min(l,f)}const c=255/(a-l);for(let h=0,d=s.length;h<d;h++)s[h]=(s[h]-l)*c;return s}static#l(t){let e,s=-1/0,a=-1/0;const l=t.findIndex(d=>d!==0);let c=l,h=l;for(e=l;e<256;e++){const d=t[e];d>s&&(e-c>a&&(a=e-c,h=e-1),s=d,c=e)}for(e=h-1;e>=0&&!(t[e]>t[e+1]);e--);return e}static#p(t){const e=t,{width:s,height:a}=t,{maxDim:l}=this.#t;let c=s,h=a;if(s>l||a>l){let b=s,S=a,w=Math.log2(Math.max(s,a)/l);const T=Math.floor(w);w=w===T?T-1:T;for(let M=0;M<w;M++){c=Math.ceil(b/2),h=Math.ceil(S/2);const N=new OffscreenCanvas(c,h);N.getContext("2d").drawImage(t,0,0,b,S,0,0,c,h),b=c,S=h,t!==e&&t.close(),t=N.transferToImageBitmap()}const R=Math.min(l/c,l/h);c=Math.round(c*R),h=Math.round(h*R)}const f=new OffscreenCanvas(c,h).getContext("2d",{willReadFrequently:!0});f.fillStyle="white",f.fillRect(0,0,c,h),f.filter="grayscale(1)",f.drawImage(t,0,0,t.width,t.height,0,0,c,h);const g=f.getImageData(0,0,c,h).data;return[this.#d(g),c,h]}static extractContoursFromText(t,{fontFamily:e,fontStyle:s,fontWeight:a},l,c,h,d){let f=new OffscreenCanvas(1,1),g=f.getContext("2d",{alpha:!1});const y=200,b=g.font=`${s} ${a} ${y}px ${e}`,{actualBoundingBoxLeft:S,actualBoundingBoxRight:w,actualBoundingBoxAscent:T,actualBoundingBoxDescent:R,fontBoundingBoxAscent:M,fontBoundingBoxDescent:N,width:C}=g.measureText(t),v=1.5,A=Math.ceil(Math.max(Math.abs(S)+Math.abs(w)||0,C)*v),_=Math.ceil(Math.max(Math.abs(T)+Math.abs(R)||y,Math.abs(M)+Math.abs(N)||y)*v);f=new OffscreenCanvas(A,_),g=f.getContext("2d",{alpha:!0,willReadFrequently:!0}),g.font=b,g.filter="grayscale(1)",g.fillStyle="white",g.fillRect(0,0,A,_),g.fillStyle="black",g.fillText(t,A*(v-1)/2,_*(3-v)/2);const D=this.#d(g.getImageData(0,0,A,_).data),P=this.#c(D),L=this.#l(P),q=this.#n(D,A,_,L);return this.processDrawnLines({lines:{curves:q,width:A,height:_},pageWidth:l,pageHeight:c,rotation:h,innerMargin:d,mustSmooth:!0,areContours:!0})}static process(t,e,s,a,l){const[c,h,d]=this.#p(t),[f,g]=this.#u(c,h,d,Math.hypot(h,d)*this.#t.sigmaSFactor,this.#t.sigmaR,this.#t.kernelSize),y=this.#l(g),b=this.#n(f,h,d,y);return this.processDrawnLines({lines:{curves:b,width:h,height:d},pageWidth:e,pageHeight:s,rotation:a,innerMargin:l,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:t,pageWidth:e,pageHeight:s,rotation:a,innerMargin:l,mustSmooth:c,areContours:h}){a%180!==0&&([e,s]=[s,e]);const{curves:d,width:f,height:g}=t,y=t.thickness??0,b=[],S=Math.min(e/f,s/g),w=S/e,T=S/s,R=[];for(const{points:N}of d){const C=c?this.#o(N):N;if(!C)continue;R.push(C);const v=C.length,A=new Float32Array(v),_=new Float32Array(3*(v===2?2:v-2));if(b.push({line:_,points:A}),v===2){A[0]=C[0]*w,A[1]=C[1]*T,_.set([NaN,NaN,NaN,NaN,A[0],A[1]],0);continue}let[D,P,L,q]=C;D*=w,P*=T,L*=w,q*=T,A.set([D,P,L,q],0),_.set([NaN,NaN,NaN,NaN,D,P],0);for(let X=4;X<v;X+=2){const tt=A[X]=C[X]*w,at=A[X+1]=C[X+1]*T;_.set(st.createBezierPoints(D,P,L,q,tt,at),(X-2)*3),[D,P,L,q]=[L,q,tt,at]}}if(b.length===0)return null;const M=h?new Ed:new ao;return M.build(b,e,s,1,a,h?0:y,l),{outline:M,newCurves:R,areContours:h,thickness:y,width:f,height:g}}static async compressSignature({outlines:t,areContours:e,thickness:s,width:a,height:l}){let c=1/0,h=-1/0,d=0;for(const C of t){d+=C.length;for(let v=2,A=C.length;v<A;v++){const _=C[v]-C[v-2];c=Math.min(c,_),h=Math.max(h,_)}}let f;c>=-128&&h<=127?f=Int8Array:c>=-32768&&h<=32767?f=Int16Array:f=Int32Array;const g=t.length,y=Nl+Rr*g,b=new Uint32Array(y);let S=0;b[S++]=y*Uint32Array.BYTES_PER_ELEMENT+(d-2*g)*f.BYTES_PER_ELEMENT,b[S++]=0,b[S++]=a,b[S++]=l,b[S++]=e?0:1,b[S++]=Math.max(0,Math.floor(s??0)),b[S++]=g,b[S++]=f.BYTES_PER_ELEMENT;for(const C of t)b[S++]=C.length-2,b[S++]=C[0],b[S++]=C[1];const w=new CompressionStream("deflate-raw"),T=w.writable.getWriter();await T.ready,T.write(b);const R=f.prototype.constructor;for(const C of t){const v=new R(C.length-2);for(let A=2,_=C.length;A<_;A++)v[A-2]=C[A]-C[A-2];T.write(v)}T.close();const M=await new Response(w.readable).arrayBuffer(),N=new Uint8Array(M);return Qv(N)}static async decompressSignature(t){try{const e=AC(t),{readable:s,writable:a}=new DecompressionStream("deflate-raw"),l=a.getWriter();await l.ready,l.write(e).then(async()=>{await l.ready,await l.close()}).catch(()=>{});let c=null,h=0;for await(const C of s)c||=new Uint8Array(new Uint32Array(C.buffer,0,4)[0]),c.set(C,h),h+=C.length;const d=new Uint32Array(c.buffer,0,c.length>>2),f=d[1];if(f!==0)throw new Error(`Invalid version: ${f}`);const g=d[2],y=d[3],b=d[4]===0,S=d[5],w=d[6],T=d[7],R=[],M=(Nl+Rr*w)*Uint32Array.BYTES_PER_ELEMENT;let N;switch(T){case Int8Array.BYTES_PER_ELEMENT:N=new Int8Array(c.buffer,M);break;case Int16Array.BYTES_PER_ELEMENT:N=new Int16Array(c.buffer,M);break;case Int32Array.BYTES_PER_ELEMENT:N=new Int32Array(c.buffer,M);break}h=0;for(let C=0;C<w;C++){const v=d[Rr*C+Nl],A=new Float32Array(v+2);R.push(A);for(let _=0;_<Rr-1;_++)A[_]=d[Rr*C+Nl+_+1];for(let _=0;_<v;_++)A[_+2]=A[_]+N[h++]}return{areContours:b,thickness:S,outlines:R,width:g,height:y}}catch(e){return vt(`decompressSignature: ${e}`),null}}}class wf extends TA{constructor(){super(),super.updateProperties({fill:ut._defaultLineColor,"stroke-width":0})}clone(){const t=new wf;return t.updateAll(this),t}}class Tf extends oc{constructor(t){super(t),super.updateProperties({stroke:ut._defaultLineColor,"stroke-width":1})}clone(){const t=new Tf(this._viewParameters);return t.updateAll(this),t}}class Pi extends ft{#t=!1;#e=null;#i=null;#s=null;static _type="signature";static _editorType=bt.SIGNATURE;static _defaultDrawingOptions=null;constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#i=t.signatureData||null,this.#e=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,e){ut.initialize(t,e),this._defaultDrawingOptions=new wf,this._defaultDrawnSignatureOptions=new Tf(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!1}static get typesMap(){return Tt(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#e}}static computeTelemetryFinalData(t){const e=t.get("hasDescription");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,e;const{_isCopy:s}=this;if(s&&(this._isCopy=!1,t=this.x,e=this.y),super.render(),this._drawId===null)if(this.#i){const{lines:a,mustSmooth:l,areContours:c,description:h,uuid:d,heightInPage:f}=this.#i,{rawDims:{pageWidth:g,pageHeight:y},rotation:b}=this.parent.viewport,S=ra.processDrawnLines({lines:a,pageWidth:g,pageHeight:y,rotation:b,innerMargin:Pi._INNER_MARGIN,mustSmooth:l,areContours:c});this.addSignature(S,f,h,d)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:this.#e||""}));return s&&(this._isCopy=!0,this._moveAfterPaste(t,e)),this.div}setUuid(t){this.#s=t,this.addEditToolbar()}getUuid(){return this.#s}get description(){return this.#e}set description(t){this.#e=t,this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(e=>{e?.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:e,thickness:s,width:a,height:l}=this.#i,c=Math.max(a,l),h=ra.processDrawnLines({lines:{curves:t.map(d=>({points:d})),thickness:s,width:a,height:l},pageWidth:c,pageHeight:c,rotation:0,innerMargin:0,mustSmooth:!1,areContours:e});return{areContours:e,outline:h.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,e,s,a){const{x:l,y:c}=this,{outline:h}=this.#i=t;this.#t=h instanceof Ed,this.description=s;let d;this.#t?d=Pi.getDefaultDrawingOptions():(d=Pi._defaultDrawnSignatureOptions.clone(),d.updateProperties({"stroke-width":h.thickness})),this._addOutlines({drawOutlines:h,drawingOptions:d});const[f,g]=this.parentDimensions,[,y]=this.pageDimensions;let b=e/y;b=b>=1?.5:b,this.width*=b/this.height,this.width>=1&&(b*=.9/this.width,this.width=.9),this.height=b,this.setDims(f*this.width,g*this.height),this.x=l,this.y=c,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(a),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!a,hasDescription:!!s}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:e,pageHeight:s},rotation:a}=this.parent.viewport;return ra.process(t,e,s,a,Pi._INNER_MARGIN)}getFromText(t,e){const{rawDims:{pageWidth:s,pageHeight:a},rotation:l}=this.parent.viewport;return ra.extractContoursFromText(t,e,s,a,l,Pi._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:e,pageHeight:s},rotation:a}=this.parent.viewport;return ra.processDrawnLines({lines:t,pageWidth:e,pageHeight:s,rotation:a,innerMargin:Pi._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:e}){t?this._drawingOptions=Pi.getDefaultDrawingOptions():(this._drawingOptions=Pi._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":e}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:e,points:s,rect:a}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":l}}=this,c={annotationType:bt.SIGNATURE,isSignature:!0,areContours:this.#t,color:[0,0,0],thickness:this.#t?0:l,pageIndex:this.pageIndex,rect:a,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return this.addComment(c),t?(c.paths={lines:e,points:s},c.uuid=this.#s,c.isCopy=!0):c.lines=e,this.#e&&(c.accessibilityData={type:"Figure",alt:this.#e}),c}static deserializeDraw(t,e,s,a,l,c){return c.areContours?Ed.deserialize(t,e,s,a,l,c):ao.deserialize(t,e,s,a,l,c)}static async deserialize(t,e,s){const a=await super.deserialize(t,e,s);return a.#t=t.areContours,a.description=t.accessibilityData?.alt||"",a.#s=t.uuid,a}}class ZM extends ut{#t=null;#e=null;#i=null;#s=null;#a=null;#n="";#r=null;#o=!1;#u=null;#c=!1;#d=!1;static _type="stamp";static _editorType=bt.STAMP;constructor(t){super({...t,name:"stampEditor"}),this.#s=t.bitmapUrl,this.#a=t.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,e){ut.initialize(t,e)}static isHandlingMimeForPasting(t){return vd.includes(t)}static paste(t,e){e.pasteEditor({mode:bt.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(t){const e=t.get("hasAltText");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}#l(t,e=!1){if(!t){this.remove();return}this.#t=t.bitmap,e||(this.#e=t.id,this.#c=t.isSvg),t.file&&(this.#n=t.file.name),this.#f()}#p(){if(this.#i=null,this._uiManager.enableWaiting(!1),!!this.#r){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(t=null,e=!0){if(this.hasAltTextData())return null;const{mlManager:s}=this._uiManager;if(!s)throw new Error("No ML.");if(!await s.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:a,width:l,height:c}=t||this.copyCanvas(null,null,!0).imageData,h=await s.guess({name:"altText",request:{data:a,width:l,height:c,channels:a.length/(l*c)}});if(!h)throw new Error("No response from the AI service.");if(h.error)throw new Error("Error from the AI service.");if(h.cancel)return null;if(!h.output)throw new Error("No valid response from the AI service.");const d=h.output;return await this.setGuessedAltText(d),e&&!this.hasAltTextData()&&(this.altTextData={alt:d,decorative:!1}),d}#m(){if(this.#e){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#e).then(s=>this.#l(s,!0)).finally(()=>this.#p());return}if(this.#s){const s=this.#s;this.#s=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromUrl(s).then(a=>this.#l(a)).finally(()=>this.#p());return}if(this.#a){const s=this.#a;this.#a=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromFile(s).then(a=>this.#l(a)).finally(()=>this.#p());return}const t=document.createElement("input");t.type="file",t.accept=vd.join(",");const e=this._uiManager._signal;this.#i=new Promise(s=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const a=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#l(a)}s()},{signal:e}),t.addEventListener("cancel",()=>{this.remove(),s()},{signal:e})}).finally(()=>this.#p()),t.click()}remove(){this.#e&&(this.#t=null,this._uiManager.imageManager.deleteId(this.#e),this.#r?.remove(),this.#r=null,this.#u&&(clearTimeout(this.#u),this.#u=null)),super.remove()}rebuild(){if(!this.parent){this.#e&&this.#m();return}super.rebuild(),this.div!==null&&(this.#e&&this.#r===null&&this.#m(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(this.#i||this.#t||this.#s||this.#a||this.#e||this.#o)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,e;return this._isCopy&&(t=this.x,e=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#o||(this.#t?this.#f():this.#m()),this._isCopy&&this._moveAfterPaste(t,e),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,e){const{id:s,bitmap:a}=this._uiManager.imageManager.getFromCanvas(t,e);e.remove(),s&&this._uiManager.imageManager.isValidId(s)&&(this.#e=s,a&&(this.#t=a),this.#o=!1,this.#f())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#u!==null&&clearTimeout(this.#u);const t=200;this.#u=setTimeout(()=>{this.#u=null,this.#g()},t)}#f(){const{div:t}=this;let{width:e,height:s}=this.#t;const[a,l]=this.pageDimensions,c=.75;if(this.width)e=this.width*a,s=this.height*l;else if(e>c*a||s>c*l){const g=Math.min(c*a/e,c*l/s);e*=g,s*=g}const[h,d]=this.parentDimensions;this.setDims(e*h/a,s*d/l),this._uiManager.enableWaiting(!1);const f=this.#r=document.createElement("canvas");f.setAttribute("role","img"),this.addContainer(f),this.width=e/a,this.height=s/l,this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),this.#g(),this.#d||(this.parent.addUndoableEditor(this),this.#d=!0),this._reportTelemetry({action:"inserted_image"}),this.#n&&this.div.setAttribute("aria-description",this.#n),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(t,e,s=!1){t||(t=224);const{width:a,height:l}=this.#t,c=new Ii;let h=this.#t,d=a,f=l,g=null;if(e){if(a>e||l>e){const _=Math.min(e/a,e/l);d=Math.floor(a*_),f=Math.floor(l*_)}g=document.createElement("canvas");const b=g.width=Math.ceil(d*c.sx),S=g.height=Math.ceil(f*c.sy);this.#c||(h=this.#h(b,S));const w=g.getContext("2d");w.filter=this._uiManager.hcmFilter;let T="white",R="#cfcfd8";this._uiManager.hcmFilter!=="none"?R="black":window.matchMedia?.("(prefers-color-scheme: dark)").matches&&(T="#8f8f9d",R="#42414d");const M=15,N=M*c.sx,C=M*c.sy,v=new OffscreenCanvas(N*2,C*2),A=v.getContext("2d");A.fillStyle=T,A.fillRect(0,0,N*2,C*2),A.fillStyle=R,A.fillRect(0,0,N,C),A.fillRect(N,C,N,C),w.fillStyle=w.createPattern(v,"repeat"),w.fillRect(0,0,b,S),w.drawImage(h,0,0,h.width,h.height,0,0,b,S)}let y=null;if(s){let b,S;if(c.symmetric&&h.width<t&&h.height<t)b=h.width,S=h.height;else if(h=this.#t,a>t||l>t){const R=Math.min(t/a,t/l);b=Math.floor(a*R),S=Math.floor(l*R),this.#c||(h=this.#h(b,S))}const T=new OffscreenCanvas(b,S).getContext("2d",{willReadFrequently:!0});T.drawImage(h,0,0,h.width,h.height,0,0,b,S),y={width:b,height:S,data:T.getImageData(0,0,b,S).data}}return{canvas:g,width:d,height:f,imageData:y}}#h(t,e){const{width:s,height:a}=this.#t;let l=s,c=a,h=this.#t;for(;l>2*t||c>2*e;){const d=l,f=c;l>2*t&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2)),c>2*e&&(c=c>=16384?Math.floor(c/2)-1:Math.ceil(c/2));const g=new OffscreenCanvas(l,c);g.getContext("2d").drawImage(h,0,0,d,f,0,0,l,c),h=g.transferToImageBitmap()}return h}#g(){const[t,e]=this.parentDimensions,{width:s,height:a}=this,l=new Ii,c=Math.ceil(s*t*l.sx),h=Math.ceil(a*e*l.sy),d=this.#r;if(!d||d.width===c&&d.height===h)return;d.width=c,d.height=h;const f=this.#c?this.#t:this.#h(c,h),g=d.getContext("2d");g.filter=this._uiManager.hcmFilter,g.drawImage(f,0,0,f.width,f.height,0,0,c,h)}#v(t){if(t){if(this.#c){const a=this._uiManager.imageManager.getSvgUrl(this.#e);if(a)return a}const e=document.createElement("canvas");return{width:e.width,height:e.height}=this.#t,e.getContext("2d").drawImage(this.#t,0,0),e.toDataURL()}if(this.#c){const[e,s]=this.pageDimensions,a=Math.round(this.width*e*Aa.PDF_TO_CSS_UNITS),l=Math.round(this.height*s*Aa.PDF_TO_CSS_UNITS),c=new OffscreenCanvas(a,l);return c.getContext("2d").drawImage(this.#t,0,0,this.#t.width,this.#t.height,0,0,a,l),c.transferToImageBitmap()}return structuredClone(this.#t)}static async deserialize(t,e,s){let a=null,l=!1;if(t instanceof xA){const{data:{rect:T,rotation:R,id:M,structParent:N,popupRef:C,contentsObj:v},container:A,parent:{page:{pageNumber:_}},canvas:D}=t;let P,L;D?(delete t.canvas,{id:P,bitmap:L}=s.imageManager.getFromCanvas(A.id,D),D.remove()):(l=!0,t._hasNoCanvas=!0);const q=(await e._structTree.getAriaAttributes(`${cf}${M}`))?.get("aria-label")||"";a=t={annotationType:bt.STAMP,bitmapId:P,bitmap:L,pageIndex:_-1,rect:T.slice(0),rotation:R,annotationElementId:M,id:M,deleted:!1,accessibilityData:{decorative:!1,altText:q},isSvg:!1,structParent:N,popupRef:C,comment:v?.str||null}}const c=await super.deserialize(t,e,s),{rect:h,bitmap:d,bitmapUrl:f,bitmapId:g,isSvg:y,accessibilityData:b}=t;l?(s.addMissingCanvas(t.id,c),c.#o=!0):g&&s.imageManager.isValidId(g)?(c.#e=g,d&&(c.#t=d)):c.#s=f,c.#c=y;const[S,w]=c.pageDimensions;return c.width=(h[2]-h[0])/S,c.height=(h[3]-h[1])/w,b&&(c.altTextData=b),c._initialData=a,t.comment&&c.setCommentData(t.comment),c.#d=!!a,c}serialize(t=!1,e=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s={annotationType:bt.STAMP,bitmapId:this.#e,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#c,structTreeParentId:this._structTreeParentId};if(this.addComment(s),t)return s.bitmapUrl=this.#v(!0),s.accessibilityData=this.serializeAltText(!0),s.isCopy=!0,s;const{decorative:a,altText:l}=this.serializeAltText(!1);if(!a&&l&&(s.accessibilityData={type:"Figure",alt:l}),this.annotationElementId){const h=this.#y(s);if(h.isSame)return null;h.isSameAltText?delete s.accessibilityData:s.accessibilityData.structParent=this._initialData.structParent??-1}if(s.id=this.annotationElementId,e===null)return s;e.stamps||=new Map;const c=this.#c?(s.rect[2]-s.rect[0])*(s.rect[3]-s.rect[1]):null;if(!e.stamps.has(this.#e))e.stamps.set(this.#e,{area:c,serialized:s}),s.bitmap=this.#v(!1);else if(this.#c){const h=e.stamps.get(this.#e);c>h.area&&(h.area=c,h.serialized.bitmap.close(),h.serialized.bitmap=this.#v(!1))}return s}#y(t){const{pageIndex:e,accessibilityData:{altText:s}}=this._initialData,a=t.pageIndex===e,l=(t.accessibilityData?.alt||"")===s;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&a&&l,isSameAltText:l}}renderAnnotationElement(t){const e={rect:this.getRect(0,0)};return this.hasEditedComment&&(e.popup=this.comment),t.updateEdited(e),null}}class Ji{#t;#e=!1;#i=null;#s=null;#a=null;#n=new Map;#r=!1;#o=!1;#u=!1;#c=null;#d=null;#l=null;#p=null;#m=null;#f=-1;#h;static _initialized=!1;static#g=new Map([he,xf,ZM,Jt,Pi].map(t=>[t._editorType,t]));constructor({uiManager:t,pageIndex:e,div:s,structTreeLayer:a,accessibilityManager:l,annotationLayer:c,drawLayer:h,textLayer:d,viewport:f,l10n:g}){const y=[...Ji.#g.values()];if(!Ji._initialized){Ji._initialized=!0;for(const b of y)b.initialize(g,t)}t.registerEditorTypes(y),this.#h=t,this.pageIndex=e,this.div=s,this.#t=l,this.#i=c,this.viewport=f,this.#l=d,this.drawLayer=h,this._structTree=a,this.#h.addLayer(this)}get isEmpty(){return this.#n.size===0}get isInvisible(){return this.isEmpty&&this.#h.getMode()===bt.NONE}updateToolbar(t){this.#h.updateToolbar(t)}updateMode(t=this.#h.getMode()){switch(this.#b(),t){case bt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case bt.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case bt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const s of Ji.#g.values())e.toggle(`${s._type}Editing`,t===s._editorType);this.div.hidden=!1}hasTextLayer(t){return t===this.#l?.div}setEditingState(t){this.#h.setEditingState(t)}addCommands(t){this.#h.addCommands(t)}cleanUndoStack(t){this.#h.cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){this.#i?.div.classList.toggle("disabled",!t)}async enable(){this.#u=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.#m?.abort(),this.#m=null;const t=new Set;for(const s of this.#n.values())s.enableEditing(),s.show(!0),s.annotationElementId&&(this.#h.removeChangedExistingAnnotation(s),t.add(s.annotationElementId));if(!this.#i){this.#u=!1;return}const e=this.#i.getEditableAnnotations();for(const s of e){if(s.hide(),this.#h.isDeletedAnnotationElement(s.data.id)||t.has(s.data.id))continue;const a=await this.deserialize(s);a&&(this.addOrRebuild(a),a.enableEditing())}this.#u=!1}disable(){if(this.#o=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.#l&&!this.#m){this.#m=new AbortController;const a=this.#h.combinedSignal(this.#m);this.#l.div.addEventListener("pointerdown",l=>{const{clientX:h,clientY:d,timeStamp:f}=l,g=this.#f;if(f-g>500){this.#f=f;return}this.#f=-1;const{classList:y}=this.div;y.toggle("getElements",!0);const b=document.elementsFromPoint(h,d);if(y.toggle("getElements",!1),!this.div.contains(b[0]))return;let S;const w=new RegExp(`^${Xv}[0-9]+$`);for(const R of b)if(w.test(R.id)){S=R.id;break}if(!S)return;const T=this.#n.get(S);T?.annotationElementId===null&&(l.stopPropagation(),l.preventDefault(),T.dblclick())},{signal:a,capture:!0})}const t=new Map,e=new Map;for(const a of this.#n.values())if(a.disableEditing(),!!a.annotationElementId){if(a.serialize()!==null){t.set(a.annotationElementId,a);continue}else e.set(a.annotationElementId,a);this.getEditableAnnotation(a.annotationElementId)?.show(),a.remove()}if(this.#i){const a=this.#i.getEditableAnnotations();for(const l of a){const{id:c}=l.data;if(this.#h.isDeletedAnnotationElement(c)){l.updateEdited({deleted:!0});continue}let h=e.get(c);if(h){h.resetAnnotationElement(l),h.show(!1),l.show();continue}h=t.get(c),h&&(this.#h.addChangedExistingAnnotation(h),h.renderAnnotationElement(l)&&h.show(!1)),l.show()}}this.#b(),this.isEmpty&&(this.div.hidden=!0);const{classList:s}=this.div;for(const a of Ji.#g.values())s.remove(`${a._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#o=!1}getEditableAnnotation(t){return this.#i?.getEditableAnnotation(t)||null}setActiveEditor(t){this.#h.getActive()!==t&&this.#h.setActiveEditor(t)}enableTextSelection(){if(this.div.tabIndex=-1,this.#l?.div&&!this.#p){this.#p=new AbortController;const t=this.#h.combinedSignal(this.#p);this.#l.div.addEventListener("pointerdown",this.#v.bind(this),{signal:t}),this.#l.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#l?.div&&this.#p&&(this.#p.abort(),this.#p=null,this.#l.div.classList.remove("highlighting"))}#v(t){this.#h.unselectAll();const{target:e}=t;if(e===this.#l.div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&this.#l.div.contains(e)){const{isMac:s}=xe.platform;if(t.button!==0||t.ctrlKey&&s)return;this.#h.showAllEditors("highlight",!0,!0),this.#l.div.classList.add("free"),this.toggleDrawing(),Jt.startHighlighting(this,this.#h.direction==="ltr",{target:this.#l.div,x:t.x,y:t.y}),this.#l.div.addEventListener("pointerup",()=>{this.#l.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#h._signal}),t.preventDefault()}}enableClick(){if(this.#s)return;this.#s=new AbortController;const t=this.#h.combinedSignal(this.#s);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){this.#s?.abort(),this.#s=null}attach(t){this.#n.set(t.id,t);const{annotationElementId:e}=t;e&&this.#h.isDeletedAnnotationElement(e)&&this.#h.removeDeletedAnnotationElement(t)}detach(t){this.#n.delete(t.id),this.#t?.removePointerInTextLayer(t.contentDiv),!this.#o&&t.annotationElementId&&this.#h.addDeletedAnnotationElement(t)}remove(t){this.detach(t),this.#h.removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){t.parent!==this&&(t.parent&&t.annotationElementId&&(this.#h.addDeletedAnnotationElement(t.annotationElementId),ut.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),t.parent?.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),this.#h.addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!this.#u),this.#h.addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!this.#a&&(t._focusEventsAllowed=!1,this.#a=setTimeout(()=>{this.#a=null,t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this.#h._signal}),e.focus())},0)),t._structTreeParentId=this.#t?.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||=this,t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),s=()=>{t.remove()};this.addCommands({cmd:e,undo:s,mustExec:!1})}getNextId(){return this.#h.getId()}get#y(){return Ji.#g.get(this.#h.getMode())}combinedSignal(t){return this.#h.combinedSignal(t)}#S(t){const e=this.#y;return e?new e.prototype.constructor(t):null}canCreateNewEmptyEditor(){return this.#y?.canCreateNewEmptyEditor()}async pasteEditor(t,e){this.updateToolbar(t),await this.#h.updateMode(t.mode);const{offsetX:s,offsetY:a}=this.#x(),l=this.getNextId(),c=this.#S({parent:this,id:l,x:s,y:a,uiManager:this.#h,isCentered:!0,...e});c&&this.add(c)}async deserialize(t){return await Ji.#g.get(t.annotationType??t.annotationEditorType)?.deserialize(t,this,this.#h)||null}createAndAddNewEditor(t,e,s={}){const a=this.getNextId(),l=this.#S({parent:this,id:a,x:t.offsetX,y:t.offsetY,uiManager:this.#h,isCentered:e,...s});return l&&this.add(l),l}#x(){const{x:t,y:e,width:s,height:a}=this.div.getBoundingClientRect(),l=Math.max(0,t),c=Math.max(0,e),h=Math.min(window.innerWidth,t+s),d=Math.min(window.innerHeight,e+a),f=(l+h)/2-t,g=(c+d)/2-e,[y,b]=this.viewport.rotation%180===0?[f,g]:[g,f];return{offsetX:y,offsetY:b}}addNewEditor(t={}){this.createAndAddNewEditor(this.#x(),!0,t)}setSelected(t){this.#h.setSelected(t)}toggleSelected(t){this.#h.toggleSelected(t)}unselect(t){this.#h.unselect(t)}pointerup(t){const{isMac:e}=xe.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div||!this.#r||(this.#r=!1,this.#y?.isDrawer&&this.#y.supportMultipleDrawings))return;if(!this.#e){this.#e=!0;return}const s=this.#h.getMode();if(s===bt.STAMP||s===bt.SIGNATURE){this.#h.unselectAll();return}this.createAndAddNewEditor(t,!1)}pointerdown(t){if(this.#h.getMode()===bt.HIGHLIGHT&&this.enableTextSelection(),this.#r){this.#r=!1;return}const{isMac:e}=xe.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;if(this.#r=!0,this.#y?.isDrawer){this.startDrawingSession(t);return}const s=this.#h.getActive();this.#e=!s||s.isEmpty()}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),this.#c){this.#y.startDrawing(this,this.#h,!1,t);return}this.#h.setCurrentDrawingSession(this),this.#c=new AbortController;const e=this.#h.combinedSignal(this.#c);this.div.addEventListener("blur",({relatedTarget:s})=>{s&&!this.div.contains(s)&&(this.#d=null,this.commitOrRemove())},{signal:e}),this.#y.startDrawing(this,this.#h,!1,t)}pause(t){if(t){const{activeElement:e}=document;this.div.contains(e)&&(this.#d=e);return}this.#d&&setTimeout(()=>{this.#d?.focus(),this.#d=null},0)}endDrawingSession(t=!1){return this.#c?(this.#h.setCurrentDrawingSession(null),this.#c.abort(),this.#c=null,this.#d=null,this.#y.endDrawing(t)):null}findNewParent(t,e,s){const a=this.#h.findParent(e,s);return a===null||a===this?!1:(a.changeParent(t),!0)}commitOrRemove(){return this.#c?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#c&&this.#y.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#h.getActive()?.parent===this&&(this.#h.commitOrRemove(),this.#h.setActiveEditor(null)),this.#a&&(clearTimeout(this.#a),this.#a=null);for(const t of this.#n.values())this.#t?.removePointerInTextLayer(t.contentDiv),t.setParent(null),t.isAttachedToDOM=!1,t.div.remove();this.div=null,this.#n.clear(),this.#h.removeLayer(this)}#b(){for(const t of this.#n.values())t.isEmpty()&&t.remove()}render({viewport:t}){this.viewport=t,pn(this.div,t);for(const e of this.#h.getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){this.#h.commitOrRemove(),this.#b();const e=this.viewport.rotation,s=t.rotation;if(this.viewport=t,pn(this.div,{rotation:s}),e!==s)for(const a of this.#n.values())a.rotate(s)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return this.#h.viewParameters.realScale}}class ve{#t=null;#e=new Map;#i=new Map;static#s=0;constructor({pageIndex:t}){this.pageIndex=t}setParent(t){if(!this.#t){this.#t=t;return}if(this.#t!==t){if(this.#e.size>0)for(const e of this.#e.values())e.remove(),t.append(e);this.#t=t}}static get _svgFactory(){return Tt(this,"_svgFactory",new $l)}static#a(t,[e,s,a,l]){const{style:c}=t;c.top=`${100*s}%`,c.left=`${100*e}%`,c.width=`${100*a}%`,c.height=`${100*l}%`}#n(){const t=ve._svgFactory.create(1,1,!0);return this.#t.append(t),t.setAttribute("aria-hidden",!0),t}#r(t,e){const s=ve._svgFactory.createElement("clipPath");t.append(s);const a=`clip_${e}`;s.setAttribute("id",a),s.setAttribute("clipPathUnits","objectBoundingBox");const l=ve._svgFactory.createElement("use");return s.append(l),l.setAttribute("href",`#${e}`),l.classList.add("clip"),a}#o(t,e){for(const[s,a]of Object.entries(e))a===null?t.removeAttribute(s):t.setAttribute(s,a)}draw(t,e=!1,s=!1){const a=ve.#s++,l=this.#n(),c=ve._svgFactory.createElement("defs");l.append(c);const h=ve._svgFactory.createElement("path");c.append(h);const d=`path_p${this.pageIndex}_${a}`;h.setAttribute("id",d),h.setAttribute("vector-effect","non-scaling-stroke"),e&&this.#i.set(a,h);const f=s?this.#r(c,d):null,g=ve._svgFactory.createElement("use");return l.append(g),g.setAttribute("href",`#${d}`),this.updateProperties(l,t),this.#e.set(a,l),{id:a,clipPathId:`url(#${f})`}}drawOutline(t,e){const s=ve.#s++,a=this.#n(),l=ve._svgFactory.createElement("defs");a.append(l);const c=ve._svgFactory.createElement("path");l.append(c);const h=`path_p${this.pageIndex}_${s}`;c.setAttribute("id",h),c.setAttribute("vector-effect","non-scaling-stroke");let d;if(e){const y=ve._svgFactory.createElement("mask");l.append(y),d=`mask_p${this.pageIndex}_${s}`,y.setAttribute("id",d),y.setAttribute("maskUnits","objectBoundingBox");const b=ve._svgFactory.createElement("rect");y.append(b),b.setAttribute("width","1"),b.setAttribute("height","1"),b.setAttribute("fill","white");const S=ve._svgFactory.createElement("use");y.append(S),S.setAttribute("href",`#${h}`),S.setAttribute("stroke","none"),S.setAttribute("fill","black"),S.setAttribute("fill-rule","nonzero"),S.classList.add("mask")}const f=ve._svgFactory.createElement("use");a.append(f),f.setAttribute("href",`#${h}`),d&&f.setAttribute("mask",`url(#${d})`);const g=f.cloneNode();return a.append(g),f.classList.add("mainOutline"),g.classList.add("secondaryOutline"),this.updateProperties(a,t),this.#e.set(s,a),s}finalizeDraw(t,e){this.#i.delete(t),this.updateProperties(t,e)}updateProperties(t,e){if(!e)return;const{root:s,bbox:a,rootClass:l,path:c}=e,h=typeof t=="number"?this.#e.get(t):t;if(h){if(s&&this.#o(h,s),a&&ve.#a(h,a),l){const{classList:d}=h;for(const[f,g]of Object.entries(l))d.toggle(f,g)}if(c){const f=h.firstChild.firstChild;this.#o(f,c)}}}updateParent(t,e){if(e===this)return;const s=this.#e.get(t);s&&(e.#t.append(s),this.#e.delete(t),e.#e.set(t,s))}remove(t){this.#i.delete(t),this.#t!==null&&(this.#e.get(t).remove(),this.#e.delete(t))}destroy(){this.#t=null;for(const t of this.#e.values())t.remove();this.#e.clear(),this.#i.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:Td};globalThis.pdfjsLib={AbortException:Os,AnnotationEditorLayer:Ji,AnnotationEditorParamsType:Mt,AnnotationEditorType:bt,AnnotationEditorUIManager:ks,AnnotationLayer:Sf,AnnotationMode:Rs,AnnotationType:ae,build:RM,ColorPicker:di,createValidAbsoluteUrl:Yv,DOMSVGFactory:$l,DrawLayer:ve,FeatureTest:xe,fetchData:eo,getDocument:fA,getFilenameFromUrl:SC,getPdfFilenameFromUrl:xC,getRGB:nc,getUuid:Kv,getXfaPageViewport:TC,GlobalWorkerOptions:ma,ImageKind:jl,InvalidPDFException:yd,isDataScheme:sc,isPdfFile:hf,isValidExplicitDest:kC,MathClamp:Pe,noContextMenu:pi,normalizeUnicode:bC,OPS:Xl,OutputScale:Ii,PasswordResponses:cC,PDFDataRangeTransport:pA,PDFDateString:bd,PDFWorker:$r,PermissionFlag:lC,PixelsPerInch:Aa,RenderingCancelledException:uf,ResponseException:Yl,setLayerDimensions:pn,shadow:Tt,SignatureExtractor:ra,stopEvent:oe,SupportedImageMimeTypes:vd,TextLayer:Re,TouchManager:ac,updateUrlHash:$v,Util:lt,VerbosityLevel:tc,version:MM,XfaLayer:yA};const JM="/portfolio/assets/pdf.worker.min-DbR_HJhJ.mjs";ma.workerSrc=JM;const t2="lauraarodriguez11",e2=["Python","SQL","Tableau","Spark","ML","DL","XAI","RPA","Scikit-learn"],i2=[],hb=[{name:"Todas",tags:[]},{name:"Bases de Datos",tags:["MySQL","PostgreSQL","MongoDB","Neo4j","NoSQL","Modelo E-R","SQL Scripts","Triggers","Vistas","XML","SQL"]},{name:"Estadstica & Ciencia de Datos",tags:["Pandas","NumPy","SciPy","Statsmodels","Estadstica","EDA","Inferencia","Spark"]},{name:"Machine Learning & Deep Learning",tags:["Scikit-learn","Random Forest","XGBoost","PCA","K-Means","ARIMA","Holt-Winters","CNN","RNN","Transformers","ViT","NLP","XAI"]},{name:"Visualizacin & BI",tags:["Tableau","Power BI","Dashboards","Data Visualization"]},{name:"Automatizacin & RPA",tags:["RPA","UiPath","n8n","Make"]}],s2=[{id:"tfg-emociones",title:"Clasificacin de Emociones mediante Aprendizaje Automtico",role:"TFG  NLP  ML/DL",year:2024,tags:["Python","NLP","ML","DL","SVM","Random Forest","Naive Bayes","RNN","LSTM","Transformers","XLM-Roberta"],blurb:"Trabajo Fin de Grado centrado en la clasificacin automtica de emociones en textos cortos de redes sociales (ira, asco, miedo, alegra, tristeza y sorpresa). Incluye un marco terico detallado de IA, aprendizaje automtico y redes neuronales, seguido de una aplicacin prctica en Python. Se implementaron modelos ML (SVM, Random Forest, Naive Bayes) y DL (RNN, LSTM y Transformers con XLM-Roberta), con un exhaustivo preprocesamiento textual y tcnicas de optimizacin (GridSearch, RandomSearch). La evaluacin utiliz mtricas como precisin, recall, F1-score y accuracy, comparando enfoques clsicos y de deep learning. El documento completo recoge resultados, discusin crtica, limitaciones y posibles lneas de mejora.",image:"/portfolio/cover_tfg.png",links:[{label:"GitHub",href:"https://github.com/lauraarodriguez11/TFG_clasificacion_emociones"},{label:"PDF TFG",href:"https://github.com/lauraarodriguez11/TFG_clasificacion_emociones/blob/main/TFG-Laura-Rodriguez-Ropero_signed.pdf"}],category:"tech"},{id:"ucm-01",title:"Creacin de una Base de Datos",role:"SQL  Modelado de Datos",year:2024,tags:["MySQL","Modelo E-R","SQL Scripts","Triggers","Vistas","SQL"],blurb:"Diseo e implementacin de una base de datos relacional para gestionar eventos culturales. Incluye modelo entidad-relacin, paso a modelo lgico, creacin en MySQL con restricciones y relaciones, insercin de datos variados, 10+ consultas avanzadas, vistas y triggers automticos.",image:"/portfolio/cover1.png",links:[{label:"GitHub",href:"https://github.com/lauraarodriguez11/master_ucm/tree/main/trabajos/1"}],category:"tech"},{id:"ucm-02",title:"Filtrado y Agregacin de un Catlogo Online",role:"NoSQL  MongoDB",year:2024,tags:["MongoDB","JavaScript","Agregacin","Filtrado","Data Analysis"],blurb:"Interaccin con un catlogo de moda en MongoDB mediante inserciones, actualizaciones, filtrado y consultas de agregacin. Se incluyen scripts en JS y Python para gestionar y visualizar datos, con un informe PDF explicando dataset, queries y conclusiones analticas.",image:"/portfolio/cover2.png",links:[{label:"GitHub",href:"https://github.com/lauraarodriguez11/master_ucm/tree/main/trabajos/2"}],category:"tech"},{id:"ucm-03",title:"Estadstica Descriptiva e Inferencia",role:"Estadstica  Python",year:2024,tags:["Python","Pandas","NumPy","SciPy","Matplotlib","ML"],blurb:"Anlisis estadstico de anchura de crneos egipcios en dos periodos histricos. Incluye medidas descriptivas, boxplots, test de normalidad (Kolmogorov-Smirnov), intervalos de confianza y contraste de hiptesis mediante test t, con interpretacin rigurosa y contextualizada.",image:"/portfolio/cover3.png",links:[{label:"GitHub",href:"https://github.com/lauraarodriguez11/master_ucm/tree/main/trabajos/3"}],category:"tech"},{id:"ucm-04",title:"Proyecto de Programacin con Python",role:"Python  Programacin Estructurada  Buenas Prcticas",year:2024,tags:["Python","Pandas","PEP-8","Pruebas Unitarias","Automatizacin","MapReduce"],blurb:"Proyecto de programacin en Python orientado a la correcta estructuracin del cdigo, uso de funciones y clases, y aplicacin de pruebas exhaustivas. Se trabaj con un dataset de pelculas, desarrollando procesos de anlisis, automatizacin de tareas y visualizacin de resultados. Incluye la implementacin de un script independiente con tcnica MapReduce, adems de buenas prcticas como documentacin clara y cumplimiento de PEP-8.",image:"/portfolio/cover4.png",links:[{label:"GitHub",href:"https://github.com/lauraarodriguez11/master_ucm/tree/main/trabajos/4"}],category:"tech"},{id:"ucm-05",title:"Anlisis Financiero de Easy Loans",role:"Business Intelligence  Visualizacin de Datos",year:2025,tags:["Tableau","Business Intelligence","Dashboards","Data Visualization","KPIs"],blurb:"Desarrollo de un anlisis financiero en Tableau para la empresa Easy Loans, enfocado en detectar patrones de comportamiento, evaluar la calidad de los prstamos y proponer recomendaciones estratgicas. Incluye la creacin de dashboards interactivos, clculos personalizados y visualizaciones avanzadas que permiten extraer insights accionables para la toma de decisiones.",image:"/portfolio/cover5.png",links:[{label:"GitHub",href:"https://github.com/lauraarodriguez11/master_ucm/tree/main/trabajos/5"}],category:"tech"},{id:"ucm-06",title:"Modelos de Regresin Lineal y Logstica",role:"Python  Estadstica  Modelizacin Predictiva",year:2025,tags:["Python","Pandas","Scikit-learn","Regresin Lineal","Regresin Logstica","Seleccin de Modelos","ML"],blurb:"Construccin de modelos predictivos con regresin lineal y logstica en Python. Incluye depuracin de datos, tratamiento de outliers, variables perdidas y creacin de funciones auxiliares. Los modelos fueron optimizados con seleccin clsica y aleatoria, evaluados mediante mtricas de desempeo y acompaados de una interpretacin de coeficientes clave.",image:"/portfolio/cover6.png",links:[{label:"GitHub",href:"https://github.com/lauraarodriguez11/master_ucm/tree/main/trabajos/6"}],category:"tech"},{id:"ucm-07",title:"Series Temporales de Temperaturas Ocenicas",role:"Python  Series Temporales  Modelizacin Predictiva",year:2025,tags:["Python","Pandas","Statsmodels","ARIMA","Holt-Winters","Validacin de Modelos","ML"],blurb:"Anlisis y modelizacin de series temporales con estacionalidad en Python. Se aplicaron tcnicas de descomposicin, pruebas de estacionariedad (ADF, KPSS), modelos de suavizado exponencial de Holt y ARIMA/Auto-ARIMA. El rendimiento fue evaluado mediante mtricas MSE y MAE, comparando enfoques clsicos y automatizados de prediccin.",image:"/portfolio/cover7.png",links:[{label:"GitHub",href:"https://github.com/lauraarodriguez11/master_ucm/tree/main/trabajos/7"}],category:"tech"},{id:"ucm-08",title:"ACP y Clustering",role:"Python  Reduccin de Dimensionalidad  Machine Learning",year:2025,tags:["Python","Seaborn","Scikit-learn","PCA","K-Means","Clustering Jerrquico","Silhouette Score","ML"],blurb:"Aplicacin de tcnicas de minera de datos para anlisis multivariado. Se utiliz PCA para reduccin de dimensionalidad e interpretacin de componentes principales, seguido de clustering jerrquico y K-Means. Se evalu la calidad de los grupos mediante el mtodo del codo y la puntuacin de silueta, comparando la eficacia de los diferentes enfoques.",image:"/portfolio/cover8.png",links:[{label:"GitHub",href:"https://github.com/lauraarodriguez11/master_ucm/tree/main/trabajos/8"}],category:"tech"},{id:"ucm-09",title:"RandomForest y XGBoost",role:"Python  Machine Learning  Modelos Ensemble",year:2025,tags:["Python","Scikit-learn","XGBoost","Random Forest","GridSearchCV","Cross Validation","Feature Importance","ML"],blurb:"Construccin de modelos predictivos en Python para determinar el color original de vehculos usados a partir de caractersticas tcnicas. Se entrenaron y evaluaron rboles de decisin, Random Forest y XGBoost, aplicando GridSearchCV con validacin cruzada para optimizar hiperparmetros. El desempeo fue medido con mtricas como accuracy, precision, recall, F1-score y AUC, junto con un anlisis de importancia de variables.",image:"/portfolio/cover9.png",links:[{label:"GitHub",href:"https://github.com/lauraarodriguez11/master_ucm/tree/main/trabajos/9"}],category:"tech"},{id:"ucm-10",title:"Modelizacin Predictiva End2End con Scikit-learn",role:"Python  Machine Learning  Pipelines",year:2025,tags:["Python","Scikit-learn","Pipelines","Preprocesamiento","Validacin Cruzada","GridSearchCV","ML"],blurb:"Desarrollo de un flujo de modelizacin predictiva end-to-end en Python con scikit-learn. Incluye la construccin de pipelines con transformadores personalizados, aplicacin de tcnicas de preprocesamiento, ajuste de hiperparmetros y comparacin de mltiples algoritmos de clasificacin. Se presentan mtricas de evaluacin y visualizaciones que permiten interpretar el rendimiento de los modelos.",image:"/portfolio/cover10.png",links:[{label:"GitHub",href:"https://github.com/lauraarodriguez11/master_ucm/tree/main/trabajos/10"}],category:"tech"},{id:"ucm-11",title:"Deep Learning: Redes Densas y Convolucionales",role:"Python  Deep Learning  Redes Neuronales",year:2025,tags:["Python","TensorFlow","Keras","Redes Neuronales Densas","CNN","Clasificacin","Regresin","DL"],blurb:"Implementacin de modelos de deep learning aplicando tanto redes densas como convolucionales para resolver problemas de clasificacin y regresin. El trabajo incluye el diseo, entrenamiento y evaluacin de las arquitecturas en TensorFlow/Keras, interpretando mtricas y comparando el rendimiento de ambos enfoques.",image:"/portfolio/cover11.png",links:[{label:"GitHub",href:"https://github.com/lauraarodriguez11/master_ucm/tree/main/trabajos/11"}],category:"tech"},{id:"ucm-12",title:"Prediccin de Temperaturas con RNN",role:"Python  Deep Learning  Series Temporales",year:2025,tags:["Python","TensorFlow","Keras","RNN","Series Temporales","Prediccin","DL"],blurb:"Construccin de un modelo de red neuronal recurrente (RNN) en TensorFlow/Keras para predecir temperaturas mnimas diarias en Melbourne con un horizonte de dos das. Se aplicaron tcnicas de modelado de series temporales, entrenamiento supervisado y evaluacin de predicciones en datos reales.",image:"/portfolio/cover12.png",links:[{label:"GitHub",href:"https://github.com/lauraarodriguez11/master_ucm/tree/main/trabajos/12"}],category:"tech"},{id:"ucm-13",title:"Fine-Tuning en NLP: Clasificacin y QA",role:"Python  NLP  Transfer Learning",year:2025,tags:["Python","Transformers","Hugging Face","Fine-Tuning","Text Classification","Question Answering","DL"],blurb:"Aplicacin de fine-tuning sobre modelos de lenguaje preentrenados para resolver tareas de procesamiento de lenguaje natural. Se desarrollaron experimentos en clasificacin de textos y en respuesta automtica a preguntas, evaluando el rendimiento de los modelos ajustados con tcnicas supervisadas.",image:"/portfolio/cover13.png",links:[{label:"GitHub",href:"https://github.com/lauraarodriguez11/master_ucm/tree/main/trabajos/13"}],category:"tech"},{id:"ucm-14",title:"Anlisis de Prstamos con PySpark",role:"Big Data  PySpark  Databricks",year:2025,tags:["Python","PySpark","Databricks","Big Data","ETL","Data Analysis","Spark","ML"],blurb:"Procesamiento y anlisis de datos de microprstamos de Kiva mediante PySpark en entorno Databricks. Incluye transformaciones, limpieza y agregaciones a gran escala para explorar patrones en montos, sectores y pases, aplicando tcnicas de Big Data para el anlisis eficiente de grandes volmenes de informacin.",image:"/portfolio/cover14.png",links:[{label:"GitHub",href:"https://github.com/lauraarodriguez11/master_ucm/tree/main/trabajos/14"}],category:"tech"},{id:"correos-logs-json",title:"Librera de logging en JSON para robots RPA",role:"UiPath  RPA",year:2025,tags:["UiPath","JSON","RPA","Logs"],blurb:"Diseo e implementacin de una librera modular en UiPath para estandarizar la generacin de logs en formato JSON. Integrada en todos los robots en produccin de Correos, mejor la trazabilidad, el diagnstico de incidencias y la observabilidad de procesos, alimentando adems dashboards de Power BI para monitorizar la ejecucin de los robots.",image:"/portfolio/correos.png",links:[],category:"tech"},{id:"correos-n8n-make",title:"Orquestacin experimental con n8n y Make",role:"Automatizacin  Orquestacin",year:2025,tags:["n8n","Make","Automatizacin","RPA"],blurb:"Configuracin de entornos locales con n8n y Make como laboratorio de orquestacin de procesos. Desarrollo de flujos de prueba para evaluar integraciones con robots UiPath y explorar la escalabilidad de soluciones de automatizacin en Correos.",image:"/portfolio/correos.png",links:[],category:"tech"},{id:"correos-neo4j",title:"Exploracin de grafos con Neo4j",role:"Bases de datos  I+D",year:2025,tags:["Neo4j","Grafos","Anlisis de datos"],blurb:"Experimentacin con Neo4j como base de datos orientada a grafos, desarrollando pequeos esquemas de nodos y relaciones en entorno de laboratorio. El objetivo fue familiarizarme con el modelado de grafos y evaluar su utilidad en escenarios de anlisis y automatizacin.",image:"/portfolio/correos.png",links:[],category:"tech"},{id:"correos-soporte-transversal",title:"Soporte transversal y mantenimiento RPA",role:"Operaciones  Produccin",year:2025,tags:["RPA","UiPath","Mantenimiento","Colaboracin"],blurb:"Apoyo operativo en la resolucin de incidencias y tareas transversales en distintos procesos de negocio. Participacin en la puesta en marcha y seguimiento de proyectos desplegados en produccin junto a ATOS, coordinando con equipos tcnicos y de negocio.",image:"/portfolio/correos.png",links:[],category:"tech"},{id:"balteus",title:"Balteus x Wenyers",role:"Colaboracin  Accesorios",year:2025,tags:["Accesorios","Modular","Diseo","Prototipado","Funcionalidad","Complementos","Brand Collab"],blurb:"Colaboracin con la marca Balteus en el diseo de una coleccin Otoo-Invierno 2025 de hebillas de cinturn modulares. Desarrollo de propuestas estticas y funcionales, explorando nuevas posibilidades en el diseo de accesorios de moda.",image:"/portfolio/balteus.webp",links:[],category:"art"}];function n2(r,t=250){const[e,s]=Q.useState(r);return Q.useEffect(()=>{const a=setTimeout(()=>s(r),t);return()=>clearTimeout(a)},[r,t]),e}function a2(r){const[t,e]=Q.useState([]);return Q.useEffect(()=>{let s=!1;return(async()=>{if(r)try{const a=await fA(r).promise,l=[];for(let c=1;c<=a.numPages;c++){const h=await a.getPage(c),d=h.getViewport({scale:1.25}),f=document.createElement("canvas"),g=f.getContext("2d");f.width=d.width,f.height=d.height,await h.render({canvasContext:g,viewport:d}).promise,l.push(f.toDataURL())}s||e(l)}catch(a){console.error("PDF render error",a),e([])}})(),()=>{s=!0}},[r]),t}function r2(){const r=Ps.useRef(null),[t,e]=Q.useState(0);return Q.useEffect(()=>{if(!r.current)return;const s=new ResizeObserver(a=>{for(const l of a)e(l.contentRect.width)});return s.observe(r.current),()=>s.disconnect()},[]),[r,t]}function o2(){return O.jsxs("div",{className:"relative w-full h-full [transform-style:preserve-3d]",children:[O.jsx("div",{className:"absolute inset-0 grid place-items-center bg-white text-black [backface-visibility:hidden]",children:O.jsxs("div",{className:"p-6 text-center",children:[O.jsx("h1",{className:"text-2xl font-extrabold tracking-tight",children:"Laura Rodrguez"}),O.jsx("p",{className:"mt-2 text-sm opacity-80",children:"Portfolio  Data  Moda & Arte"})]})}),O.jsx("div",{className:"absolute inset-0 bg-white [backface-visibility:hidden] [transform:rotateY(180deg)]"})]})}function l2(){return O.jsxs("div",{className:"relative w-full h-full [transform-style:preserve-3d]",children:[O.jsx("div",{className:"absolute inset-0 bg-white [backface-visibility:hidden]"}),O.jsx("div",{className:"absolute inset-0 bg-white [backface-visibility:hidden] [transform:rotateY(180deg)]"})]})}function c2(){const[r]=Q.useState(s2),[t,e]=Q.useState(""),[s,a]=Q.useState("Todas"),[l,c]=Q.useState("recent"),[h,d]=Q.useState(!1),[f,g]=Q.useState(null),[y,b]=Q.useState("home"),[S,w]=Q.useState("Todas"),T=Q.useMemo(()=>hb.map(L=>L.name),[]),R=n2(t,250),M=a2("/portfolio/portfolio.pdf"),[N,C]=Q.useState(1.414);Q.useEffect(()=>{if(!M.length)return;const L=new Image;L.onload=()=>{L.naturalWidth&&L.naturalHeight&&C(L.naturalHeight/L.naturalWidth)},L.src=M[0]},[M]);const v=Ps.useMemo(()=>M.map((L,q)=>O.jsxs("div",{className:"relative w-full h-full [transform-style:preserve-3d]",children:[O.jsx("div",{className:"absolute inset-0 grid place-items-center bg-white [backface-visibility:hidden]",children:O.jsx("img",{src:L,alt:`Pgina ${q+1}`,className:"max-w-full max-h-full object-contain"})}),O.jsx("div",{className:"absolute inset-0 bg-transparent [backface-visibility:hidden] [transform:rotateY(180deg)]"})]},`page-${q}`)),[M]),[A,_]=r2(),D=()=>document.getElementById("projects")?.scrollIntoView({behavior:"smooth"});Q.useEffect(()=>{a("Todas"),w("Todas")},[y]);const P=Q.useMemo(()=>{const L=it=>it.toLowerCase(),q=y==="home"?r:r.filter(it=>it.category===y),X=hb.find(it=>it.name===S),tt=it=>!X||X.name==="Todas"?!0:(it.tags||[]).some(j=>X.tags.includes(j));let at=q.filter(it=>{const pt=[it.title,it.role,(it.tags||[]).join(" ")].map(String).join(" ").toLowerCase(),j=!R||pt.includes(L(R)),U=s==="Todas"||(it.tags||[]).includes(s),et=tt(it);return j&&et&&U});return l==="recent"&&(at=at.sort((it,pt)=>pt.year-it.year)),l==="az"&&(at=at.sort((it,pt)=>it.title.localeCompare(pt.title))),at},[R,s,l,r,y,S]);return Q.useEffect(()=>{if(h){const L=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=L}}},[h]),O.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-white to-[hsl(0_0%_98%)] text-black",children:[O.jsx("header",{className:"sticky top-0 z-30 backdrop-blur bg-white/80 border-b",children:O.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between py-3 px-4",children:[O.jsx("div",{className:"flex items-center gap-3",children:O.jsxs("div",{children:[O.jsx("div",{className:"font-semibold leading-tight",children:"Laura Rodrguez"}),O.jsx("div",{className:"text-xs text-[hsl(215_16%_40%)]",children:"Creative Technologist | Data Scientist with a Passion for Fashion"})]})}),O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsxs("nav",{className:"hidden sm:flex items-center rounded-2xl border overflow-hidden",children:[O.jsx("button",{onClick:()=>{b("tech"),D()},className:`h-10 px-3 text-sm ${y==="tech"?"bg-black text-white":"hover:bg-[hsl(214.3_31.8%_95%)]"}`,children:"Tech"}),O.jsx("div",{className:"w-px self-stretch bg-black/80","aria-hidden":!0}),O.jsx("button",{onClick:()=>{b("art")},className:`h-10 px-3 text-sm ${y==="art"?"bg-black text-white":"hover:bg-[hsl(214.3_31.8%_95%)]"}`,children:"Art"})]}),O.jsx("button",{onClick:()=>b("home"),"aria-label":"Inicio",title:"Inicio",className:`h-10 px-3 flex items-center justify-center text-sm border rounded-2xl ${y==="home"?"bg-black text-white":"hover:bg-[hsl(214.3_31.8%_95%)]"}`,children:O.jsx($E,{className:"w-4 h-4"})})]})]})}),O.jsxs("section",{className:"max-w-6xl mx-auto px-4 pt-10 pb-6",children:[O.jsxs(H0.h1,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl md:text-4xl font-extrabold tracking-tight",children:[y==="home"&&"Laura Rodrguez  CV",y==="tech"&&"Ciencia de Datos e IA",y==="art"&&"Diseo de Moda & Arte"]}),O.jsxs("p",{className:"mt-3 w-full text-[hsl(215_16%_40%)]",children:[y==="home"&&O.jsx(O.Fragment,{children:"Creative Technologist | Data Scientist with a Passion for Fashion"}),y==="tech"&&O.jsxs(O.Fragment,{children:["Integro ",O.jsx("strong",{children:"anlisis de datos"})," e ",O.jsx("strong",{children:"IA"})," para crear soluciones robustas, explicables y tiles."]}),y==="art"&&O.jsxs(O.Fragment,{children:["Exploro ",O.jsx("strong",{children:"diseo de moda"}),", ",O.jsx("strong",{children:"direccin artstica"})," y visualizacin creativa con un enfoque funcional."]})]}),y!=="home"&&O.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:(y==="tech"?e2:i2).map(L=>{const q=s===L;return O.jsx("button",{onClick:()=>{a(q?"Todas":L),D()},className:`rounded-2xl border px-2.5 py-1 text-sm ${q?"bg-black text-white":"bg-white hover:shadow"}`,children:L},L)})})]}),y==="home"&&O.jsxs("section",{className:"max-w-6xl mx-auto px-4 py-6 space-y-6",children:[O.jsxs("div",{className:"rounded-2xl border p-4 bg-white/70",children:[O.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Experiencia"}),O.jsxs("div",{className:"flex justify-between mt-2",children:[O.jsx("div",{className:"font-medium mr-4",children:"Programa Jven Talento - Correos (Equipo DALIA)"}),O.jsx("div",{className:"text-xs text-[hsl(215_16%_40%)] whitespace-nowrap",children:"Febrero - Agosto 2025"})]}),O.jsxs("ul",{className:"list-disc pl-5 mt-1 text-sm space-y-1",children:[O.jsx("li",{children:"Desarrollo modular en UiPath, automatizacin de procesos (RPA), orquestacin con n8n y Make."}),O.jsx("li",{children:"Trazabilidad en JSON y trabajo tcnico en entornos corporativos complejos."}),O.jsx("li",{children:"Colaboracin transversal con equipos tcnicos y de negocio; mejora de la escalabilidad de robots en produccin."})]}),O.jsx("div",{className:"mt-2 text-xs text-[hsl(215_16%_40%)]",children:"Stack: UiPath  n8n  Make  JSON  Git  RPA"}),O.jsxs("div",{className:"flex justify-between mt-3",children:[O.jsx("div",{className:"font-medium mr-4",children:"Colaboracin de diseo - Balteus (coleccin Otoo-Invierno 2025)"}),O.jsx("div",{className:"text-xs text-[hsl(215_16%_40%)] whitespace-nowrap",children:"Mayo - Julio 2025"})]}),O.jsxs("ul",{className:"list-disc pl-5 mt-1 text-sm space-y-1",children:[O.jsx("li",{children:"Diseo y evaluacin de variantes modulares de hebillas; equilibrio esttica-funcionalidad."}),O.jsx("li",{children:"Colaboracin con fundadores y direccin creativa para alineacin con identidad de marca."})]}),O.jsx("div",{className:"mt-2 text-xs text-[hsl(215_16%_40%)]",children:"Stack: Illustrator  Photoshop  Diseo industrial  Dibujo tcnico"}),O.jsxs("div",{className:"flex justify-between mt-3",children:[O.jsx("div",{className:"font-medium mr-4",children:"Ganadora del reto de Tirme - II Circular Innovation Hackathon (Palma de Mallorca)"}),O.jsx("div",{className:"text-xs text-[hsl(215_16%_40%)] whitespace-nowrap",children:"Noviembre 2024"})]}),O.jsxs("ul",{className:"list-disc pl-5 mt-1 text-sm space-y-1",children:[O.jsx("li",{children:"Propuesta de solucin tecnolgica circular con impacto en sostenibilidad y trazabilidad de residuos."}),O.jsx("li",{children:"Trabajo en equipo multidisciplinar y presentacin ante jurado empresarial."})]}),O.jsx("div",{className:"mt-2 text-xs text-[hsl(215_16%_40%)]",children:"Stack: Innovacin  Data  Economa circular  Prototipado"}),O.jsxs("div",{className:"flex justify-between mt-3",children:[O.jsx("div",{className:"font-medium mr-4",children:"Miembro de comit organizador del XXIV Encuentro Nacional de Estudiantes de Matemticas"}),O.jsx("div",{className:"text-xs text-[hsl(215_16%_40%)] whitespace-nowrap",children:"Julio 2023"})]}),O.jsx("ul",{className:"list-disc pl-5 mt-1 text-sm space-y-1",children:O.jsx("li",{children:"Coordinacin logstica y gestin de comunicaciones con ms de 300 asistentes."})}),O.jsx("div",{className:"mt-2 text-xs text-[hsl(215_16%_40%)]",children:"Stack: Gestin de eventos  Comunicacin  Diseo grfico"})]}),O.jsxs("div",{className:"rounded-2xl border p-4 bg-white/70 mt-4",children:[O.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Educacin"}),O.jsxs("div",{className:"flex justify-between mt-2",children:[O.jsx("div",{className:"font-medium mr-4",children:"Ttulo Superior en Diseo de Moda - Universidad Europea | IADE"}),O.jsx("div",{className:"text-xs text-[hsl(215_16%_40%)] whitespace-nowrap",children:"2025 - En curso"})]}),O.jsx("ul",{className:"list-disc pl-5 mt-1 text-sm space-y-1",children:O.jsx("li",{children:"Proyectos de diseo experimental con enfoque en sostenibilidad y tcnicas mixtas."})}),O.jsx("div",{className:"mt-2 text-xs text-[hsl(215_16%_40%)]",children:"Stack: Dibujo tcnico  Patronaje  Estilismo  Photoshop  Illustrator"}),O.jsxs("div",{className:"flex justify-between mt-3",children:[O.jsx("div",{className:"font-medium mr-4",children:"Mster en Big Data, Data Science e IA - Universidad Complutense de Madrid"}),O.jsx("div",{className:"text-xs text-[hsl(215_16%_40%)] whitespace-nowrap",children:"2024 - 2025"})]}),O.jsxs("ul",{className:"list-disc pl-5 mt-1 text-sm space-y-1",children:[O.jsx("li",{children:"TFM: Autenticacin de autora pictrica mediante IA explicable."}),O.jsx("li",{children:" Premio al mejor proyecto final de mster (Competicin de Becas UCM  NTIC Master)."})]}),O.jsx("div",{className:"mt-2 text-xs text-[hsl(215_16%_40%)]",children:"Stack: SQL  NoSQL  Python  ML  DL  NLP  Spark  MLflow  Explainable AI"}),O.jsxs("div",{className:"flex justify-between mt-3",children:[O.jsx("div",{className:"font-medium mr-4",children:"Grado en Matemticas - Universidad de Extremadura"}),O.jsx("div",{className:"text-xs text-[hsl(215_16%_40%)] whitespace-nowrap",children:"2019 - 2024"})]}),O.jsxs("ul",{className:"list-disc pl-5 mt-1 text-sm space-y-1",children:[O.jsx("li",{children:"TFG: Clasificacin de emociones mediante Deep Learning."}),O.jsx("li",{children:"Erasmus: Universidad de Zielona Gra, Polonia (20232024)."})]}),O.jsx("div",{className:"mt-2 text-xs text-[hsl(215_16%_40%)]",children:"Stack: lgebra  Estadstica  Geometra  Topologa  Anlisis Matemtico"}),O.jsxs("div",{className:"flex justify-between mt-3",children:[O.jsx("div",{className:"font-medium mr-4",children:"Tres cursos anuales de Teatro - Escuela de Interpretacin y compaa Createatro"}),O.jsx("div",{className:"text-xs text-[hsl(215_16%_40%)] whitespace-nowrap",children:"2016 - 2019"})]}),O.jsx("ul",{className:"list-disc pl-5 mt-1 text-sm space-y-1",children:O.jsx("li",{children:"Expresin corporal, improvisacin, trabajo en grupo y puesta en escena."})}),O.jsx("div",{className:"mt-2 text-xs text-[hsl(215_16%_40%)]",children:"Stack: Escnica  Improvisacin  Comunicacin  Creatividad"}),O.jsxs("div",{className:"flex justify-between mt-3",children:[O.jsx("div",{className:"font-medium mr-4",children:"Enseanzas Elementales de Msica (Piano y Lenguaje Musical) - Escuelas Municipales de Msica"}),O.jsx("div",{className:"text-xs text-[hsl(215_16%_40%)] whitespace-nowrap",children:"2006 - 2013"})]}),O.jsx("ul",{className:"list-disc pl-5 mt-1 text-sm space-y-1",children:O.jsx("li",{children:"Formacin instrumental bsica y teora musical elemental."})}),O.jsx("div",{className:"mt-2 text-xs text-[hsl(215_16%_40%)]",children:"Stack: Piano  Solfeo  Lenguaje musical  Prctica artstica"})]}),O.jsxs("div",{className:"rounded-2xl border p-4 bg-white/70",children:[O.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Habilidades"}),O.jsxs("ul",{className:"list-disc pl-5 text-sm space-y-1",children:[O.jsxs("li",{children:[O.jsx("strong",{children:"Manejo del ciclo completo del dato:"})," adquisicin, limpieza, anlisis, modelado y visualizacin."]}),O.jsxs("li",{children:[O.jsx("strong",{children:"Programacin eficiente en Python, R y SQL,"})," con control de versiones en Git en entornos colaborativos."]}),O.jsxs("li",{children:[O.jsx("strong",{children:"Procesamiento de datos a gran escala"})," con Apache Spark y bases de datos relacionales (",O.jsx("strong",{children:"PostgreSQL, MySQL"}),") y ",O.jsx("strong",{children:"NoSQL"})," (MongoDB, Cassandra)."]}),O.jsxs("li",{children:[O.jsx("strong",{children:"Desarrollo e implementacin de soluciones"})," basadas en ",O.jsx("strong",{children:"Machine Learning, Deep Learning y NLP,"})," con enfoque en validacin, trazabilidad e interpretabilidad."]}),O.jsxs("li",{children:["Uso de frameworks como ",O.jsx("strong",{children:"scikit-learn, TensorFlow, Keras, PyTorch"})," y ",O.jsx("strong",{children:"spaCy"}),"."]}),O.jsxs("li",{children:[O.jsx("strong",{children:"Visualizacin clara y orientada a negocio"})," con Tableau, Power BI y bibliotecas de Python (",O.jsx("strong",{children:"Matplotlib, Seaborn, Plotly, Streamlit"}),")."]}),O.jsxs("li",{children:[O.jsx("strong",{children:"Diseo de arquitecturas de datos"})," y desarrollo de pipelines eficientes con ",O.jsx("strong",{children:"PySpark"})," y ",O.jsx("strong",{children:"Pandas"}),"."]}),O.jsxs("li",{children:[O.jsx("strong",{children:"Manejo bsico de herramientas creativas"})," como Adobe Photoshop e Illustrator para creacin de recursos visuales e infografas."]}),O.jsxs("li",{children:[O.jsx("strong",{children:"Familiaridad con diseo UI/UX, storytelling visual"})," y tipografa digital aplicada a dashboards."]})]})]}),O.jsxs("div",{className:"rounded-2xl border p-4 bg-white/70",children:[O.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Idiomas"}),O.jsxs("ul",{className:"text-sm list-none space-y-1",children:[O.jsxs("li",{children:[O.jsx("strong",{children:"Espaol:"})," Nativo"]}),O.jsxs("li",{children:[O.jsx("strong",{children:"Ingls:"})," B2 (Cambridge)"]}),O.jsxs("li",{children:[O.jsx("strong",{children:"Francs:"})," B1 (DELF-EOI)"]})]})]}),O.jsxs("div",{className:"rounded-2xl border p-4 bg-white/70",children:[O.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Descargas"}),O.jsxs("div",{className:"flex flex-wrap gap-2",children:[O.jsxs("a",{href:"/portfolio/CV_LR.pdf",className:"inline-flex items-center gap-2 rounded-2xl border px-3 py-2 hover:bg-[hsl(214.3_31.8%_95%)]",target:"_blank",rel:"noreferrer",children:[O.jsx(_l,{className:"size-4"})," CV (PDF)"]}),O.jsxs("a",{href:"/portfolio/CV_ENG_LR.pdf",className:"inline-flex items-center gap-2 rounded-2xl border px-3 py-2 hover:bg-[hsl(214.3_31.8%_95%)]",target:"_blank",rel:"noreferrer",children:[O.jsx(_l,{className:"size-4"})," CV in English (PDF)"]}),O.jsxs("a",{href:"/portfolio/CV_mixto.pdf",className:"inline-flex items-center gap-2 rounded-2xl border px-3 py-2 hover:bg-[hsl(214.3_31.8%_95%)]",target:"_blank",rel:"noreferrer",children:[O.jsx(_l,{className:"size-4"})," CV hbrido (PDF)"]}),O.jsxs("a",{href:"/portfolio/portfolio.pdf",className:"inline-flex items-center gap-2 rounded-2xl border px-3 py-2 hover:bg-[hsl(214.3_31.8%_95%)]",target:"_blank",rel:"noreferrer",children:[O.jsx(_l,{className:"size-4"})," Portfolio Moda (PDF)"]})]})]})]}),y==="art"&&M.length>0&&O.jsx("section",{className:"max-w-6xl mx-auto px-4 pb-2",children:O.jsx("div",{ref:A,className:"border rounded-2xl px-3 py-4 bg-white overflow-hidden",children:(()=>{const L=Math.max(_-24,360),q=Math.floor(L/2),X=Math.round(q*N),tt=280,at=Math.round(tt*N);return O.jsx("div",{className:"w-full",children:O.jsxs(oC,{width:q,height:X,size:"stretch",minWidth:tt,maxWidth:q,minHeight:at,maxHeight:X,showCover:!0,usePortrait:!1,autoSize:!0,maxShadowOpacity:.15,mobileScrollSupport:!0,className:"mx-auto",style:{background:"transparent",width:"100%"},children:[O.jsx(o2,{}),v,O.jsx(l2,{})]})})})()})}),y==="tech"&&O.jsx("section",{className:"max-w-6xl mx-auto px-4 pb-2",children:O.jsxs("div",{className:"border rounded-2xl p-4 grid gap-3 md:grid-cols-[1fr_auto_auto] items-center bg-white/70",children:[O.jsxs("div",{className:"relative",children:[O.jsx(tC,{className:"absolute left-3 top-1/2 -translate-y-1/2 size-4 text-[hsl(215_16%_40%)]"}),O.jsx("input",{value:t,onChange:L=>e(L.target.value),placeholder:"Buscar por ttulo, rol o etiqueta",className:"w-full pl-9 h-10 rounded-xl border bg-white px-3 outline-none focus:ring-2 focus:ring-black/20"})]}),O.jsx("select",{value:S,onChange:L=>{w(L.target.value),D()},className:"h-10 rounded-xl border bg-white px-3","aria-label":"Categora",children:T.map(L=>O.jsx("option",{value:L,children:L},L))}),O.jsxs("select",{value:l,onChange:L=>c(L.target.value),className:"h-10 rounded-xl border bg-white px-3",children:[O.jsx("option",{value:"recent",children:"Recientes"}),O.jsx("option",{value:"az",children:"AZ"})]})]})}),y!=="home"&&O.jsx("section",{id:"projects",className:"max-w-6xl mx-auto px-4 py-6",children:O.jsx(nT,{mode:"popLayout",children:P.length===0?O.jsx("p",{className:"text-[hsl(215_16%_40%)]",children:"No se han encontrado proyectos."}):O.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-5",children:P.map(L=>O.jsx(H0.div,{layout:!0,initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:8},children:O.jsxs("article",{onClick:()=>{g(L),d(!0)},className:"group aspect-square overflow-hidden rounded-2xl border hover:shadow-xl transition-shadow cursor-pointer bg-white/70 flex flex-col",children:[O.jsx("div",{className:"relative h-[46%] overflow-hidden",children:L.image?O.jsx("img",{src:L.image,alt:L.title,className:"absolute inset-0 w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",loading:"lazy"}):O.jsx("div",{className:"absolute inset-0 grid place-items-center bg-[hsl(214.3_31.8%_91.4%)]",children:O.jsx("span",{className:"text-sm text-[hsl(215_16%_40%)]",children:"Sin imagen"})})}),O.jsxs("div",{className:"h-[55%] p-4 pb-3 grid grid-rows-[auto_auto_1fr_auto] gap-2 min-h-0",children:[O.jsx("h3",{className:`font-semibold leading-tight ${L.title.length>38?"text-base line-clamp-3":"text-lg line-clamp-2"}`,children:L.title}),O.jsxs("div",{className:"text-xs text-[hsl(215_16%_40%)] flex items-center justify-between mt-1 flex-none",children:[O.jsx("span",{className:"truncate max-w-[70%]",children:L.role}),O.jsx("span",{children:L.year})]}),O.jsx("p",{className:"mt-2 text-sm text-[hsl(215_16%_28%)] line-clamp-3 flex-none",children:L.blurb}),O.jsxs("div",{className:"flex flex-wrap gap-1.5 items-center -mb-1",children:[(L.tags||[]).map(q=>{const X=s===q;return O.jsx("button",{onClick:tt=>{tt.stopPropagation(),a(X?"Todas":q),D()},className:`rounded-2xl border px-2.5 py-0.5 text-xs ${X?"bg-black text-white":"bg-white hover:shadow"}`,children:q},q)}),typeof L.stars=="number"&&O.jsxs("span",{className:"ml-auto inline-flex items-center gap-1 text-xs text-[hsl(215_16%_40%)]",children:[O.jsx(iC,{className:"size-3"})," ",L.stars]})]})]})]})},L.id))})})}),h&&O.jsx("div",{className:"fixed inset-0 z-50 grid place-items-center bg-black/70 backdrop-blur-sm p-4",onClick:()=>d(!1),children:O.jsx("div",{className:"w-full max-w-2xl max-h-[90vh] rounded-2xl bg-white text-black shadow-xl ring-1 ring-[hsl(214.3_31.8%_91.4%)] overflow-hidden flex flex-col",onClick:L=>L.stopPropagation(),role:"dialog","aria-modal":"true","aria-labelledby":"project-title",children:f&&O.jsxs(O.Fragment,{children:[O.jsxs("div",{className:"p-4 border-b sticky top-0 bg-white z-10",children:[O.jsx("h2",{id:"project-title",className:"text-xl font-semibold",children:f.title}),O.jsxs("div",{className:"text-xs text-[hsl(215_16%_40%)] flex gap-2 mt-1",children:[O.jsx("span",{children:f.role}),O.jsx("span",{children:""}),O.jsx("span",{children:f.year})]})]}),O.jsxs("div",{className:"p-4 overflow-y-auto",children:[f.image&&O.jsx("div",{className:"rounded-xl overflow-hidden ring-1 ring-[hsl(214.3_31.8%_91.4%)]",children:O.jsx("img",{src:f.image,alt:f.title,className:"w-full h-auto object-cover",loading:"lazy"})}),O.jsx("p",{className:"mt-3 text-sm leading-relaxed",children:f.blurb}),(f.tags?.length??0)>0&&O.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:f.tags.map(L=>O.jsx("button",{onClick:()=>{d(!1),a(L),D()},className:"rounded-2xl border px-2.5 py-0.5 text-xs bg-white hover:shadow",children:L},L))}),(f.links?.length??0)>0&&O.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:f.links.map(L=>O.jsxs("a",{href:L.href,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-2xl border px-3 py-2 hover:bg-[hsl(214.3_31.8%_95%)]",children:[O.jsx(UE,{className:"size-4"}),L.label]},L.href))}),O.jsx("div",{className:"mt-6 pb-2 flex justify-end",children:O.jsx("button",{onClick:()=>d(!1),className:"rounded-2xl border px-3 py-2 hover:bg-[hsl(214.3_31.8%_95%)]",children:"Cerrar"})})]})]})})}),O.jsx("footer",{className:"mt-10 border-t",children:O.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8 flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[O.jsxs("div",{children:[O.jsx("div",{className:"font-semibold",children:"Hablamos?"}),O.jsx("div",{className:"text-sm text-[hsl(215_16%_40%)]",children:"Disponible desde las 12pm  Madrid"})]}),O.jsxs("div",{className:"flex gap-2",children:[O.jsxs("a",{href:"mailto:lauraarodriguez11@gmail.com",className:"inline-flex items-center gap-2 rounded-2xl border px-3 py-2 hover:bg-[hsl(214.3_31.8%_95%)]",children:[O.jsx(ZE,{className:"size-4"})," Email"]}),O.jsxs("a",{href:"https://www.linkedin.com/in/laurarodriguezropero",target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-2xl border px-3 py-2 hover:bg-[hsl(214.3_31.8%_95%)]",children:[O.jsx(KE,{className:"size-4"})," LinkedIn"]}),O.jsxs("a",{href:`https://github.com/${t2}`,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-2xl border px-3 py-2 hover:bg-[hsl(214.3_31.8%_95%)]",children:[O.jsx(XE,{className:"size-4"})," GitHub"]})]})]})})]})}function u2(){return O.jsx(c2,{})}s1.createRoot(document.getElementById("root")).render(O.jsx(Ps.StrictMode,{children:O.jsx(u2,{})}));
